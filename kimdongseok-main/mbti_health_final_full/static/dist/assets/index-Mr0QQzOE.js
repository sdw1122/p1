(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function oT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wd={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function rw(){if(c_)return wl;c_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return wl.Fragment=t,wl.jsx=n,wl.jsxs=n,wl}var h_;function sw(){return h_||(h_=1,Wd.exports=rw()),Wd.exports}var Z=sw(),$d={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function aw(){if(f_)return Rt;f_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,Y={};function F(D,et,ot){this.props=D,this.context=et,this.refs=Y,this.updater=ot||V}F.prototype.isReactComponent={},F.prototype.setState=function(D,et){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,et,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function X(){}X.prototype=F.prototype;function it(D,et,ot){this.props=D,this.context=et,this.refs=Y,this.updater=ot||V}var tt=it.prototype=new X;tt.constructor=it,x(tt,F.prototype),tt.isPureReactComponent=!0;var ht=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function M(D,et,ot,rt,mt,Dt){return ot=Dt.ref,{$$typeof:r,type:D,key:et,ref:ot!==void 0?ot:null,props:Dt}}function w(D,et){return M(D.type,et,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var et={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ot){return et[ot]})}var P=/\/+/g;function U(D,et){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):et.toString(36)}function C(){}function Pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(et){D.status==="pending"&&(D.status="fulfilled",D.value=et)},function(et){D.status==="pending"&&(D.status="rejected",D.reason=et)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function se(D,et,ot,rt,mt){var Dt=typeof D;(Dt==="undefined"||Dt==="boolean")&&(D=null);var At=!1;if(D===null)At=!0;else switch(Dt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(D.$$typeof){case r:case t:At=!0;break;case E:return At=D._init,se(At(D._payload),et,ot,rt,mt)}}if(At)return mt=mt(D),At=rt===""?"."+U(D,0):rt,ht(mt)?(ot="",At!=null&&(ot=At.replace(P,"$&/")+"/"),se(mt,et,ot,"",function(Kn){return Kn})):mt!=null&&(R(mt)&&(mt=w(mt,ot+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(P,"$&/")+"/")+At)),et.push(mt)),1;At=0;var Ie=rt===""?".":rt+":";if(ht(D))for(var Wt=0;Wt<D.length;Wt++)rt=D[Wt],Dt=Ie+U(rt,Wt),At+=se(rt,et,ot,Dt,mt);else if(Wt=S(D),typeof Wt=="function")for(D=Wt.call(D),Wt=0;!(rt=D.next()).done;)rt=rt.value,Dt=Ie+U(rt,Wt++),At+=se(rt,et,ot,Dt,mt);else if(Dt==="object"){if(typeof D.then=="function")return se(Pe(D),et,ot,rt,mt);throw et=String(D),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return At}function Q(D,et,ot){if(D==null)return D;var rt=[],mt=0;return se(D,rt,"","",function(Dt){return et.call(ot,Dt,mt++)}),rt}function at(D){if(D._status===-1){var et=D._result;et=et(),et.then(function(ot){(D._status===0||D._status===-1)&&(D._status=1,D._result=ot)},function(ot){(D._status===0||D._status===-1)&&(D._status=2,D._result=ot)}),D._status===-1&&(D._status=0,D._result=et)}if(D._status===1)return D._result.default;throw D._result}var dt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return Rt.Children={map:Q,forEach:function(D,et,ot){Q(D,function(){et.apply(this,arguments)},ot)},count:function(D){var et=0;return Q(D,function(){et++}),et},toArray:function(D){return Q(D,function(et){return et})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=F,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=it,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ct.H.useMemoCache(D)}},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,et,ot){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=x({},D.props),mt=D.key,Dt=void 0;if(et!=null)for(At in et.ref!==void 0&&(Dt=void 0),et.key!==void 0&&(mt=""+et.key),et)!wt.call(et,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&et.ref===void 0||(rt[At]=et[At]);var At=arguments.length-2;if(At===1)rt.children=ot;else if(1<At){for(var Ie=Array(At),Wt=0;Wt<At;Wt++)Ie[Wt]=arguments[Wt+2];rt.children=Ie}return M(D.type,mt,void 0,void 0,Dt,rt)},Rt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Rt.createElement=function(D,et,ot){var rt,mt={},Dt=null;if(et!=null)for(rt in et.key!==void 0&&(Dt=""+et.key),et)wt.call(et,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(mt[rt]=et[rt]);var At=arguments.length-2;if(At===1)mt.children=ot;else if(1<At){for(var Ie=Array(At),Wt=0;Wt<At;Wt++)Ie[Wt]=arguments[Wt+2];mt.children=Ie}if(D&&D.defaultProps)for(rt in At=D.defaultProps,At)mt[rt]===void 0&&(mt[rt]=At[rt]);return M(D,Dt,void 0,void 0,null,mt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:m,render:D}},Rt.isValidElement=R,Rt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:at}},Rt.memo=function(D,et){return{$$typeof:g,type:D,compare:et===void 0?null:et}},Rt.startTransition=function(D){var et=ct.T,ot={};ct.T=ot;try{var rt=D(),mt=ct.S;mt!==null&&mt(ot,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(zt,dt)}catch(Dt){dt(Dt)}finally{ct.T=et}},Rt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Rt.use=function(D){return ct.H.use(D)},Rt.useActionState=function(D,et,ot){return ct.H.useActionState(D,et,ot)},Rt.useCallback=function(D,et){return ct.H.useCallback(D,et)},Rt.useContext=function(D){return ct.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,et){return ct.H.useDeferredValue(D,et)},Rt.useEffect=function(D,et,ot){var rt=ct.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(D,et)},Rt.useId=function(){return ct.H.useId()},Rt.useImperativeHandle=function(D,et,ot){return ct.H.useImperativeHandle(D,et,ot)},Rt.useInsertionEffect=function(D,et){return ct.H.useInsertionEffect(D,et)},Rt.useLayoutEffect=function(D,et){return ct.H.useLayoutEffect(D,et)},Rt.useMemo=function(D,et){return ct.H.useMemo(D,et)},Rt.useOptimistic=function(D,et){return ct.H.useOptimistic(D,et)},Rt.useReducer=function(D,et,ot){return ct.H.useReducer(D,et,ot)},Rt.useRef=function(D){return ct.H.useRef(D)},Rt.useState=function(D){return ct.H.useState(D)},Rt.useSyncExternalStore=function(D,et,ot){return ct.H.useSyncExternalStore(D,et,ot)},Rt.useTransition=function(){return ct.H.useTransition()},Rt.version="19.1.0",Rt}var d_;function Xm(){return d_||(d_=1,$d.exports=aw()),$d.exports}var G=Xm();const ow=oT(G);var tm={exports:{}},Rl={},em={exports:{}},nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function lw(){return m_||(m_=1,function(r){function t(Q,at){var dt=Q.length;Q.push(at);t:for(;0<dt;){var zt=dt-1>>>1,D=Q[zt];if(0<o(D,at))Q[zt]=at,Q[dt]=D,dt=zt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var at=Q[0],dt=Q.pop();if(dt!==at){Q[0]=dt;t:for(var zt=0,D=Q.length,et=D>>>1;zt<et;){var ot=2*(zt+1)-1,rt=Q[ot],mt=ot+1,Dt=Q[mt];if(0>o(rt,dt))mt<D&&0>o(Dt,rt)?(Q[zt]=Dt,Q[mt]=dt,zt=mt):(Q[zt]=rt,Q[ot]=dt,zt=ot);else if(mt<D&&0>o(Dt,dt))Q[zt]=Dt,Q[mt]=dt,zt=mt;else break t}}return at}function o(Q,at){var dt=Q.sortIndex-at.sortIndex;return dt!==0?dt:Q.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,b=null,S=3,V=!1,x=!1,Y=!1,F=!1,X=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function ht(Q){for(var at=n(g);at!==null;){if(at.callback===null)s(g);else if(at.startTime<=Q)s(g),at.sortIndex=at.expirationTime,t(p,at);else break;at=n(g)}}function ct(Q){if(Y=!1,ht(Q),!x)if(n(p)!==null)x=!0,wt||(wt=!0,U());else{var at=n(g);at!==null&&se(ct,at.startTime-Q)}}var wt=!1,M=-1,w=5,R=-1;function O(){return F?!0:!(r.unstable_now()-R<w)}function P(){if(F=!1,wt){var Q=r.unstable_now();R=Q;var at=!0;try{t:{x=!1,Y&&(Y=!1,it(M),M=-1),V=!0;var dt=S;try{e:{for(ht(Q),b=n(p);b!==null&&!(b.expirationTime>Q&&O());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,S=b.priorityLevel;var D=zt(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof D=="function"){b.callback=D,ht(Q),at=!0;break e}b===n(p)&&s(p),ht(Q)}else s(p);b=n(p)}if(b!==null)at=!0;else{var et=n(g);et!==null&&se(ct,et.startTime-Q),at=!1}}break t}finally{b=null,S=dt,V=!1}at=void 0}}finally{at?U():wt=!1}}}var U;if(typeof tt=="function")U=function(){tt(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Pe=C.port2;C.port1.onmessage=P,U=function(){Pe.postMessage(null)}}else U=function(){X(P,0)};function se(Q,at){M=X(function(){Q(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var at=3;break;default:at=S}var dt=S;S=at;try{return Q()}finally{S=dt}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=S;S=Q;try{return at()}finally{S=dt}},r.unstable_scheduleCallback=function(Q,at,dt){var zt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=dt+D,Q={id:E++,callback:at,priorityLevel:Q,startTime:dt,expirationTime:D,sortIndex:-1},dt>zt?(Q.sortIndex=dt,t(g,Q),n(p)===null&&Q===n(g)&&(Y?(it(M),M=-1):Y=!0,se(ct,dt-zt))):(Q.sortIndex=D,t(p,Q),x||V||(x=!0,wt||(wt=!0,U()))),Q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Q){var at=S;return function(){var dt=S;S=at;try{return Q.apply(this,arguments)}finally{S=dt}}}}(nm)),nm}var p_;function uw(){return p_||(p_=1,em.exports=lw()),em.exports}var im={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function cw(){if(g_)return Ge;g_=1;var r=Xm();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Ge.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Ge.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ge.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ge.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ge.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,g){return p(g)},Ge.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var y_;function hw(){if(y_)return im.exports;y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),im.exports=cw(),im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function fw(){if(v_)return Rl;v_=1;var r=uw(),t=Xm(),n=hw();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case F:return"Profiler";case Y:return"StrictMode";case ct:return"Suspense";case wt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case tt:return(e.displayName||"Context")+".Provider";case it:return(e._context.displayName||"Context")+".Consumer";case ht:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:Pe(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return Pe(e(i))}catch{}}return null}var se=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function et(e){return{current:e}}function ot(e){0>D||(e.current=zt[D],zt[D]=null,D--)}function rt(e,i){D++,zt[D]=e.current,e.current=i}var mt=et(null),Dt=et(null),At=et(null),Ie=et(null);function Wt(e,i){switch(rt(At,i),rt(Dt,e),rt(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Lv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Lv(i),e=Bv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(mt),rt(mt,e)}function Kn(){ot(mt),ot(Dt),ot(At)}function rr(e){e.memoizedState!==null&&rt(Ie,e);var i=mt.current,a=Bv(i,e.type);i!==a&&(rt(Dt,e),rt(mt,a))}function Ti(e){Dt.current===e&&(ot(mt),ot(Dt)),Ie.current===e&&(ot(Ie),El._currentValue=dt)}var ts=Object.prototype.hasOwnProperty,es=r.unstable_scheduleCallback,ns=r.unstable_cancelCallback,yo=r.unstable_shouldYield,hu=r.unstable_requestPaint,Tn=r.unstable_now,Zh=r.unstable_getCurrentPriorityLevel,vo=r.unstable_ImmediatePriority,$s=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,Wh=r.unstable_LowPriority,ta=r.unstable_IdlePriority,_o=r.log,fu=r.unstable_setDisableYieldValue,ae=null,Ht=null;function ln(e){if(typeof _o=="function"&&fu(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,e)}catch{}}var Fe=Math.clz32?Math.clz32:rs,du=Math.log,$h=Math.LN2;function rs(e){return e>>>=0,e===0?32:31-(du(e)/$h|0)|0}var ss=256,as=4194304;function kn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ea(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=kn(l):(_&=T,_!==0?h=kn(_):a||(a=T&~e,a!==0&&(h=kn(a))))):(T=l&~d,T!==0?h=kn(T):_!==0?h=kn(_):a||(a=l&~e,a!==0&&(h=kn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function os(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Eo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function To(){var e=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),e}function Ao(){var e=as;return as<<=1,(as&62914560)===0&&(as=4194304),e}function Ai(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Si(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function So(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-Fe(a),W=1<<K;T[K]=0,I[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var q=j[K];q!==null&&(q.lane&=-536870913)}a&=~W}l!==0&&Yn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Yn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function bo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function na(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ar(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:r_(e.type))}function mu(e,i){var a=at.p;try{return at.p=e,i()}finally{at.p=a}}var te=Math.random().toString(36).slice(2),_e="__reactFiber$"+te,me="__reactProps$"+te,An="__reactContainer$"+te,wo="__reactEvents$"+te,tf="__reactListeners$"+te,or="__reactHandles$"+te,pu="__reactResources$"+te,ls="__reactMarker$"+te;function lr(e){delete e[_e],delete e[me],delete e[wo],delete e[tf],delete e[or]}function bi(e){var i=e[_e];if(i)return i;for(var a=e.parentNode;a;){if(i=a[An]||a[_e]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Fv(e);e!==null;){if(a=e[_e])return a;e=Fv(e)}return i}e=a,a=e.parentNode}return null}function Xn(e){if(e=e[_e]||e[An]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ze(e){var i=e[pu];return i||(i=e[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ce(e){e[ls]=!0}var Ro=new Set,ia={};function Un(e,i){wi(e,i),wi(e+"Capture",i)}function wi(e,i){for(ia[e]=i,e=0;e<i.length;e++)Ro.add(i[e])}var gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},us={};function vu(e){return ts.call(us,e)?!0:ts.call(yu,e)?!1:gu.test(e)?us[e]=!0:(yu[e]=!0,!1)}function ur(e,i,a){if(vu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Zn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function xe(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var cs,_u;function Ri(e){if(cs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);cs=i&&i[1]||"",_u=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+e+_u}var ra=!1;function sa(e,i){if(!e||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(q){var j=q}Reflect.construct(e,[],W)}else{try{W.call()}catch(q){j=q}e.call(W.prototype)}}else{try{throw Error()}catch(q){j=q}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var K=`
`+I[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ri(a):""}function Io(e){switch(e.tag){case 26:case 27:case 5:return Ri(e.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return sa(e.type,!1);case 11:return sa(e.type.render,!1);case 1:return sa(e.type,!0);case 31:return Ri("Activity");default:return""}}function aa(e){try{var i="";do i+=Io(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Co(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ef(e){var i=Co(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function oa(e){e._valueTracker||(e._valueTracker=ef(e))}function Do(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Co(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nf=/[\n"\\]/g;function pe(e){return e.replace(nf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function un(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?cr(e,_,We(i)):a!=null?cr(e,_,We(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+We(T):e.removeAttribute("name")}function fs(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+We(a):"",i=i!=null?""+We(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function cr(e,i,a){i==="number"&&hs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ii(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+We(a):""}function ds(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=We(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||ms.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Oo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Eu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Eu(e,d,i[d])}function No(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return sf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ci=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,Oi=null;function Mo(e){var i=Xn(e);if(i&&(e=i.stateNode)){var a=e[me]||null;t:switch(e=i.stateNode,i.type){case"input":if(un(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pe(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[me]||null;if(!h)throw Error(s(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Do(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ii(e,!!a.multiple,i,!1)}}}var Wn=!1;function Tu(e,i,a){if(Wn)return e(i,a);Wn=!0;try{var l=e(i);return l}finally{if(Wn=!1,(Di!==null||Oi!==null)&&(mc(),Di&&(i=Di,e=Oi,Oi=Di=null,Mo(i),e)))for(i=0;i<e.length;i++)Mo(e[i])}}function ps(e,i){var a=e.stateNode;if(a===null)return null;var l=a[me]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wn=!1;if(Ln)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){wn=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{wn=!1}var $n=null,hr=null,Ni=null;function Vo(){if(Ni)return Ni;var e,i=hr,a=i.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ni=h.slice(e,1<l?1-l:void 0)}function ti(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ei(){return!0}function Po(){return!1}function Ce(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ei:Po,this.isPropagationStopped=Po,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Ce(qt),ys=E({},qt,{view:0,detail:0}),Au=Ce(ys),ca,ha,ni,vs=E({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(ca=e.screenX-ni.screenX,ha=e.screenY-ni.screenY):ha=ca=0,ni=e),ca)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Rn=Ce(vs),Su=E({},vs,{dataTransfer:0}),af=Ce(Su),_s=E({},ys,{relatedTarget:0}),fa=Ce(_s),xo=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),da=Ce(xo),bu=E({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ma=Ce(bu),of=E({},qt,{data:0}),ko=Ce(of),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ru[e])?!!i[e]:!1}function Ts(){return Uo}var Iu=E({},ys,{key:function(e){if(e.key){var i=Es[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pa=Ce(Iu),Cu=E({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lo=Ce(Cu),Mi=E({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Du=Ce(Mi),Ou=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=Ce(Ou),Mu=E({},vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=Ce(Mu),$e=E({},qt,{newState:0,oldState:0}),Vu=Ce($e),Pu=[9,13,27,32],ii=Ln&&"CompositionEvent"in window,c=null;Ln&&"documentMode"in document&&(c=document.documentMode);var y=Ln&&"TextEvent"in window&&!c,v=Ln&&(!ii||c&&8<c&&11>=c),A=" ",L=!1;function H(e,i){switch(e){case"keyup":return Pu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function Ee(e,i){switch(e){case"compositionend":return st(i);case"keypress":return i.which!==32?null:(L=!0,A);case"textInput":return e=i.data,e===A&&L?null:e;default:return null}}function kt(e,i){if(xt)return e==="compositionend"||!ii&&H(e,i)?(e=Vo(),Ni=hr=$n=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Vi(e,i,a,l){Di?Oi?Oi.push(l):Oi=[l]:Di=l,i=Ec(i,"onChange"),0<i.length&&(a=new ua("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var ke=null,ri=null;function Bo(e){Vv(e,0)}function xu(e){var i=Jn(e);if(Do(i))return e}function tg(e,i){if(e==="change")return i}var eg=!1;if(Ln){var lf;if(Ln){var uf="oninput"in document;if(!uf){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),uf=typeof ng.oninput=="function"}lf=uf}else lf=!1;eg=lf&&(!document.documentMode||9<document.documentMode)}function ig(){ke&&(ke.detachEvent("onpropertychange",rg),ri=ke=null)}function rg(e){if(e.propertyName==="value"&&xu(ri)){var i=[];Vi(i,ri,e,bn(e)),Tu(Bo,i)}}function PS(e,i,a){e==="focusin"?(ig(),ke=i,ri=a,ke.attachEvent("onpropertychange",rg)):e==="focusout"&&ig()}function xS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xu(ri)}function kS(e,i){if(e==="click")return xu(i)}function US(e,i){if(e==="input"||e==="change")return xu(i)}function LS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var cn=typeof Object.is=="function"?Object.is:LS;function zo(e,i){if(cn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ts.call(i,h)||!cn(e[h],i[h]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,i){var a=sg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=sg(a)}}function og(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?og(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=hs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=hs(e.document)}return i}function cf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var BS=Ln&&"documentMode"in document&&11>=document.documentMode,ya=null,hf=null,jo=null,ff=!1;function ug(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ff||ya==null||ya!==hs(l)||(l=ya,"selectionStart"in l&&cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jo&&zo(jo,l)||(jo=l,l=Ec(hf,"onSelect"),0<l.length&&(i=new ua("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ya)))}function As(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var va={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},df={},cg={};Ln&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Ss(e){if(df[e])return df[e];if(!va[e])return e;var i=va[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in cg)return df[e]=i[a];return e}var hg=Ss("animationend"),fg=Ss("animationiteration"),dg=Ss("animationstart"),zS=Ss("transitionrun"),jS=Ss("transitionstart"),qS=Ss("transitioncancel"),mg=Ss("transitionend"),pg=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function Bn(e,i){pg.set(e,i),Un(i,[e])}var gg=new WeakMap;function In(e,i){if(typeof e=="object"&&e!==null){var a=gg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:aa(i)},gg.set(e,i),i)}return{value:e,source:i,stack:aa(i)}}var Cn=[],_a=0,pf=0;function ku(){for(var e=_a,i=pf=_a=0;i<e;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&yg(a,h,d)}}function Uu(e,i,a,l){Cn[_a++]=e,Cn[_a++]=i,Cn[_a++]=a,Cn[_a++]=l,pf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function gf(e,i,a,l){return Uu(e,i,a,l),Lu(e)}function Ea(e,i){return Uu(e,null,null,i),Lu(e)}function yg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Fe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Lu(e){if(50<fl)throw fl=0,Ad=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ta={};function FS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,i,a,l){return new FS(e,i,a,l)}function yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,i){var a=e.alternate;return a===null?(a=hn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Bu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")yf(e)&&(_=1);else if(typeof e=="string")_=Gb(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=hn(31,a,i,h),e.elementType=R,e.lanes=d,e;case x:return bs(a.children,h,d,i);case Y:_=8,h|=24;break;case F:return e=hn(12,a,i,h|2),e.elementType=F,e.lanes=d,e;case ct:return e=hn(13,a,i,h),e.elementType=ct,e.lanes=d,e;case wt:return e=hn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:case tt:_=10;break t;case it:_=9;break t;case ht:_=11;break t;case M:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=hn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function bs(e,i,a,l){return e=hn(7,e,l,i),e.lanes=a,e}function vf(e,i,a){return e=hn(6,e,null,i),e.lanes=a,e}function _f(e,i,a){return i=hn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Aa=[],Sa=0,zu=null,ju=0,Dn=[],On=0,ws=null,xi=1,ki="";function Rs(e,i){Aa[Sa++]=ju,Aa[Sa++]=zu,zu=e,ju=i}function _g(e,i,a){Dn[On++]=xi,Dn[On++]=ki,Dn[On++]=ws,ws=e;var l=xi;e=ki;var h=32-Fe(l)-1;l&=~(1<<h),a+=1;var d=32-Fe(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,xi=1<<32-Fe(i)+h|a<<h|l,ki=d+e}else xi=1<<d|a<<h|l,ki=e}function Ef(e){e.return!==null&&(Rs(e,1),_g(e,1,0))}function Tf(e){for(;e===zu;)zu=Aa[--Sa],Aa[Sa]=null,ju=Aa[--Sa],Aa[Sa]=null;for(;e===ws;)ws=Dn[--On],Dn[On]=null,ki=Dn[--On],Dn[On]=null,xi=Dn[--On],Dn[On]=null}var tn=null,oe=null,jt=!1,Is=null,si=!1,Af=Error(s(519));function Cs(e){var i=Error(s(418,""));throw Ho(In(i,e)),Af}function Eg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[_e]=e,i[me]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)Mt(ml[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),fs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),oa(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),ds(i,l.value,l.defaultValue,l.children),oa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Uv(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=Tc),i=!0):i=!1,i||Cs(e)}function Tg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:si=!1;return;case 27:case 3:si=!0;return;default:tn=tn.return}}function qo(e){if(e!==tn)return!1;if(!jt)return Tg(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ld(e.type,e.memoizedProps)),a=!a),a&&oe&&Cs(e),Tg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){oe=jn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}oe=null}}else i===27?(i=oe,Ir(e.type)?(e=qd,qd=null,oe=e):oe=i):oe=tn?jn(e.stateNode.nextSibling):null;return!0}function Fo(){oe=tn=null,jt=!1}function Ag(){var e=Is;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),Is=null),e}function Ho(e){Is===null?Is=[e]:Is.push(e)}var Sf=et(null),Ds=null,Ui=null;function fr(e,i,a){rt(Sf,i._currentValue),i._currentValue=a}function Li(e){e._currentValue=Sf.current,ot(Sf)}function bf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function wf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),bf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),bf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Go(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;cn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ie.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&wf(i,e,a,l),i.flags|=262144}function qu(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Os(e){Ds=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Sg(Ds,e)}function Fu(e,i){return Ds===null&&Os(e),Sg(e,i)}function Sg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ui===null){if(e===null)throw Error(s(308));Ui=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ui=Ui.next=i;return a}var HS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},GS=r.unstable_scheduleCallback,QS=r.unstable_NormalPriority,Ae={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new HS,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&GS(QS,function(){e.controller.abort()})}var Ko=null,If=0,ba=0,wa=null;function KS(e,i){if(Ko===null){var a=Ko=[];If=0,ba=Dd(),wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return If++,i.then(bg,bg),i}function bg(){if(--If===0&&Ko!==null){wa!==null&&(wa.status="fulfilled");var e=Ko;Ko=null,ba=0,wa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function YS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var wg=Q.S;Q.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&KS(e,i),wg!==null&&wg(e,i)};var Ns=et(null);function Cf(){var e=Ns.current;return e!==null?e:$t.pooledCache}function Hu(e,i){i===null?rt(Ns,Ns.current):rt(Ns,i.pool)}function Rg(){var e=Cf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Yo=Error(s(460)),Ig=Error(s(474)),Gu=Error(s(542)),Df={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qu(){}function Dg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Qu,Qu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ng(e),e;default:if(typeof i.status=="string")i.then(Qu,Qu);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ng(e),e}throw Xo=i,Yo}}var Xo=null;function Og(){if(Xo===null)throw Error(s(459));var e=Xo;return Xo=null,e}function Ng(e){if(e===Yo||e===Gu)throw Error(s(483))}var dr=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function mr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Lu(e),yg(e,null,a),i}return Uu(e,l,i,a),Lu(e)}function Jo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,bo(e,a)}}function Mf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Vf=!1;function Zo(){if(Vf){var e=wa;if(e!==null)throw e}}function Wo(e,i,a,l){Vf=!1;var h=e.updateQueue;dr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,_===null?d=z:_.next=z,_=I;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=I))}if(d!==null){var W=h.baseState;_=0,K=z=I=null,T=d;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Ut&j)===j:(l&j)===j){j!==0&&j===ba&&(Vf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=e,gt=T;j=i;var Jt=a;switch(gt.tag){case 1:if(Et=gt.payload,typeof Et=="function"){W=Et.call(Jt,W,j);break t}W=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=gt.payload,j=typeof Et=="function"?Et.call(Jt,W,j):Et,j==null)break t;W=E({},W,j);break t;case 2:dr=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=q,I=W):K=K.next=q,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);K===null&&(I=W),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Sr|=_,e.lanes=_,e.memoizedState=W}}function Mg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Vg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Mg(a[e],i)}var Ra=et(null),Ku=et(0);function Pg(e,i){e=Gi,rt(Ku,e),rt(Ra,i),Gi=e|i.baseLanes}function Pf(){rt(Ku,Gi),rt(Ra,Ra.current)}function xf(){Gi=Ku.current,ot(Ra),ot(Ku)}var gr=0,It=null,Yt=null,ge=null,Yu=!1,Ia=!1,Ms=!1,Xu=0,$o=0,Ca=null,XS=0;function he(){throw Error(s(321))}function kf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!cn(e[a],i[a]))return!1;return!0}function Uf(e,i,a,l,h,d){return gr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?yy:vy,Ms=!1,d=a(l,h),Ms=!1,Ia&&(d=kg(i,a,l,h)),xg(e),d}function xg(e){Q.H=ec;var i=Yt!==null&&Yt.next!==null;if(gr=0,ge=Yt=It=null,Yu=!1,$o=0,Ca=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&qu(e)&&(Oe=!0))}function kg(e,i,a,l){It=e;var h=0;do{if(Ia&&(Ca=null),$o=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,ge=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=nb,d=i(a,l)}while(Ia);return d}function JS(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?tl(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(It.flags|=1024),i}function Lf(){var e=Xu!==0;return Xu=0,e}function Bf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function zf(e){if(Yu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Yu=!1}gr=0,ge=Yt=It=null,Ia=!1,$o=Xu=0,Ca=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?It.memoizedState=ge=e:ge=ge.next=e,ge}function ye(){if(Yt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=ge===null?It.memoizedState:ge.next;if(i!==null)ge=i,Yt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?It.memoizedState=ge=e:ge=ge.next=e}return ge}function jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var i=$o;return $o+=1,Ca===null&&(Ca=[]),e=Dg(Ca,e,i),i=It,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?yy:vy),e}function Ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===tt)return He(e)}throw Error(s(438,String(e)))}function qf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=jf(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Bi(e,i){return typeof i=="function"?i(e):i}function Zu(e){var i=ye();return Ff(i,Yt,e)}function Ff(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,I=null,z=i,K=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Ut&W)===W:(gr&W)===W){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===ba&&(K=!0);else if((gr&j)===j){z=z.next,j===ba&&(K=!0);continue}else W={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=W,_=d):I=I.next=W,It.lanes|=j,Sr|=j;W=z.action,Ms&&a(d,W),d=z.hasEagerState?z.eagerState:a(d,W)}else j={lane:W,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=j,_=d):I=I.next=j,It.lanes|=W,Sr|=W;z=z.next}while(z!==null&&z!==i);if(I===null?_=d:I.next=T,!cn(d,e.memoizedState)&&(Oe=!0,K&&(a=wa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Hf(e){var i=ye(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);cn(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ug(e,i,a){var l=It,h=ye(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!cn((Yt||h).memoizedState,a);_&&(h.memoizedState=a,Oe=!0),h=h.queue;var T=zg.bind(null,l,h,e);if(el(2048,8,T,[e]),h.getSnapshot!==i||_||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Da(9,Wu(),Bg.bind(null,l,h,a,i),null),$t===null)throw Error(s(349));d||(gr&124)!==0||Lg(l,i,a)}return a}function Lg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=jf(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Bg(e,i,a,l){i.value=a,i.getSnapshot=l,jg(i)&&qg(e)}function zg(e,i,a){return a(function(){jg(i)&&qg(e)})}function jg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!cn(e,a)}catch{return!0}}function qg(e){var i=Ea(e,2);i!==null&&gn(i,e,2)}function Gf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Ms){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},i}function Fg(e,i,a,l){return e.baseState=a,Ff(e,Yt,typeof l=="function"?l:Bi)}function ZS(e,i,a,l,h){if(tc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Hg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Hg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var T=a(h,l),I=Q.S;I!==null&&I(_,T),Gg(e,i,T)}catch(z){Qf(e,i,z)}finally{Q.T=d}}else try{d=a(h,l),Gg(e,i,d)}catch(z){Qf(e,i,z)}}function Gg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qg(e,i,l)},function(l){return Qf(e,i,l)}):Qg(e,i,a)}function Qg(e,i,a){i.status="fulfilled",i.value=a,Kg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Hg(e,a)))}function Qf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Kg(i),i=i.next;while(i!==l)}e.action=null}function Kg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Yg(e,i){return i}function Xg(e,i){if(jt){var a=$t.formState;if(a!==null){t:{var l=It;if(jt){if(oe){e:{for(var h=oe,d=si;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){oe=jn(h.nextSibling),l=h.data==="F!";break t}}Cs(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:i},a.queue=l,a=my.bind(null,It,l),l.dispatch=a,l=Gf(!1),d=Zf.bind(null,It,!1,l.queue),l=en(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=ZS.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Jg(e){var i=ye();return Zg(i,Yt,e)}function Zg(e,i,a){if(i=Ff(e,i,Yg)[0],e=Zu(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tl(i)}catch(_){throw _===Yo?Gu:_}else l=i;i=ye();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Da(9,Wu(),WS.bind(null,h,a),null)),[l,d,e]}function WS(e,i){e.action=i}function Wg(e){var i=ye(),a=Yt;if(a!==null)return Zg(i,a,e);ye(),i=i.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Da(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=jf(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Wu(){return{destroy:void 0,resource:void 0}}function $g(){return ye().memoizedState}function $u(e,i,a,l){var h=en();l=l===void 0?null:l,It.flags|=e,h.memoizedState=Da(1|i,Wu(),a,l)}function el(e,i,a,l){var h=ye();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&kf(l,Yt.memoizedState.deps)?h.memoizedState=Da(i,d,a,l):(It.flags|=e,h.memoizedState=Da(1|i,d,a,l))}function ty(e,i){$u(8390656,8,e,i)}function ey(e,i){el(2048,8,e,i)}function ny(e,i){return el(4,2,e,i)}function iy(e,i){return el(4,4,e,i)}function ry(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function sy(e,i,a){a=a!=null?a.concat([e]):null,el(4,4,ry.bind(null,i,e),a)}function Kf(){}function ay(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&kf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function oy(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&kf(i,l[1]))return l[0];if(l=e(),Ms){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,i],l}function Yf(e,i,a){return a===void 0||(gr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=cv(),It.lanes|=e,Sr|=e,a)}function ly(e,i,a,l){return cn(a,i)?a:Ra.current!==null?(e=Yf(e,a,l),cn(e,i)||(Oe=!0),e):(gr&42)===0?(Oe=!0,e.memoizedState=a):(e=cv(),It.lanes|=e,Sr|=e,i)}function uy(e,i,a,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,Zf(e,!1,i,a);try{var I=h(),z=Q.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=YS(I,l);nl(e,i,K,pn(e))}else nl(e,i,l,pn(e))}catch(W){nl(e,i,{then:function(){},status:"rejected",reason:W},pn())}finally{at.p=d,Q.T=_}}function $S(){}function Xf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=cy(e).queue;uy(e,h,i,dt,a===null?$S:function(){return hy(e),a(l)})}function cy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function hy(e){var i=cy(e).next.queue;nl(e,i,{},pn())}function Jf(){return He(El)}function fy(){return ye().memoizedState}function dy(){return ye().memoizedState}function tb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();e=mr(a);var l=pr(i,e,a);l!==null&&(gn(l,i,a),Jo(l,i,a)),i={cache:Rf()},e.payload=i;return}i=i.return}}function eb(e,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},tc(e)?py(i,a):(a=gf(e,i,a,l),a!==null&&(gn(a,e,l),gy(a,i,l)))}function my(e,i,a){var l=pn();nl(e,i,a,l)}function nl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(e))py(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,cn(T,_))return Uu(e,i,h,0),$t===null&&ku(),!1}catch{}finally{}if(a=gf(e,i,h,l),a!==null)return gn(a,e,l),gy(a,i,l),!0}return!1}function Zf(e,i,a,l){if(l={lane:2,revertLane:Dd(),action:l,hasEagerState:!1,eagerState:null,next:null},tc(e)){if(i)throw Error(s(479))}else i=gf(e,a,l,2),i!==null&&gn(i,e,2)}function tc(e){var i=e.alternate;return e===It||i!==null&&i===It}function py(e,i){Ia=Yu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function gy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,bo(e,a)}}var ec={readContext:He,use:Ju,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},yy={readContext:He,use:Ju,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:ty,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,$u(4194308,4,ry.bind(null,i,e),a)},useLayoutEffect:function(e,i){return $u(4194308,4,e,i)},useInsertionEffect:function(e,i){$u(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var l=e();if(Ms){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=en();if(a!==void 0){var h=a(i);if(Ms){ln(!0);try{a(i)}finally{ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=eb.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Gf(e);var i=e.queue,a=my.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Kf,useDeferredValue:function(e,i){var a=en();return Yf(a,e,i)},useTransition:function(){var e=Gf(!1);return e=uy.bind(null,It,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=en();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),$t===null)throw Error(s(349));(Ut&124)!==0||Lg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ty(zg.bind(null,l,d,e),[e]),l.flags|=2048,Da(9,Wu(),Bg.bind(null,l,d,a,i),null),a},useId:function(){var e=en(),i=$t.identifierPrefix;if(jt){var a=ki,l=xi;a=(l&~(1<<32-Fe(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Xu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=XS++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Jf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Zf.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:qf,useCacheRefresh:function(){return en().memoizedState=tb.bind(null,It)}},vy={readContext:He,use:Ju,useCallback:ay,useContext:He,useEffect:ey,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:iy,useMemo:oy,useReducer:Zu,useRef:$g,useState:function(){return Zu(Bi)},useDebugValue:Kf,useDeferredValue:function(e,i){var a=ye();return ly(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Zu(Bi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:Ug,useId:fy,useHostTransitionStatus:Jf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,i){var a=ye();return Fg(a,Yt,e,i)},useMemoCache:qf,useCacheRefresh:dy},nb={readContext:He,use:Ju,useCallback:ay,useContext:He,useEffect:ey,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:iy,useMemo:oy,useReducer:Hf,useRef:$g,useState:function(){return Hf(Bi)},useDebugValue:Kf,useDeferredValue:function(e,i){var a=ye();return Yt===null?Yf(a,e,i):ly(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Hf(Bi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:Ug,useId:fy,useHostTransitionStatus:Jf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,i){var a=ye();return Yt!==null?Fg(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:qf,useCacheRefresh:dy},Oa=null,il=0;function nc(e){var i=il;return il+=1,Oa===null&&(Oa=[]),Dg(Oa,e,i)}function rl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ic(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function _y(e){var i=e._init;return i(e._payload)}function Ey(e){function i(k,N){if(e){var B=k.deletions;B===null?(k.deletions=[N],k.flags|=16):B.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Pi(k,N),k.index=0,k.sibling=null,k}function d(k,N,B){return k.index=B,e?(B=k.alternate,B!==null?(B=B.index,B<N?(k.flags|=67108866,N):B):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,N,B,J){return N===null||N.tag!==6?(N=vf(B,k.mode,J),N.return=k,N):(N=h(N,B),N.return=k,N)}function I(k,N,B,J){var ut=B.type;return ut===x?K(k,N,B.props.children,J,B.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&_y(ut)===N.type)?(N=h(N,B.props),rl(N,B),N.return=k,N):(N=Bu(B.type,B.key,B.props,null,k.mode,J),rl(N,B),N.return=k,N)}function z(k,N,B,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=_f(B,k.mode,J),N.return=k,N):(N=h(N,B.children||[]),N.return=k,N)}function K(k,N,B,J,ut){return N===null||N.tag!==7?(N=bs(B,k.mode,J,ut),N.return=k,N):(N=h(N,B),N.return=k,N)}function W(k,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=vf(""+N,k.mode,B),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return B=Bu(N.type,N.key,N.props,null,k.mode,B),rl(B,N),B.return=k,B;case V:return N=_f(N,k.mode,B),N.return=k,N;case w:var J=N._init;return N=J(N._payload),W(k,N,B)}if(se(N)||U(N))return N=bs(N,k.mode,B,null),N.return=k,N;if(typeof N.then=="function")return W(k,nc(N),B);if(N.$$typeof===tt)return W(k,Fu(k,N),B);ic(k,N)}return null}function j(k,N,B,J){var ut=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ut!==null?null:T(k,N,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===ut?I(k,N,B,J):null;case V:return B.key===ut?z(k,N,B,J):null;case w:return ut=B._init,B=ut(B._payload),j(k,N,B,J)}if(se(B)||U(B))return ut!==null?null:K(k,N,B,J,null);if(typeof B.then=="function")return j(k,N,nc(B),J);if(B.$$typeof===tt)return j(k,N,Fu(k,B),J);ic(k,B)}return null}function q(k,N,B,J,ut){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(B)||null,T(N,k,""+J,ut);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return k=k.get(J.key===null?B:J.key)||null,I(N,k,J,ut);case V:return k=k.get(J.key===null?B:J.key)||null,z(N,k,J,ut);case w:var Ot=J._init;return J=Ot(J._payload),q(k,N,B,J,ut)}if(se(J)||U(J))return k=k.get(B)||null,K(N,k,J,ut,null);if(typeof J.then=="function")return q(k,N,B,nc(J),ut);if(J.$$typeof===tt)return q(k,N,B,Fu(N,J),ut);ic(N,J)}return null}function Et(k,N,B,J){for(var ut=null,Ot=null,ft=N,vt=N=0,Me=null;ft!==null&&vt<B.length;vt++){ft.index>vt?(Me=ft,ft=null):Me=ft.sibling;var Bt=j(k,ft,B[vt],J);if(Bt===null){ft===null&&(ft=Me);break}e&&ft&&Bt.alternate===null&&i(k,ft),N=d(Bt,N,vt),Ot===null?ut=Bt:Ot.sibling=Bt,Ot=Bt,ft=Me}if(vt===B.length)return a(k,ft),jt&&Rs(k,vt),ut;if(ft===null){for(;vt<B.length;vt++)ft=W(k,B[vt],J),ft!==null&&(N=d(ft,N,vt),Ot===null?ut=ft:Ot.sibling=ft,Ot=ft);return jt&&Rs(k,vt),ut}for(ft=l(ft);vt<B.length;vt++)Me=q(ft,k,vt,B[vt],J),Me!==null&&(e&&Me.alternate!==null&&ft.delete(Me.key===null?vt:Me.key),N=d(Me,N,vt),Ot===null?ut=Me:Ot.sibling=Me,Ot=Me);return e&&ft.forEach(function(Mr){return i(k,Mr)}),jt&&Rs(k,vt),ut}function gt(k,N,B,J){if(B==null)throw Error(s(151));for(var ut=null,Ot=null,ft=N,vt=N=0,Me=null,Bt=B.next();ft!==null&&!Bt.done;vt++,Bt=B.next()){ft.index>vt?(Me=ft,ft=null):Me=ft.sibling;var Mr=j(k,ft,Bt.value,J);if(Mr===null){ft===null&&(ft=Me);break}e&&ft&&Mr.alternate===null&&i(k,ft),N=d(Mr,N,vt),Ot===null?ut=Mr:Ot.sibling=Mr,Ot=Mr,ft=Me}if(Bt.done)return a(k,ft),jt&&Rs(k,vt),ut;if(ft===null){for(;!Bt.done;vt++,Bt=B.next())Bt=W(k,Bt.value,J),Bt!==null&&(N=d(Bt,N,vt),Ot===null?ut=Bt:Ot.sibling=Bt,Ot=Bt);return jt&&Rs(k,vt),ut}for(ft=l(ft);!Bt.done;vt++,Bt=B.next())Bt=q(ft,k,vt,Bt.value,J),Bt!==null&&(e&&Bt.alternate!==null&&ft.delete(Bt.key===null?vt:Bt.key),N=d(Bt,N,vt),Ot===null?ut=Bt:Ot.sibling=Bt,Ot=Bt);return e&&ft.forEach(function(iw){return i(k,iw)}),jt&&Rs(k,vt),ut}function Jt(k,N,B,J){if(typeof B=="object"&&B!==null&&B.type===x&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:t:{for(var ut=B.key;N!==null;){if(N.key===ut){if(ut=B.type,ut===x){if(N.tag===7){a(k,N.sibling),J=h(N,B.props.children),J.return=k,k=J;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&_y(ut)===N.type){a(k,N.sibling),J=h(N,B.props),rl(J,B),J.return=k,k=J;break t}a(k,N);break}else i(k,N);N=N.sibling}B.type===x?(J=bs(B.props.children,k.mode,J,B.key),J.return=k,k=J):(J=Bu(B.type,B.key,B.props,null,k.mode,J),rl(J,B),J.return=k,k=J)}return _(k);case V:t:{for(ut=B.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(k,N.sibling),J=h(N,B.children||[]),J.return=k,k=J;break t}else{a(k,N);break}else i(k,N);N=N.sibling}J=_f(B,k.mode,J),J.return=k,k=J}return _(k);case w:return ut=B._init,B=ut(B._payload),Jt(k,N,B,J)}if(se(B))return Et(k,N,B,J);if(U(B)){if(ut=U(B),typeof ut!="function")throw Error(s(150));return B=ut.call(B),gt(k,N,B,J)}if(typeof B.then=="function")return Jt(k,N,nc(B),J);if(B.$$typeof===tt)return Jt(k,N,Fu(k,B),J);ic(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(k,N.sibling),J=h(N,B),J.return=k,k=J):(a(k,N),J=vf(B,k.mode,J),J.return=k,k=J),_(k)):a(k,N)}return function(k,N,B,J){try{il=0;var ut=Jt(k,N,B,J);return Oa=null,ut}catch(ft){if(ft===Yo||ft===Gu)throw ft;var Ot=hn(29,ft,null,k.mode);return Ot.lanes=J,Ot.return=k,Ot}finally{}}}var Na=Ey(!0),Ty=Ey(!1),Nn=et(null),ai=null;function yr(e){var i=e.alternate;rt(Se,Se.current&1),rt(Nn,e),ai===null&&(i===null||Ra.current!==null||i.memoizedState!==null)&&(ai=e)}function Ay(e){if(e.tag===22){if(rt(Se,Se.current),rt(Nn,e),ai===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ai=e)}}else vr()}function vr(){rt(Se,Se.current),rt(Nn,Nn.current)}function zi(e){ot(Nn),ai===e&&(ai=null),ot(Se)}var Se=et(0);function rc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||jd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Wf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $f={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=pn(),h=mr(l);h.payload=i,a!=null&&(h.callback=a),i=pr(e,h,l),i!==null&&(gn(i,e,l),Jo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=pn(),h=mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=pr(e,h,l),i!==null&&(gn(i,e,l),Jo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=pn(),l=mr(a);l.tag=2,i!=null&&(l.callback=i),i=pr(e,l,a),i!==null&&(gn(i,e,a),Jo(i,e,a))}};function Sy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!zo(a,l)||!zo(h,d):!0}function by(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&$f.enqueueReplaceState(i,i.state,null)}function Vs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var sc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function wy(e){sc(e)}function Ry(e){console.error(e)}function Iy(e){sc(e)}function ac(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Cy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function td(e,i,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(e,i)},a}function Dy(e){return e=mr(e),e.tag=3,e}function Oy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Cy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Cy(i,a,l),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ib(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Go(i,a,h,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return ai===null?bd():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Df?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Rd(e,l,h)),!1;case 22:return a.flags|=65536,l===Df?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Rd(e,l,h)),!1}throw Error(s(435,a.tag))}return Rd(e,l,h),bd(),!1}if(jt)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Af&&(e=Error(s(422),{cause:l}),Ho(In(e,a)))):(l!==Af&&(i=Error(s(423),{cause:l}),Ho(In(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=In(l,a),h=td(e.stateNode,l,h),Mf(e,h),le!==4&&(le=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),hl===null?hl=[d]:hl.push(d),le!==4&&(le=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=td(a.stateNode,l,e),Mf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(br===null||!br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Dy(h),Oy(h,e,a,l),Mf(a,h),!1}a=a.return}while(a!==null);return!1}var Ny=Error(s(461)),Oe=!1;function Ue(e,i,a,l){i.child=e===null?Ty(i,null,a,l):Na(i,e.child,a,l)}function My(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Os(i),l=Uf(e,i,a,_,d,h),T=Lf(),e!==null&&!Oe?(Bf(e,i,h),ji(e,i,h)):(jt&&T&&Ef(i),i.flags|=1,Ue(e,i,l,h),i.child)}function Vy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!yf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Py(e,i,d,l,h)):(e=Bu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!ld(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(_,l)&&e.ref===i.ref)return ji(e,i,h)}return i.flags|=1,e=Pi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Py(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(zo(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,ld(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,ji(e,i,h)}return ed(e,i,a,l,h)}function xy(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ky(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hu(i,d!==null?d.cachePool:null),d!==null?Pg(i,d):Pf(),Ay(i);else return i.lanes=i.childLanes=536870912,ky(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Hu(i,d.cachePool),Pg(i,d),vr(),i.memoizedState=null):(e!==null&&Hu(i,null),Pf(),vr());return Ue(e,i,h,a),i.child}function ky(e,i,a,l){var h=Cf();return h=h===null?null:{parent:Ae._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Hu(i,null),Pf(),Ay(i),e!==null&&Go(e,i,l,!0),null}function oc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function ed(e,i,a,l,h){return Os(i),a=Uf(e,i,a,l,void 0,h),l=Lf(),e!==null&&!Oe?(Bf(e,i,h),ji(e,i,h)):(jt&&l&&Ef(i),i.flags|=1,Ue(e,i,a,h),i.child)}function Uy(e,i,a,l,h,d){return Os(i),i.updateQueue=null,a=kg(i,l,a,h),xg(e),l=Lf(),e!==null&&!Oe?(Bf(e,i,d),ji(e,i,d)):(jt&&l&&Ef(i),i.flags|=1,Ue(e,i,a,d),i.child)}function Ly(e,i,a,l,h){if(Os(i),i.stateNode===null){var d=Ta,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Of(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):Ta,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Wf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&$f.enqueueReplaceState(d,d.state,null),Wo(i,l,d,h),Zo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Vs(a,T);d.props=I;var z=d.context,K=a.contextType;_=Ta,typeof K=="object"&&K!==null&&(_=He(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&by(i,d,l,_),dr=!1;var j=i.memoizedState;d.state=j,Wo(i,l,d,h),Zo(),z=i.memoizedState,T||j!==z||dr?(typeof W=="function"&&(Wf(i,a,W,l),z=i.memoizedState),(I=dr||Sy(i,a,I,l,j,z,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Nf(e,i),_=i.memoizedProps,K=Vs(a,_),d.props=K,W=i.pendingProps,j=d.context,z=a.contextType,I=Ta,typeof z=="object"&&z!==null&&(I=He(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||j!==I)&&by(i,d,l,I),dr=!1,j=i.memoizedState,d.state=j,Wo(i,l,d,h),Zo();var q=i.memoizedState;_!==W||j!==q||dr||e!==null&&e.dependencies!==null&&qu(e.dependencies)?(typeof T=="function"&&(Wf(i,a,T,l),q=i.memoizedState),(K=dr||Sy(i,a,K,l,j,q,I)||e!==null&&e.dependencies!==null&&qu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=I,l=K):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,oc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Na(i,e.child,null,h),i.child=Na(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ji(e,i,h),e}function By(e,i,a,l){return Fo(),i.flags|=256,Ue(e,i,a,l),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(e){return{baseLanes:e,cachePool:Rg()}}function rd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Mn),e}function zy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?yr(i):vr(),jt){var T=oe,I;if(I=T){t:{for(I=T,T=si;I.nodeType!==8;){if(!T){T=null;break t}if(I=jn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:ws!==null?{id:xi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},I=hn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,tn=i,oe=null,I=!0):I=!1}I||Cs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return jd(T)?i.lanes=32:i.lanes=536870912,null;zi(i)}return T=l.children,l=l.fallback,h?(vr(),h=i.mode,T=lc({mode:"hidden",children:T},h),l=bs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=id(a),h.childLanes=rd(e,_,a),i.memoizedState=nd,l):(yr(i),sd(i,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=ad(e,i,a)):i.memoizedState!==null?(vr(),i.child=e.child,i.flags|=128,i=null):(vr(),h=l.fallback,T=i.mode,l=lc({mode:"visible",children:l.children},T),h=bs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Na(i,e.child,null,a),l=i.child,l.memoizedState=id(a),l.childLanes=rd(e,_,a),i.memoizedState=nd,i=h);else if(yr(i),jd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,Ho({value:l,source:null,stack:null}),i=ad(e,i,a)}else if(Oe||Go(e,i,a,!1),_=(a&e.childLanes)!==0,Oe||_){if(_=$t,_!==null&&(l=a&-a,l=(l&42)!==0?1:sr(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ea(e,l),gn(_,e,l),Ny;T.data==="$?"||bd(),i=ad(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,oe=jn(T.nextSibling),tn=i,jt=!0,Is=null,si=!1,e!==null&&(Dn[On++]=xi,Dn[On++]=ki,Dn[On++]=ws,xi=e.id,ki=e.overflow,ws=i),i=sd(i,l.children),i.flags|=4096);return i}return h?(vr(),h=l.fallback,T=i.mode,I=e.child,z=I.sibling,l=Pi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?h=Pi(z,h):(h=bs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=id(a):(I=T.cachePool,I!==null?(z=Ae._currentValue,I=I.parent!==z?{parent:z,pool:z}:I):I=Rg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=rd(e,_,a),i.memoizedState=nd,l):(yr(i),a=e.child,e=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function sd(e,i){return i=lc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function lc(e,i){return e=hn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ad(e,i,a){return Na(i,e.child,null,a),e=sd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function jy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),bf(e.return,i,a)}function od(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function qy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ue(e,i,l.children,a),l=Se.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jy(e,a,i);else if(e.tag===19)jy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(rt(Se,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&rc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),od(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&rc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}od(i,!0,a,null,d);break;case"together":od(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ji(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Sr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Go(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Pi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Pi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ld(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&qu(e)))}function rb(e,i,a){switch(i.tag){case 3:Wt(i,i.stateNode.containerInfo),fr(i,Ae,e.memoizedState.cache),Fo();break;case 27:case 5:rr(i);break;case 4:Wt(i,i.stateNode.containerInfo);break;case 10:fr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?zy(e,i,a):(yr(i),e=ji(e,i,a),e!==null?e.sibling:null);yr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Go(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return qy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(Se,Se.current),l)break;return null;case 22:case 23:return i.lanes=0,xy(e,i,a);case 24:fr(i,Ae,e.memoizedState.cache)}return ji(e,i,a)}function Fy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!ld(e,a)&&(i.flags&128)===0)return Oe=!1,rb(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,jt&&(i.flags&1048576)!==0&&_g(i,ju,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")yf(l)?(e=Vs(l,e),i.tag=1,i=Ly(null,i,l,e,a)):(i.tag=0,i=ed(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ht){i.tag=11,i=My(null,i,l,e,a);break t}else if(h===M){i.tag=14,i=Vy(null,i,l,e,a);break t}}throw i=Pe(l)||l,Error(s(306,i,""))}}return i;case 0:return ed(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Vs(l,i.pendingProps),Ly(e,i,l,h,a);case 3:t:{if(Wt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Nf(e,i),Wo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,fr(i,Ae,l),l!==d.cache&&wf(i,[Ae],a,!0),Zo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=By(e,i,l,a);break t}else if(l!==h){h=In(Error(s(424)),i),Ho(h),i=By(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=jn(e.firstChild),tn=i,jt=!0,Is=null,si=!0,a=Ty(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fo(),l===h){i=ji(e,i,a);break t}Ue(e,i,l,a)}i=i.child}return i;case 26:return oc(e,i),e===null?(a=Kv(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=Ac(At.current).createElement(a),l[_e]=i,l[me]=e,Be(l,a,e),ce(l),i.stateNode=l):i.memoizedState=Kv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return rr(i),e===null&&jt&&(l=i.stateNode=Hv(i.type,i.pendingProps,At.current),tn=i,si=!0,h=oe,Ir(i.type)?(qd=h,oe=jn(l.firstChild)):oe=h),Ue(e,i,i.pendingProps.children,a),oc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((h=l=oe)&&(l=Mb(l,i.type,i.pendingProps,si),l!==null?(i.stateNode=l,tn=i,oe=jn(l.firstChild),si=!1,h=!0):h=!1),h||Cs(i)),rr(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Ld(h,d)?l=null:_!==null&&Ld(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Uf(e,i,JS,null,null,a),El._currentValue=h),oc(e,i),Ue(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=oe)&&(a=Vb(a,i.pendingProps,si),a!==null?(i.stateNode=a,tn=i,oe=null,e=!0):e=!1),e||Cs(i)),null;case 13:return zy(e,i,a);case 4:return Wt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Na(i,null,l,a):Ue(e,i,l,a),i.child;case 11:return My(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,fr(i,i.type,l.value),Ue(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=He(h),l=l(h),i.flags|=1,Ue(e,i,l,a),i.child;case 14:return Vy(e,i,i.type,i.pendingProps,a);case 15:return Py(e,i,i.type,i.pendingProps,a);case 19:return qy(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=lc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Pi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return xy(e,i,a);case 24:return Os(i),l=He(Ae),e===null?(h=Cf(),h===null&&(h=$t,d=Rf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Of(i),fr(i,Ae,h)):((e.lanes&a)!==0&&(Nf(e,i),Wo(i,null,null,a),Zo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),fr(i,Ae,l)):(l=d.cache,fr(i,Ae,l),l!==h.cache&&wf(i,[Ae],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function qi(e){e.flags|=4}function Hy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wv(i)){if(i=Nn.current,i!==null&&((Ut&4194048)===Ut?ai!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==ai))throw Xo=Df,Ig;e.flags|=8192}}function uc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ao():536870912,e.lanes|=i,xa|=i)}function sl(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function sb(e,i,a){var l=i.pendingProps;switch(Tf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Li(Ae),Kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(qo(i)?qi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ag())),ne(i),null;case 26:return a=i.memoizedState,e===null?(qi(i),a!==null?(ne(i),Hy(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(qi(i),ne(i),Hy(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==l&&qi(i),ne(i),i.flags&=-16777217),null;case 27:Ti(i),a=At.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=mt.current,qo(i)?Eg(i):(e=Hv(h,l,a),i.stateNode=e,qi(i))}return ne(i),null;case 5:if(Ti(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=mt.current,qo(i))Eg(i);else{switch(h=Ac(At.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[_e]=i,e[me]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&qi(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=At.current,qo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[_e]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Uv(e.nodeValue,a)),e||Cs(i)}else e=Ac(e).createTextNode(l),e[_e]=i,i.stateNode=e}return ne(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=qo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=i}else Fo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=Ag(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(zi(i),i):(zi(i),null)}if(zi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),uc(i,i.updateQueue),ne(i),null;case 4:return Kn(),e===null&&Vd(i.stateNode.containerInfo),ne(i),null;case 10:return Li(i.type),ne(i),null;case 19:if(ot(Se),h=i.memoizedState,h===null)return ne(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)sl(h,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=rc(e),d!==null){for(i.flags|=128,sl(h,!1),e=d.updateQueue,i.updateQueue=e,uc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)vg(a,e),a=a.sibling;return rt(Se,Se.current&1|2),i.child}e=e.sibling}h.tail!==null&&Tn()>fc&&(i.flags|=128,l=!0,sl(h,!1),i.lanes=4194304)}else{if(!l)if(e=rc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,uc(i,e),sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return ne(i),null}else 2*Tn()-h.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,l=!0,sl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Tn(),i.sibling=null,e=Se.current,rt(Se,l?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return zi(i),xf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&uc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ot(Ns),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Li(Ae),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ab(e,i){switch(Tf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Li(Ae),Kn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ti(i),null;case 13:if(zi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Fo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ot(Se),null;case 4:return Kn(),null;case 10:return Li(i.type),null;case 22:case 23:return zi(i),xf(),e!==null&&ot(Ns),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Li(Ae),null;case 25:return null;default:return null}}function Gy(e,i){switch(Tf(i),i.tag){case 3:Li(Ae),Kn();break;case 26:case 27:case 5:Ti(i);break;case 4:Kn();break;case 13:zi(i);break;case 19:ot(Se);break;case 10:Li(i.type);break;case 22:case 23:zi(i),xf(),e!==null&&ot(Ns);break;case 24:Li(Ae)}}function al(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Zt(i,i.return,T)}}function _r(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,z=T;try{z()}catch(K){Zt(h,I,K)}}}l=l.next}while(l!==d)}}catch(K){Zt(i,i.return,K)}}function Qy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Vg(i,a)}catch(l){Zt(e,e.return,l)}}}function Ky(e,i,a){a.props=Vs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,i,l)}}function ol(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Zt(e,i,h)}}function oi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,i,h)}else a.current=null}function Yy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function ud(e,i,a){try{var l=e.stateNode;Ib(l,e.type,a,i),l[me]=i}catch(h){Zt(e,e.return,h)}}function Xy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function cd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Tc));else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(hd(e,i,a),e=e.sibling;e!==null;)hd(e,i,a),e=e.sibling}function cc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(cc(e,i,a),e=e.sibling;e!==null;)cc(e,i,a),e=e.sibling}function Jy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Be(i,l,a),i[_e]=e,i[me]=a}catch(d){Zt(e,e.return,d)}}var Fi=!1,fe=!1,fd=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function ob(e,i){if(e=e.containerInfo,kd=Cc,e=lg(e),cf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,I=-1,z=0,K=0,W=e,j=null;e:for(;;){for(var q;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(I=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(q=W.firstChild)!==null;)j=W,W=q;for(;;){if(W===e)break e;if(j===a&&++z===h&&(T=_),j===d&&++K===l&&(I=_),(q=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:e,selectionRange:a},Cc=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Et=Vs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Et,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Zt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)zd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}}function Wy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(e,a),l&4&&al(5,a);break;case 1:if(Er(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Zt(a,a.return,_)}else{var h=Vs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(a,a.return,_)}}l&64&&Qy(a),l&512&&ol(a,a.return);break;case 3:if(Er(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Vg(e,i)}catch(_){Zt(a,a.return,_)}}break;case 27:i===null&&l&4&&Jy(a);case 26:case 5:Er(e,a),i===null&&l&4&&Yy(a),l&512&&ol(a,a.return);break;case 12:Er(e,a);break;case 13:Er(e,a),l&4&&ev(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=gb.bind(null,a),Pb(e,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||fe,h=Fi;var d=fe;Fi=l,(fe=i)&&!d?Tr(e,a,(a.subtreeFlags&8772)!==0):Er(e,a),Fi=h,fe=d}break;case 30:break;default:Er(e,a)}}function $y(e){var i=e.alternate;i!==null&&(e.alternate=null,$y(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&lr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,nn=!1;function Hi(e,i,a){for(a=a.child;a!==null;)tv(e,i,a),a=a.sibling}function tv(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:fe||oi(a,i),Hi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||oi(a,i);var l=ee,h=nn;Ir(a.type)&&(ee=a.stateNode,nn=!1),Hi(e,i,a),gl(a.stateNode),ee=l,nn=h;break;case 5:fe||oi(a,i);case 6:if(l=ee,h=nn,ee=null,Hi(e,i,a),ee=l,nn=h,ee!==null)if(nn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(d){Zt(a,i,d)}else try{ee.removeChild(a.stateNode)}catch(d){Zt(a,i,d)}break;case 18:ee!==null&&(nn?(e=ee,qv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),bl(e)):qv(ee,a.stateNode));break;case 4:l=ee,h=nn,ee=a.stateNode.containerInfo,nn=!0,Hi(e,i,a),ee=l,nn=h;break;case 0:case 11:case 14:case 15:fe||_r(2,a,i),fe||_r(4,a,i),Hi(e,i,a);break;case 1:fe||(oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ky(a,i,l)),Hi(e,i,a);break;case 21:Hi(e,i,a);break;case 22:fe=(l=fe)||a.memoizedState!==null,Hi(e,i,a),fe=l;break;default:Hi(e,i,a)}}function ev(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bl(e)}catch(a){Zt(i,i.return,a)}}function lb(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Zy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Zy),i;default:throw Error(s(435,e.tag))}}function dd(e,i){var a=lb(e);i.forEach(function(l){var h=yb.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Ir(T.type)){ee=T.stateNode,nn=!1;break t}break;case 5:ee=T.stateNode,nn=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(ee===null)throw Error(s(160));tv(d,_,h),ee=null,nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)nv(i,e),i=i.sibling}var zn=null;function nv(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(i,e),dn(e),l&4&&(_r(3,e,e.return),al(3,e),_r(5,e,e.return));break;case 1:fn(i,e),dn(e),l&512&&(fe||a===null||oi(a,a.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=zn;if(fn(i,e),dn(e),l&512&&(fe||a===null||oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ls]||d[_e]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,a),d[_e]=e,ce(d),l=d;break t;case"link":var _=Jv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Jv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[_e]=e,ce(d),l=d}e.stateNode=l}else Zv(h,e.type,e.stateNode);else e.stateNode=Xv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Zv(h,e.type,e.stateNode):Xv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ud(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(i,e),dn(e),l&512&&(fe||a===null||oi(a,a.return)),a!==null&&l&4&&ud(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,e),dn(e),l&512&&(fe||a===null||oi(a,a.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(q){Zt(e,e.return,q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,ud(e,h,a!==null?a.memoizedProps:h)),l&1024&&(fd=!0);break;case 6:if(fn(i,e),dn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){Zt(e,e.return,q)}}break;case 3:if(wc=null,h=zn,zn=Sc(i.containerInfo),fn(i,e),zn=h,dn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bl(i.containerInfo)}catch(q){Zt(e,e.return,q)}fd&&(fd=!1,iv(e));break;case 4:l=zn,zn=Sc(e.stateNode.containerInfo),fn(i,e),dn(e),zn=l;break;case 12:fn(i,e),dn(e);break;case 13:fn(i,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_d=Tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,dd(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Fi,K=fe;if(Fi=z||h,fe=K||I,fn(i,e),fe=K,Fi=z,dn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Fi||fe||Ps(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var W=I.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(q){Zt(I,I.return,q)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(q){Zt(I,I.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dd(e,a))));break;case 19:fn(i,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,dd(e,l)));break;case 30:break;case 21:break;default:fn(i,e),dn(e)}}function dn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Xy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=cd(e);cc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Sn(_,""),a.flags&=-33);var T=cd(e);cc(e,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,z=cd(e);hd(e,z,I);break;default:throw Error(s(161))}}catch(K){Zt(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function iv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;iv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Er(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Wy(e,i.alternate,i),i=i.sibling}function Ps(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:_r(4,i,i.return),Ps(i);break;case 1:oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ky(i,i.return,a),Ps(i);break;case 27:gl(i.stateNode);case 26:case 5:oi(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),al(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Mg(I[h],T)}catch(z){Zt(l,l.return,z)}}a&&_&64&&Qy(d),ol(d,d.return);break;case 27:Jy(d);case 26:case 5:Tr(h,d,a),a&&l===null&&_&4&&Yy(d),ol(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&_&4&&ev(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),ol(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function md(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qo(a))}function pd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qo(e))}function li(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rv(e,i,a,l),i=i.sibling}function rv(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:li(e,i,a,l),h&2048&&al(9,i);break;case 1:li(e,i,a,l);break;case 3:li(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){li(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Zt(i,i.return,I)}}else li(e,i,a,l);break;case 13:li(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?li(e,i,a,l):ll(e,i):d._visibility&2?li(e,i,a,l):(d._visibility|=2,Ma(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&md(_,i);break;case 24:li(e,i,a,l),h&2048&&pd(i.alternate,i);break;default:li(e,i,a,l)}}function Ma(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,_=i,T=a,I=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ma(d,_,T,I,h),al(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ma(d,_,T,I,h):ll(d,_):(K._visibility|=2,Ma(d,_,T,I,h)),h&&z&2048&&md(_.alternate,_);break;case 24:Ma(d,_,T,I,h),h&&z&2048&&pd(_.alternate,_);break;default:Ma(d,_,T,I,h)}i=i.sibling}}function ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ll(a,l),h&2048&&md(l.alternate,l);break;case 24:ll(a,l),h&2048&&pd(l.alternate,l);break;default:ll(a,l)}i=i.sibling}}var ul=8192;function Va(e){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)sv(e),e=e.sibling}function sv(e){switch(e.tag){case 26:Va(e),e.flags&ul&&e.memoizedState!==null&&Kb(zn,e.memoizedState,e.memoizedProps);break;case 5:Va(e);break;case 3:case 4:var i=zn;zn=Sc(e.stateNode.containerInfo),Va(e),zn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ul,ul=16777216,Va(e),ul=i):Va(e));break;default:Va(e)}}function av(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function cl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ne=l,lv(l,e)}av(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ov(e),e=e.sibling}function ov(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&_r(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,hc(e)):cl(e);break;default:cl(e)}}function hc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ne=l,lv(l,e)}av(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:_r(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,hc(i));break;default:hc(i)}e=e.sibling}}function lv(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:_r(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=e;Ne!==null;){l=Ne;var h=l.sibling,d=l.return;if($y(l),l===a){Ne=null;break t}if(h!==null){h.return=d,Ne=h;break t}Ne=d}}}var ub={getCacheForType:function(e){var i=He(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},cb=typeof WeakMap=="function"?WeakMap:Map,Gt=0,$t=null,Nt=null,Ut=0,Qt=0,mn=null,Ar=!1,Pa=!1,gd=!1,Gi=0,le=0,Sr=0,xs=0,yd=0,Mn=0,xa=0,hl=null,rn=null,vd=!1,_d=0,fc=1/0,dc=null,br=null,Le=0,wr=null,ka=null,Ua=0,Ed=0,Td=null,uv=null,fl=0,Ad=null;function pn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(Q.T!==null){var e=ba;return e!==0?e:Dd()}return ar()}function cv(){Mn===0&&(Mn=(Ut&536870912)===0||jt?To():536870912);var e=Nn.current;return e!==null&&(e.flags|=32),Mn}function gn(e,i,a){(e===$t&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Rr(e,Ut,Mn,!1)),Si(e,a),((Gt&2)===0||e!==$t)&&(e===$t&&((Gt&2)===0&&(xs|=a),le===4&&Rr(e,Ut,Mn,!1)),ui(e))}function hv(e,i,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||os(e,i),h=l?db(e,i):wd(e,i,!0),d=l;do{if(h===0){Pa&&!l&&Rr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!hb(a)){h=wd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=hl;var I=T.current.memoizedState.isDehydrated;if(I&&(La(T,_).flags|=256),_=wd(T,_,!1),_!==2){if(gd&&!I){T.errorRecoveryDisabledLanes|=d,xs|=d,h=4;break t}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){La(e,0),Rr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(l,i,Mn,!Ar);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=_d+300-Tn(),10<h)){if(Rr(l,i,Mn,!Ar),ea(l,0,!0)!==0)break t;l.timeoutHandle=zv(fv.bind(null,l,a,rn,dc,vd,i,Mn,xs,xa,Ar,d,2,-0,0),h);break t}fv(l,a,rn,dc,vd,i,Mn,xs,xa,Ar,d,0,-0,0)}}break}while(!0);ui(e)}function fv(e,i,a,l,h,d,_,T,I,z,K,W,j,q){if(e.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(_l={stylesheets:null,count:0,unsuspend:Qb},sv(i),W=Yb(),W!==null)){e.cancelPendingCommit=W(_v.bind(null,e,i,d,a,l,h,_,T,I,K,1,j,q)),Rr(e,d,_,!z);return}_v(e,i,d,a,l,h,_,T,I)}function hb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(e,i,a,l){i&=~yd,i&=~xs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Fe(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Yn(e,a,i)}function mc(){return(Gt&6)===0?(dl(0),!1):!0}function Sd(){if(Nt!==null){if(Qt===0)var e=Nt.return;else e=Nt,Ui=Ds=null,zf(e),Oa=null,il=0,e=Nt;for(;e!==null;)Gy(e.alternate,e),e=e.return;Nt=null}}function La(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Db(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Sd(),$t=e,Nt=a=Pi(e.current,null),Ut=i,Qt=0,mn=null,Ar=!1,Pa=os(e,i),gd=!1,xa=Mn=yd=xs=Sr=le=0,rn=hl=null,vd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Fe(l),d=1<<h;i|=e[h],l&=~d}return Gi=i,ku(),a}function dv(e,i){It=null,Q.H=ec,i===Yo||i===Gu?(i=Og(),Qt=3):i===Ig?(i=Og(),Qt=4):Qt=i===Ny?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Nt===null&&(le=1,ac(e,In(i,e.current)))}function mv(){var e=Q.H;return Q.H=ec,e===null?ec:e}function pv(){var e=Q.A;return Q.A=ub,e}function bd(){le=4,Ar||(Ut&4194048)!==Ut&&Nn.current!==null||(Pa=!0),(Sr&134217727)===0&&(xs&134217727)===0||$t===null||Rr($t,Ut,Mn,!1)}function wd(e,i,a){var l=Gt;Gt|=2;var h=mv(),d=pv();($t!==e||Ut!==i)&&(dc=null,La(e,i)),i=!1;var _=le;t:do try{if(Qt!==0&&Nt!==null){var T=Nt,I=mn;switch(Qt){case 8:Sd(),_=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var z=Qt;if(Qt=0,mn=null,Ba(e,T,I,z),a&&Pa){_=0;break t}break;default:z=Qt,Qt=0,mn=null,Ba(e,T,I,z)}}fb(),_=le;break}catch(K){dv(e,K)}while(!0);return i&&e.shellSuspendCounter++,Ui=Ds=null,Gt=l,Q.H=h,Q.A=d,Nt===null&&($t=null,Ut=0,ku()),_}function fb(){for(;Nt!==null;)gv(Nt)}function db(e,i){var a=Gt;Gt|=2;var l=mv(),h=pv();$t!==e||Ut!==i?(dc=null,fc=Tn()+500,La(e,i)):Pa=os(e,i);t:do try{if(Qt!==0&&Nt!==null){i=Nt;var d=mn;e:switch(Qt){case 1:Qt=0,mn=null,Ba(e,i,d,1);break;case 2:case 9:if(Cg(d)){Qt=0,mn=null,yv(i);break}i=function(){Qt!==2&&Qt!==9||$t!==e||(Qt=7),ui(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Cg(d)?(Qt=0,mn=null,yv(i)):(Qt=0,mn=null,Ba(e,i,d,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var T=Nt;if(!_||Wv(_)){Qt=0,mn=null;var I=T.sibling;if(I!==null)Nt=I;else{var z=T.return;z!==null?(Nt=z,pc(z)):Nt=null}break e}}Qt=0,mn=null,Ba(e,i,d,5);break;case 6:Qt=0,mn=null,Ba(e,i,d,6);break;case 8:Sd(),le=6;break t;default:throw Error(s(462))}}mb();break}catch(K){dv(e,K)}while(!0);return Ui=Ds=null,Q.H=l,Q.A=h,Gt=a,Nt!==null?0:($t=null,Ut=0,ku(),le)}function mb(){for(;Nt!==null&&!yo();)gv(Nt)}function gv(e){var i=Fy(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,i===null?pc(e):Nt=i}function yv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Uy(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=Uy(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:zf(i);default:Gy(a,i),i=Nt=vg(i,Gi),i=Fy(a,i,Gi)}e.memoizedProps=e.pendingProps,i===null?pc(e):Nt=i}function Ba(e,i,a,l){Ui=Ds=null,zf(i),Oa=null,il=0;var h=i.return;try{if(ib(e,h,i,a,Ut)){le=1,ac(e,In(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;le=1,ac(e,In(a,e.current)),Nt=null;return}i.flags&32768?(jt||l===1?e=!0:Pa||(Ut&536870912)!==0?e=!1:(Ar=e=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vv(i,e)):pc(i)}function pc(e){var i=e;do{if((i.flags&32768)!==0){vv(i,Ar);return}e=i.return;var a=sb(i.alternate,i,Gi);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);le===0&&(le=5)}function vv(e,i){do{var a=ab(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);le=6,Nt=null}function _v(e,i,a,l,h,d,_,T,I){e.cancelPendingCommit=null;do gc();while(Le!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=pf,So(e,a,d,_,T,I),e===$t&&(Nt=$t=null,Ut=0),ka=i,wr=e,Ua=a,Ed=d,Td=h,uv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vb(is,function(){return bv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=at.p,at.p=2,_=Gt,Gt|=4;try{ob(e,i,a)}finally{Gt=_,at.p=h,Q.T=l}}Le=1,Ev(),Tv(),Av()}}function Ev(){if(Le===1){Le=0;var e=wr,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{nv(i,e);var d=Ud,_=lg(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&og(T.ownerDocument.documentElement,T)){if(I!==null&&cf(T)){var z=I.start,K=I.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var W=T.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var q=j.getSelection(),Et=T.textContent.length,gt=Math.min(I.start,Et),Jt=I.end===void 0?gt:Math.min(I.end,Et);!q.extend&&gt>Jt&&(_=Jt,Jt=gt,gt=_);var k=ag(T,gt),N=ag(T,Jt);if(k&&N&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var B=W.createRange();B.setStart(k.node,k.offset),q.removeAllRanges(),gt>Jt?(q.addRange(B),q.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),q.addRange(B))}}}}for(W=[],q=T;q=q.parentNode;)q.nodeType===1&&W.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Cc=!!kd,Ud=kd=null}finally{Gt=h,at.p=l,Q.T=a}}e.current=i,Le=2}}function Tv(){if(Le===2){Le=0;var e=wr,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{Wy(e,i.alternate,i)}finally{Gt=h,at.p=l,Q.T=a}}Le=3}}function Av(){if(Le===4||Le===3){Le=0,hu();var e=wr,i=ka,a=Ua,l=uv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,ka=wr=null,Sv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(br=null),na(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=at.p,at.p=2,Q.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,at.p=h}}(Ua&3)!==0&&gc(),ui(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Ad?fl++:(fl=0,Ad=e):fl=0,dl(0)}}function Sv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Qo(i)))}function gc(e){return Ev(),Tv(),Av(),bv()}function bv(){if(Le!==5)return!1;var e=wr,i=Ed;Ed=0;var a=na(Ua),l=Q.T,h=at.p;try{at.p=32>a?32:a,Q.T=null,a=Td,Td=null;var d=wr,_=Ua;if(Le=0,ka=wr=null,Ua=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,ov(d.current),rv(d,d.current,_,a),Gt=T,dl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,d)}catch{}return!0}finally{at.p=h,Q.T=l,Sv(e,i)}}function wv(e,i,a){i=In(a,i),i=td(e.stateNode,i,2),e=pr(e,i,2),e!==null&&(Si(e,2),ui(e))}function Zt(e,i,a){if(e.tag===3)wv(e,e,a);else for(;i!==null;){if(i.tag===3){wv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(br===null||!br.has(l))){e=In(a,e),a=Dy(2),l=pr(i,a,2),l!==null&&(Oy(a,l,i,e),Si(l,2),ui(l));break}}i=i.return}}function Rd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new cb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(gd=!0,h.add(a),e=pb.bind(null,e,i,a),i.then(e,e))}function pb(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$t===e&&(Ut&a)===a&&(le===4||le===3&&(Ut&62914560)===Ut&&300>Tn()-_d?(Gt&2)===0&&La(e,0):yd|=a,xa===Ut&&(xa=0)),ui(e)}function Rv(e,i){i===0&&(i=Ao()),e=Ea(e,i),e!==null&&(Si(e,i),ui(e))}function gb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Rv(e,a)}function yb(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Rv(e,a)}function vb(e,i){return es(e,i)}var yc=null,za=null,Id=!1,vc=!1,Cd=!1,ks=0;function ui(e){e!==za&&e.next===null&&(za===null?yc=za=e:za=za.next=e),vc=!0,Id||(Id=!0,Eb())}function dl(e,i){if(!Cd&&vc){Cd=!0;do for(var a=!1,l=yc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Fe(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ov(l,d))}else d=Ut,d=ea(l,l===$t?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||os(l,d)||(a=!0,Ov(l,d));l=l.next}while(a);Cd=!1}}function _b(){Iv()}function Iv(){vc=Id=!1;var e=0;ks!==0&&(Cb()&&(e=ks),ks=0);for(var i=Tn(),a=null,l=yc;l!==null;){var h=l.next,d=Cv(l,i);d===0?(l.next=null,a===null?yc=h:a.next=h,h===null&&(za=a)):(a=l,(e!==0||(d&3)!==0)&&(vc=!0)),l=h}dl(e)}function Cv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Fe(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Eo(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=$t,a=Ut,a=ea(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||os(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ns(l),na(a)){case 2:case 8:a=$s;break;case 32:a=is;break;case 268435456:a=ta;break;default:a=is}return l=Dv.bind(null,e),a=es(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ns(l),e.callbackPriority=2,e.callbackNode=null,2}function Dv(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(gc()&&e.callbackNode!==a)return null;var l=Ut;return l=ea(e,e===$t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(hv(e,l,i),Cv(e,Tn()),e.callbackNode!=null&&e.callbackNode===a?Dv.bind(null,e):null)}function Ov(e,i){if(gc())return null;hv(e,i,!0)}function Eb(){Ob(function(){(Gt&6)!==0?es(vo,_b):Iv()})}function Dd(){return ks===0&&(ks=To()),ks}function Nv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function Mv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Tb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Nv((h[me]||null).action),_=l.submitter;_&&(i=(i=_[me]||null)?Nv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new ua("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var I=_?Mv(h,_):new FormData(h);Xf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?Mv(h,_):new FormData(h),Xf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Od=0;Od<mf.length;Od++){var Nd=mf[Od],Ab=Nd.toLowerCase(),Sb=Nd[0].toUpperCase()+Nd.slice(1);Bn(Ab,"on"+Sb)}Bn(hg,"onAnimationEnd"),Bn(fg,"onAnimationIteration"),Bn(dg,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(zS,"onTransitionRun"),Bn(jS,"onTransitionStart"),Bn(qS,"onTransitionCancel"),Bn(mg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function Vv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){sc(K)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,z=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){sc(K)}h.currentTarget=null,d=I}}}}function Mt(e,i){var a=i[wo];a===void 0&&(a=i[wo]=new Set);var l=e+"__bubble";a.has(l)||(Pv(i,e,2,!1),a.add(l))}function Md(e,i,a){var l=0;i&&(l|=4),Pv(a,e,l,i)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[_c]){e[_c]=!0,Ro.forEach(function(a){a!=="selectionchange"&&(bb.has(a)||Md(a,!1,e),Md(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[_c]||(i[_c]=!0,Md("selectionchange",!1,i))}}function Pv(e,i,a,l){switch(r_(i)){case 2:var h=Zb;break;case 8:h=Wb;break;default:h=Kd}a=h.bind(null,i,a,e),h=void 0,!wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Pd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=bi(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}T=T.parentNode}}l=l.return}Tu(function(){var z=d,K=bn(a),W=[];t:{var j=pg.get(e);if(j!==void 0){var q=ua,Et=e;switch(e){case"keypress":if(ti(a)===0)break t;case"keydown":case"keyup":q=pa;break;case"focusin":Et="focus",q=fa;break;case"focusout":Et="blur",q=fa;break;case"beforeblur":case"afterblur":q=fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Du;break;case hg:case fg:case dg:q=da;break;case mg:q=Nu;break;case"scroll":case"scrollend":q=Au;break;case"wheel":q=ga;break;case"copy":case"cut":case"paste":q=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Lo;break;case"toggle":case"beforetoggle":q=Vu}var gt=(i&4)!==0,Jt=!gt&&(e==="scroll"||e==="scrollend"),k=gt?j!==null?j+"Capture":null:j;gt=[];for(var N=z,B;N!==null;){var J=N;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||k===null||(J=ps(N,k),J!=null&&gt.push(pl(N,J,B))),Jt)break;N=N.return}0<gt.length&&(j=new q(j,Et,null,a,K),W.push({event:j,listeners:gt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Ci&&(Et=a.relatedTarget||a.fromElement)&&(bi(Et)||Et[An]))break t;if((q||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,q?(Et=a.relatedTarget||a.toElement,q=z,Et=Et?bi(Et):null,Et!==null&&(Jt=u(Et),gt=Et.tag,Et!==Jt||gt!==5&&gt!==27&&gt!==6)&&(Et=null)):(q=null,Et=z),q!==Et)){if(gt=Rn,J="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Lo,J="onPointerLeave",k="onPointerEnter",N="pointer"),Jt=q==null?j:Jn(q),B=Et==null?j:Jn(Et),j=new gt(J,N+"leave",q,a,K),j.target=Jt,j.relatedTarget=B,J=null,bi(K)===z&&(gt=new gt(k,N+"enter",Et,a,K),gt.target=B,gt.relatedTarget=Jt,J=gt),Jt=J,q&&Et)e:{for(gt=q,k=Et,N=0,B=gt;B;B=ja(B))N++;for(B=0,J=k;J;J=ja(J))B++;for(;0<N-B;)gt=ja(gt),N--;for(;0<B-N;)k=ja(k),B--;for(;N--;){if(gt===k||k!==null&&gt===k.alternate)break e;gt=ja(gt),k=ja(k)}gt=null}else gt=null;q!==null&&xv(W,j,q,gt,!1),Et!==null&&Jt!==null&&xv(W,Jt,Et,gt,!0)}}t:{if(j=z?Jn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var ut=tg;else if(Te(j))if(eg)ut=US;else{ut=xS;var Ot=PS}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&No(z.elementType)&&(ut=tg):ut=kS;if(ut&&(ut=ut(e,z))){Vi(W,ut,a,K);break t}Ot&&Ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&cr(j,"number",j.value)}switch(Ot=z?Jn(z):window,e){case"focusin":(Te(Ot)||Ot.contentEditable==="true")&&(ya=Ot,hf=z,jo=null);break;case"focusout":jo=hf=ya=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,ug(W,a,K);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":ug(W,a,K)}var ft;if(ii)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else xt?H(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(v&&a.locale!=="ko"&&(xt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&xt&&(ft=Vo()):($n=K,hr="value"in $n?$n.value:$n.textContent,xt=!0)),Ot=Ec(z,vt),0<Ot.length&&(vt=new ko(vt,e,null,a,K),W.push({event:vt,listeners:Ot}),ft?vt.data=ft:(ft=st(a),ft!==null&&(vt.data=ft)))),(ft=y?Ee(e,a):kt(e,a))&&(vt=Ec(z,"onBeforeInput"),0<vt.length&&(Ot=new ko("onBeforeInput","beforeinput",null,a,K),W.push({event:Ot,listeners:vt}),Ot.data=ft)),Tb(W,e,z,a,K)}Vv(W,i)})}function pl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ec(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ps(e,a),h!=null&&l.unshift(pl(e,h,d)),h=ps(e,i),h!=null&&l.push(pl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xv(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=ps(a,d),z!=null&&_.unshift(pl(a,z,I))):h||(z=ps(a,d),z!=null&&_.push(pl(a,z,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var wb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function kv(e){return(typeof e=="string"?e:""+e).replace(wb,`
`).replace(Rb,"")}function Uv(e,i){return i=kv(i),kv(e)===i}function Tc(){}function Xt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(e,""+l);break;case"className":Zn(e,"class",l);break;case"tabIndex":Zn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(e,a,l);break;case"style":Oo(e,l,d);break;case"data":if(i!=="object"){Zn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=la(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=la(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Tc);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=la(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rf.get(a)||a,ur(e,a,l))}}function xd(e,i,a,l,h,d){switch(a){case"style":Oo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&Sn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[me]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ur(e,a,l)}}}function Be(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,d,_,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),l&&Xt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=d=_=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":I=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Xt(e,i,l,K,a,null)}}fs(e,d,T,I,z,_,h,!1),oa(e);return;case"select":Mt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Xt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Ii(e,!!l,i,!1):a!=null&&Ii(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(e,i,_,T,a,null)}ds(e,l,h,d),oa(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,i,I,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<ml.length;l++)Mt(ml[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,z,l,a,null)}return;default:if(No(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&xd(e,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(e,i,T,l,a,null))}function Ib(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,z=null,K=null;for(q in a){var W=a[q];if(a.hasOwnProperty(q)&&W!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(q)||Xt(e,i,q,null,l,W)}}for(var j in l){var q=l[j];if(W=a[j],l.hasOwnProperty(j)&&(q!=null||W!=null))switch(j){case"type":d=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":K=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==W&&Xt(e,i,j,q,l,W)}}un(e,_,T,I,z,K,d,h);return;case"select":q=_=T=j=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(d)||Xt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Xt(e,i,h,d,l,I)}i=T,a=_,l=q,j!=null?Ii(e,!!a,j,!1):!!l!=!!a&&(i!=null?Ii(e,!!a,i,!0):Ii(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(e,i,_,h,l,d)}Kt(e,j,q);return;case"option":for(var Et in a)if(j=a[Et],a.hasOwnProperty(Et)&&j!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Xt(e,i,Et,null,l,j)}for(I in l)if(j=l[I],q=a[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(e,i,I,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)j=a[gt],a.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&Xt(e,i,gt,null,l,j);for(z in l)if(j=l[z],q=a[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Xt(e,i,z,j,l,q)}return;default:if(No(i)){for(var Jt in a)j=a[Jt],a.hasOwnProperty(Jt)&&j!==void 0&&!l.hasOwnProperty(Jt)&&xd(e,i,Jt,void 0,l,j);for(K in l)j=l[K],q=a[K],!l.hasOwnProperty(K)||j===q||j===void 0&&q===void 0||xd(e,i,K,j,l,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&Xt(e,i,k,null,l,j);for(W in l)j=l[W],q=a[W],!l.hasOwnProperty(W)||j===q||j==null&&q==null||Xt(e,i,W,j,l,q)}var kd=null,Ud=null;function Ac(e){return e.nodeType===9?e:e.ownerDocument}function Lv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ld(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bd=null;function Cb(){var e=window.event;return e&&e.type==="popstate"?e===Bd?!1:(Bd=e,!0):(Bd=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(e){return jv.resolve(null).then(e).catch(Nb)}:zv;function Nb(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function qv(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=e.ownerDocument;if(a&1&&gl(_.documentElement),a&2&&gl(_.body),a&4)for(a=_.head,gl(a),_=a.firstChild;_;){var T=_.nextSibling,I=_.nodeName;_[ls]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){e.removeChild(d),bl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);bl(i)}function zd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zd(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Mb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ls])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function Vb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function jd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Pb(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var qd=null;function Fv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Hv(e,i,a){switch(i=Ac(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function gl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);lr(e)}var Vn=new Map,Gv=new Set;function Sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=at.d;at.d={f:xb,r:kb,D:Ub,C:Lb,L:Bb,m:zb,X:qb,S:jb,M:Fb};function xb(){var e=Qi.f(),i=mc();return e||i}function kb(e){var i=Xn(e);i!==null&&i.tag===5&&i.type==="form"?hy(i):Qi.r(e)}var qa=typeof document>"u"?null:document;function Qv(e,i,a){var l=qa;if(l&&typeof i=="string"&&i){var h=pe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Gv.has(h)||(Gv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Be(i,"link",e),ce(i),l.head.appendChild(i)))}}function Ub(e){Qi.D(e),Qv("dns-prefetch",e,null)}function Lb(e,i){Qi.C(e,i),Qv("preconnect",e,i)}function Bb(e,i,a){Qi.L(e,i,a);var l=qa;if(l&&e&&i){var h='link[rel="preload"][as="'+pe(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pe(a.imageSizes)+'"]')):h+='[href="'+pe(e)+'"]';var d=h;switch(i){case"style":d=Fa(e);break;case"script":d=Ha(e)}Vn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(yl(d))||i==="script"&&l.querySelector(vl(d))||(i=l.createElement("link"),Be(i,"link",e),ce(i),l.head.appendChild(i)))}}function zb(e,i){Qi.m(e,i);var a=qa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(e)}if(!Vn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Vn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(d)))return}l=a.createElement("link"),Be(l,"link",e),ce(l),a.head.appendChild(l)}}}function jb(e,i,a){Qi.S(e,i,a);var l=qa;if(l&&e){var h=Ze(l).hoistableStyles,d=Fa(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(yl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(d))&&Fd(e,a);var I=_=l.createElement("link");ce(I),Be(I,"link",e),I._p=new Promise(function(z,K){I.onload=z,I.onerror=K}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function qb(e,i){Qi.X(e,i);var a=qa;if(a&&e){var l=Ze(a).hoistableScripts,h=Ha(e),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(e=E({src:e,async:!0},i),(i=Vn.get(h))&&Hd(e,i),d=a.createElement("script"),ce(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Fb(e,i){Qi.M(e,i);var a=qa;if(a&&e){var l=Ze(a).hoistableScripts,h=Ha(e),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&Hd(e,i),d=a.createElement("script"),ce(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Kv(e,i,a,l){var h=(h=At.current)?Sc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=Ze(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var d=Ze(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(yl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),d||Hb(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=Ze(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Fa(e){return'href="'+pe(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function Yv(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Hb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Be(i,"link",a),ce(i),e.head.appendChild(i))}function Ha(e){return'[src="'+pe(e)+'"]'}function vl(e){return"script[async]"+e}function Xv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+pe(a.href)+'"]');if(l)return i.instance=l,ce(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ce(l),Be(l,"style",h),bc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Fa(a.href);var d=e.querySelector(yl(h));if(d)return i.state.loading|=4,i.instance=d,ce(d),d;l=Yv(a),(h=Vn.get(h))&&Fd(l,h),d=(e.ownerDocument||e).createElement("link"),ce(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Be(d,"link",l),i.state.loading|=4,bc(d,a.precedence,e),i.instance=d;case"script":return d=Ha(a.src),(h=e.querySelector(vl(d)))?(i.instance=h,ce(h),h):(l=a,(h=Vn.get(d))&&(l=E({},a),Hd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),Be(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,e));return i.instance}function bc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Fd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var wc=null;function Jv(e,i,a){if(wc===null){var l=new Map,h=wc=new Map;h.set(a,l)}else h=wc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ls]||d[_e]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Zv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Gb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var _l=null;function Qb(){}function Kb(e,i,a){if(_l===null)throw Error(s(475));var l=_l;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Fa(a.href),d=e.querySelector(yl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Rc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ce(d);return}d=e.ownerDocument||e,a=Yv(a),(h=Vn.get(h))&&Fd(a,h),d=d.createElement("link"),ce(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Be(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Rc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function Yb(){if(_l===null)throw Error(s(475));var e=_l;return e.stylesheets&&e.count===0&&Gd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ic=null;function Gd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ic=new Map,i.forEach(Xb,e),Ic=null,Rc.call(e))}function Xb(e,i){if(!(i.state.loading&4)){var a=Ic.get(e);if(a)var l=a.get(null);else{a=new Map,Ic.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var El={$$typeof:tt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function Jb(e,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function $v(e,i,a,l,h,d,_,T,I,z,K,W){return e=new Jb(e,i,a,_,T,I,z,W),i=1,d===!0&&(i|=24),d=hn(3,null,null,i),e.current=d,d.stateNode=e,i=Rf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Of(d),e}function t_(e){return e?(e=Ta,e):Ta}function e_(e,i,a,l,h,d){h=t_(h),l.context===null?l.context=h:l.pendingContext=h,l=mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=pr(e,l,i),a!==null&&(gn(a,e,i),Jo(a,e,i))}function n_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Qd(e,i){n_(e,i),(e=e.alternate)&&n_(e,i)}function i_(e){if(e.tag===13){var i=Ea(e,67108864);i!==null&&gn(i,e,67108864),Qd(e,67108864)}}var Cc=!0;function Zb(e,i,a,l){var h=Q.T;Q.T=null;var d=at.p;try{at.p=2,Kd(e,i,a,l)}finally{at.p=d,Q.T=h}}function Wb(e,i,a,l){var h=Q.T;Q.T=null;var d=at.p;try{at.p=8,Kd(e,i,a,l)}finally{at.p=d,Q.T=h}}function Kd(e,i,a,l){if(Cc){var h=Yd(l);if(h===null)Pd(e,i,l,Dc,a),s_(e,l);else if(tw(h,e,i,a,l))l.stopPropagation();else if(s_(e,l),i&4&&-1<$b.indexOf(e)){for(;h!==null;){var d=Xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=kn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-Fe(_);T.entanglements[1]|=I,_&=~I}ui(d),(Gt&6)===0&&(fc=Tn()+500,dl(0))}}break;case 13:T=Ea(d,2),T!==null&&gn(T,d,2),mc(),Qd(d,2)}if(d=Yd(l),d===null&&Pd(e,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(e,i,l,null,a)}}function Yd(e){return e=bn(e),Xd(e)}var Dc=null;function Xd(e){if(Dc=null,e=bi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Dc=e,null}function r_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zh()){case vo:return 2;case $s:return 8;case is:case Wh:return 32;case ta:return 268435456;default:return 32}default:return 32}}var Jd=!1,Cr=null,Dr=null,Or=null,Tl=new Map,Al=new Map,Nr=[],$b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s_(e,i){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function Sl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Xn(i),i!==null&&i_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function tw(e,i,a,l,h){switch(i){case"focusin":return Cr=Sl(Cr,e,i,a,l,h),!0;case"dragenter":return Dr=Sl(Dr,e,i,a,l,h),!0;case"mouseover":return Or=Sl(Or,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Tl.set(d,Sl(Tl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,Sl(Al.get(d)||null,e,i,a,l,h)),!0}return!1}function a_(e){var i=bi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,mu(e.priority,function(){if(a.tag===13){var l=pn();l=sr(l);var h=Ea(a,l);h!==null&&gn(h,a,l),Qd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Yd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ci=l,a.target.dispatchEvent(l),Ci=null}else return i=Xn(a),i!==null&&i_(i),e.blockedOn=a,!1;i.shift()}return!0}function o_(e,i,a){Oc(e)&&a.delete(i)}function ew(){Jd=!1,Cr!==null&&Oc(Cr)&&(Cr=null),Dr!==null&&Oc(Dr)&&(Dr=null),Or!==null&&Oc(Or)&&(Or=null),Tl.forEach(o_),Al.forEach(o_)}function Nc(e,i){e.blockedOn===i&&(e.blockedOn=null,Jd||(Jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ew)))}var Mc=null;function l_(e){Mc!==e&&(Mc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===e&&(Mc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Xd(l||a)===null)continue;break}var d=Xn(a);d!==null&&(e.splice(i,3),i-=3,Xf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function bl(e){function i(I){return Nc(I,e)}Cr!==null&&Nc(Cr,e),Dr!==null&&Nc(Dr,e),Or!==null&&Nc(Or,e),Tl.forEach(i),Al.forEach(i);for(var a=0;a<Nr.length;a++){var l=Nr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)a_(a),a.blockedOn===null&&Nr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[me]||null;if(typeof d=="function")_||l_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[me]||null)T=_.formAction;else if(Xd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),l_(a)}}}function Zd(e){this._internalRoot=e}Vc.prototype.render=Zd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pn();e_(a,l,e,i,null,null)},Vc.prototype.unmount=Zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e_(e.current,2,null,e,null,null),mc(),i[An]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var i=ar();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Nr.length&&i!==0&&i<Nr[a].priority;a++);Nr.splice(a,0,e),a===0&&a_(e)}};var u_=t.version;if(u_!=="19.1.0")throw Error(s(527,u_,"19.1.0"));at.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var nw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{ae=Pc.inject(nw),Ht=Pc}catch{}}return Rl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=wy,d=Ry,_=Iy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=$v(e,1,!1,null,null,a,l,h,d,_,T,null),e[An]=i.current,Vd(e),new Zd(i)},Rl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=wy,_=Ry,T=Iy,I=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=$v(e,1,!0,i,a??null,l,h,d,_,T,I,z),i.context=t_(null),a=i.current,l=pn(),l=sr(l),h=mr(l),h.callback=null,pr(a,h,l),a=l,i.current.lanes=a,Si(i,a),ui(i),e[An]=i.current,Vd(e),new Vc(i)},Rl.version="19.1.0",Rl}var __;function dw(){if(__)return tm.exports;__=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),tm.exports=fw(),tm.exports}var mw=dw();const pw=oT(mw);var Il={},E_;function gw(){if(E_)return Il;E_=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.parse=f,Il.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,V){const x=new u,Y=S.length;if(Y<2)return x;const F=(V==null?void 0:V.decode)||E;let X=0;do{const it=S.indexOf("=",X);if(it===-1)break;const tt=S.indexOf(";",X),ht=tt===-1?Y:tt;if(it>ht){X=S.lastIndexOf(";",it-1)+1;continue}const ct=m(S,X,it),wt=p(S,it,ct),M=S.slice(ct,wt);if(x[M]===void 0){let w=m(S,it+1,ht),R=p(S,ht,w);const O=F(S.slice(w,R));x[M]=O}X=ht+1}while(X<Y);return x}function m(S,V,x){do{const Y=S.charCodeAt(V);if(Y!==32&&Y!==9)return V}while(++V<x);return x}function p(S,V,x){for(;V>x;){const Y=S.charCodeAt(--V);if(Y!==32&&Y!==9)return V+1}return x}function g(S,V,x){const Y=(x==null?void 0:x.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const F=Y(V);if(!t.test(F))throw new TypeError(`argument val is invalid: ${V}`);let X=S+"="+F;if(!x)return X;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);X+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);X+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);X+="; Path="+x.path}if(x.expires){if(!b(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);X+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(X+="; HttpOnly"),x.secure&&(X+="; Secure"),x.partitioned&&(X+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return X}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return Il}gw();var T_="popstate";function yw(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Em("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:jl(o)}return _w(t,n,null,r)}function ie(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function gi(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vw(){return Math.random().toString(36).substring(2,10)}function A_(r,t){return{usr:r.state,key:r.key,idx:t}}function Em(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?lo(t):t,state:n,key:t&&t.key||s||vw()}}function jl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function lo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function _w(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let F=E(),X=F==null?null:F-g;g=F,p&&p({action:m,location:Y.location,delta:X})}function S(F,X){m="PUSH";let it=Em(Y.location,F,X);g=E()+1;let tt=A_(it,g),ht=Y.createHref(it);try{f.pushState(tt,"",ht)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;o.location.assign(ht)}u&&p&&p({action:m,location:Y.location,delta:1})}function V(F,X){m="REPLACE";let it=Em(Y.location,F,X);g=E();let tt=A_(it,g),ht=Y.createHref(it);f.replaceState(tt,"",ht),u&&p&&p({action:m,location:Y.location,delta:0})}function x(F){let X=o.location.origin!=="null"?o.location.origin:o.location.href,it=typeof F=="string"?F:jl(F);return it=it.replace(/ $/,"%20"),ie(X,`No window.location.(origin|href) available to create URL for href: ${it}`),new URL(it,X)}let Y={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(T_,b),p=F,()=>{o.removeEventListener(T_,b),p=null}},createHref(F){return t(o,F)},createURL:x,encodeLocation(F){let X=x(F);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:S,replace:V,go(F){return f.go(F)}};return Y}function lT(r,t,n="/"){return Ew(r,t,n,!1)}function Ew(r,t,n,s){let o=typeof t=="string"?lo(t):t,u=Wi(o.pathname||"/",n);if(u==null)return null;let f=uT(r);Tw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Mw(u);m=Ow(f[p],g,s)}return m}function uT(r,t=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ie(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ji([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ie(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),uT(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:Cw(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of cT(u.path))o(u,f,p)}),t}function cT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=cT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Tw(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:Dw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Aw=/^:[\w-]+$/,Sw=3,bw=2,ww=1,Rw=10,Iw=-2,S_=r=>r==="*";function Cw(r,t){let n=r.split("/"),s=n.length;return n.some(S_)&&(s+=Iw),t&&(s+=bw),n.filter(o=>!S_(o)).reduce((o,u)=>o+(Aw.test(u)?Sw:u===""?ww:Rw),s)}function Dw(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Ow(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=$c({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=$c({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Ji([u,b.pathname]),pathnameBase:kw(Ji([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=Ji([u,b.pathnameBase]))}return f}function $c(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Nw(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},S)=>{if(E==="*"){let x=m[S]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const V=m[S];return b&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Nw(r,t=!1,n=!0){gi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Mw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Wi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Vw(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?lo(r):r;return{pathname:n?n.startsWith("/")?n:Pw(n,t):t,search:Uw(s),hash:Lw(o)}}function Pw(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xw(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hT(r){let t=xw(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function fT(r,t,n,s=!1){let o;typeof r=="string"?o=lo(r):(o={...r},ie(!o.pathname||!o.pathname.includes("?"),rm("?","pathname","search",o)),ie(!o.pathname||!o.pathname.includes("#"),rm("#","pathname","hash",o)),ie(!o.search||!o.search.includes("#"),rm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?t[b]:"/"}let p=Vw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Ji=r=>r.join("/").replace(/\/\/+/g,"/"),kw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Uw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Lw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Bw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var dT=["POST","PUT","PATCH","DELETE"];new Set(dT);var zw=["GET",...dT];new Set(zw);var uo=G.createContext(null);uo.displayName="DataRouter";var Ah=G.createContext(null);Ah.displayName="DataRouterState";var mT=G.createContext({isTransitioning:!1});mT.displayName="ViewTransition";var jw=G.createContext(new Map);jw.displayName="Fetchers";var qw=G.createContext(null);qw.displayName="Await";var Ei=G.createContext(null);Ei.displayName="Navigation";var Wl=G.createContext(null);Wl.displayName="Location";var Gn=G.createContext({outlet:null,matches:[],isDataRoute:!1});Gn.displayName="Route";var Jm=G.createContext(null);Jm.displayName="RouteError";function Fw(r,{relative:t}={}){ie($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Ei),{hash:o,pathname:u,search:f}=tu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ji([n,u])),s.createHref({pathname:m,search:f,hash:o})}function $l(){return G.useContext(Wl)!=null}function ir(){return ie($l(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Wl).location}var pT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gT(r){G.useContext(Ei).static||G.useLayoutEffect(r)}function Ys(){let{isDataRoute:r}=G.useContext(Gn);return r?sR():Hw()}function Hw(){ie($l(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(uo),{basename:t,navigator:n}=G.useContext(Ei),{matches:s}=G.useContext(Gn),{pathname:o}=ir(),u=JSON.stringify(hT(s)),f=G.useRef(!1);return gT(()=>{f.current=!0}),G.useCallback((p,g={})=>{if(gi(f.current,pT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=fT(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ji([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}var Gw=G.createContext(null);function Qw(r){let t=G.useContext(Gn).outlet;return t&&G.createElement(Gw.Provider,{value:r},t)}function Kw(){let{matches:r}=G.useContext(Gn),t=r[r.length-1];return t?t.params:{}}function tu(r,{relative:t}={}){let{matches:n}=G.useContext(Gn),{pathname:s}=ir(),o=JSON.stringify(hT(n));return G.useMemo(()=>fT(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function Yw(r,t){return yT(r,t)}function yT(r,t,n,s){var it;ie($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(Ei),{matches:f}=G.useContext(Gn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let tt=b&&b.path||"";vT(g,!b||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let S=ir(),V;if(t){let tt=typeof t=="string"?lo(t):t;ie(E==="/"||((it=tt.pathname)==null?void 0:it.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),V=tt}else V=S;let x=V.pathname||"/",Y=x;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");Y="/"+x.replace(/^\//,"").split("/").slice(tt.length).join("/")}let F=!u&&n&&n.matches&&n.matches.length>0?n.matches:lT(r,{pathname:Y});gi(b||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),gi(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=$w(F&&F.map(tt=>Object.assign({},tt,{params:Object.assign({},p,tt.params),pathname:Ji([E,o.encodeLocation?o.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:Ji([E,o.encodeLocation?o.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),f,n,s);return t&&X?G.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},X):X}function Xw(){let r=rR(),t=Bw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,f)}var Jw=G.createElement(Xw,null),Zw=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?G.createElement(Gn.Provider,{value:this.props.routeContext},G.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ww({routeContext:r,match:t,children:n}){let s=G.useContext(uo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Gn.Provider,{value:r},n)}function $w(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ie(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:b}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,S=!1,V=null,x=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,V=g.route.errorElement||Jw,f&&(m<0&&E===0?(vT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,x=null):m===E&&(S=!0,x=g.route.hydrateFallbackElement||null)));let Y=t.concat(o.slice(0,E+1)),F=()=>{let X;return b?X=V:S?X=x:g.route.Component?X=G.createElement(g.route.Component,null):g.route.element?X=g.route.element:X=p,G.createElement(Ww,{match:g,routeContext:{outlet:p,matches:Y,isDataRoute:n!=null},children:X})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(Zw,{location:n.location,revalidation:n.revalidation,component:V,error:b,children:F(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):F()},null)}function Zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tR(r){let t=G.useContext(uo);return ie(t,Zm(r)),t}function eR(r){let t=G.useContext(Ah);return ie(t,Zm(r)),t}function nR(r){let t=G.useContext(Gn);return ie(t,Zm(r)),t}function Wm(r){let t=nR(r),n=t.matches[t.matches.length-1];return ie(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function iR(){return Wm("useRouteId")}function rR(){var s;let r=G.useContext(Jm),t=eR("useRouteError"),n=Wm("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function sR(){let{router:r}=tR("useNavigate"),t=Wm("useNavigate"),n=G.useRef(!1);return gT(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{gi(n.current,pT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var b_={};function vT(r,t,n){!t&&!b_[r]&&(b_[r]=!0,gi(!1,n))}G.memo(aR);function aR({routes:r,future:t,state:n}){return yT(r,void 0,n,t)}function oR(r){return Qw(r.context)}function ci(r){ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lR({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ie(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=lo(n));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:S="default"}=n,V=G.useMemo(()=>{let x=Wi(p,f);return x==null?null:{location:{pathname:x,search:g,hash:E,state:b,key:S},navigationType:s}},[f,p,g,E,b,S,s]);return gi(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:G.createElement(Ei.Provider,{value:m},G.createElement(Wl.Provider,{children:t,value:V}))}function uR({children:r,location:t}){return Yw(Tm(r),t)}function Tm(r,t=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,Tm(s.props.children,u));return}ie(s.type===ci,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ie(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tm(s.props.children,u)),n.push(f)}),n}var qc="get",Fc="application/x-www-form-urlencoded";function Sh(r){return r!=null&&typeof r.tagName=="string"}function cR(r){return Sh(r)&&r.tagName.toLowerCase()==="button"}function hR(r){return Sh(r)&&r.tagName.toLowerCase()==="form"}function fR(r){return Sh(r)&&r.tagName.toLowerCase()==="input"}function dR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function mR(r,t){return r.button===0&&(!t||t==="_self")&&!dR(r)}var xc=null;function pR(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var gR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(r){return r!=null&&!gR.has(r)?(gi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):r}function yR(r,t){let n,s,o,u,f;if(hR(r)){let m=r.getAttribute("action");s=m?Wi(m,t):null,n=r.getAttribute("method")||qc,o=sm(r.getAttribute("enctype"))||Fc,u=new FormData(r)}else if(cR(r)||fR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Wi(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||qc,o=sm(r.getAttribute("formenctype"))||sm(m.getAttribute("enctype"))||Fc,u=new FormData(m,r),!pR()){let{name:g,type:E,value:b}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(Sh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,s=null,o=Fc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function $m(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function vR(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _R(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ER(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await vR(u,n);return f.links?f.links():[]}return[]}));return bR(s.flat(1).filter(_R).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function w_(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function TR(r,t,{includeHydrateFallback:n}={}){return AR(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function AR(r){return[...new Set(r)]}function SR(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function bR(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(SR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var wR=new Set([100,101,204,205]);function RR(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&Wi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function _T(){let r=G.useContext(uo);return $m(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function IR(){let r=G.useContext(Ah);return $m(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tp=G.createContext(void 0);tp.displayName="FrameworkContext";function ET(){let r=G.useContext(tp);return $m(r,"You must render this element inside a <HydratedRouter> element"),r}function CR(r,t){let n=G.useContext(tp),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=t,S=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=X=>{X.forEach(it=>{f(it.isIntersecting)})},F=new IntersectionObserver(Y,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let V=()=>{o(!0)},x=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Cl(m,V),onBlur:Cl(p,x),onMouseEnter:Cl(g,V),onMouseLeave:Cl(E,x),onTouchStart:Cl(b,V)}]:[!1,S,{}]}function Cl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function DR({page:r,...t}){let{router:n}=_T(),s=G.useMemo(()=>lT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(NR,{page:r,matches:s,...t}):null}function OR(r){let{manifest:t,routeModules:n}=ET(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return ER(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function NR({page:r,matches:t,...n}){let s=ir(),{manifest:o,routeModules:u}=ET(),{basename:f}=_T(),{loaderData:m,matches:p}=IR(),g=G.useMemo(()=>w_(r,t,p,o,s,"data"),[r,t,p,o,s]),E=G.useMemo(()=>w_(r,t,p,o,s,"assets"),[r,t,p,o,s]),b=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let x=new Set,Y=!1;if(t.forEach(X=>{var tt;let it=o.routes[X.route.id];!it||!it.hasLoader||(!g.some(ht=>ht.route.id===X.route.id)&&X.route.id in m&&((tt=u[X.route.id])!=null&&tt.shouldRevalidate)||it.hasClientLoader?Y=!0:x.add(X.route.id))}),x.size===0)return[];let F=RR(r,f);return Y&&x.size>0&&F.searchParams.set("_routes",t.filter(X=>x.has(X.route.id)).map(X=>X.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,t,r,u]),S=G.useMemo(()=>TR(E,o),[E,o]),V=OR(E);return G.createElement(G.Fragment,null,b.map(x=>G.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),S.map(x=>G.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),V.map(({key:x,link:Y})=>G.createElement("link",{key:x,...Y})))}function MR(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var TT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TT&&(window.__reactRouterVersion="7.5.3")}catch{}function VR({basename:r,children:t,window:n}){let s=G.useRef();s.current==null&&(s.current=yw({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(lR,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var AT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xa=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,...S},V){let{basename:x}=G.useContext(Ei),Y=typeof g=="string"&&AT.test(g),F,X=!1;if(typeof g=="string"&&Y&&(F=g,TT))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=Wi(O.pathname,x);O.origin===R.origin&&P!=null?g=P+O.search+O.hash:X=!0}catch{gi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=Fw(g,{relative:o}),[tt,ht,ct]=CR(s,S),wt=UR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function M(R){t&&t(R),R.defaultPrevented||wt(R)}let w=G.createElement("a",{...S,...ct,href:F||it,onClick:X||u?t:M,ref:MR(V,ht),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return tt&&!Y?G.createElement(G.Fragment,null,w,G.createElement(DR,{page:it})):w});Xa.displayName="Link";var PR=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let b=tu(f,{relative:g.relative}),S=ir(),V=G.useContext(Ah),{navigator:x,basename:Y}=G.useContext(Ei),F=V!=null&&qR(b)&&m===!0,X=x.encodeLocation?x.encodeLocation(b).pathname:b.pathname,it=S.pathname,tt=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(it=it.toLowerCase(),tt=tt?tt.toLowerCase():null,X=X.toLowerCase()),tt&&Y&&(tt=Wi(tt,Y)||tt);const ht=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ct=it===X||!o&&it.startsWith(X)&&it.charAt(ht)==="/",wt=tt!=null&&(tt===X||!o&&tt.startsWith(X)&&tt.charAt(X.length)==="/"),M={isActive:ct,isPending:wt,isTransitioning:F},w=ct?t:void 0,R;typeof s=="function"?R=s(M):R=[s,ct?"active":null,wt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return G.createElement(Xa,{...g,"aria-current":w,className:R,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(M):p)});PR.displayName="NavLink";var xR=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=qc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...S},V)=>{let x=zR(),Y=jR(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&AT.test(m),it=tt=>{if(p&&p(tt),tt.defaultPrevented)return;tt.preventDefault();let ht=tt.nativeEvent.submitter,ct=(ht==null?void 0:ht.getAttribute("formmethod"))||f;x(ht||tt.currentTarget,{fetcherKey:t,method:ct,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return G.createElement("form",{ref:V,method:F,action:Y,onSubmit:s?p:it,...S,"data-discover":!X&&r==="render"?"true":void 0})});xR.displayName="Form";function kR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ST(r){let t=G.useContext(uo);return ie(t,kR(r)),t}function UR(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Ys(),p=ir(),g=tu(r,{relative:u});return G.useCallback(E=>{if(mR(E,t)){E.preventDefault();let b=n!==void 0?n:jl(p)===jl(g);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,r,o,u,f])}var LR=0,BR=()=>`__${String(++LR)}__`;function zR(){let{router:r}=ST("useSubmit"),{basename:t}=G.useContext(Ei),n=iR();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=yR(s,t);if(o.navigate===!1){let E=o.fetcherKey||BR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function jR(r,{relative:t}={}){let{basename:n}=G.useContext(Ei),s=G.useContext(Gn);ie(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...tu(r||".",{relative:t})},f=ir();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ji([n,u.pathname])),jl(u)}function qR(r,t={}){let n=G.useContext(mT);ie(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ST("useViewTransitionState"),o=tu(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=Wi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Wi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return $c(o.pathname,f)!=null||$c(o.pathname,u)!=null}new TextEncoder;[...wR];const bh="/assets/cocofit_logo-CYiYDSeG.jpg",FR=()=>{const r=Ys();return Z.jsx("div",{className:"intro-container",children:Z.jsx("img",{src:bh,alt:"COCOFIT Logo",className:"logo",onClick:()=>r("/login"),style:{cursor:"pointer"}})})},HR=()=>{};var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},GR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},wT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(S=64)),s.push(n[E],n[b],n[S],n[V])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(bT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):GR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new QR;const S=u<<2|m>>4;if(s.push(S),g!==64){const V=m<<4&240|g>>2;if(s.push(V),b!==64){const x=g<<6&192|b;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KR=function(r){const t=bT(r);return wT.encodeByteArray(t,!0)},th=function(r){return KR(r).replace(/\./g,"")},RT=function(r){try{return wT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=()=>YR().__FIREBASE_DEFAULTS__,JR=()=>{if(typeof process>"u"||typeof R_>"u")return;const r=R_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&RT(r[1]);return t&&JSON.parse(t)},wh=()=>{try{return HR()||XR()||JR()||ZR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},IT=r=>{var t,n;return(n=(t=wh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},WR=r=>{const t=IT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},CT=()=>{var r;return(r=wh())===null||r===void 0?void 0:r.config},DT=r=>{var t;return(t=wh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){return r.endsWith(".cloudworkstations.dev")}async function OT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[th(JSON.stringify(n)),th(JSON.stringify(f)),""].join(".")}const Pl={};function e1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Pl))Pl[t]?r.emulator.push(t):r.prod.push(t);return r}function n1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let I_=!1;function Rh(r,t){if(typeof window>"u"||typeof document>"u"||!eu(window.location.host)||Pl[r]===t||Pl[r]||I_)return;Pl[r]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=e1().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{I_=!0,f()},S}function E(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=n1(s),V=n("text"),x=document.getElementById(V)||document.createElement("span"),Y=n("learnmore"),F=document.getElementById(Y)||document.createElement("a"),X=n("preprendIcon"),it=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const tt=S.element;m(tt),E(F,Y);const ht=g();p(it,X),tt.append(it,x,F,ht),document.body.appendChild(tt)}u?(x.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function r1(){var r;const t=(r=wh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function a1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o1(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function l1(){return!r1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MT(){try{return typeof indexedDB=="object"}catch{return!1}}function VT(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}function u1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="FirebaseError";class Qn extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=c1,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xs.prototype.create)}}class Xs{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?h1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Qn(o,m,s)}}function h1(r,t){return r.replace(f1,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const f1=/\{\$([^}]+)}/g;function d1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function qr(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(C_(u)&&C_(f)){if(!qr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function C_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Dl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ol(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function m1(r,t){const n=new p1(r,t);return n.subscribe.bind(n)}class p1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");g1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=am),o.error===void 0&&(o.error=am),o.complete===void 0&&(o.complete=am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function am(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=1e3,v1=2,_1=4*60*60*1e3,E1=.5;function D_(r,t=y1,n=v1){const s=t*Math.pow(n,r),o=Math.round(E1*s*(Math.random()-.5)*2);return Math.min(_1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(r){return r&&r._delegate?r._delegate:r}class Hn{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new $R;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(S1(t))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Us){return this.instances.has(t)}getOptions(t=Us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:A1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Us){return this.component?this.component.multipleInstances?t:Us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A1(r){return r===Us?void 0:r}function S1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new T1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const w1={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},R1=Vt.INFO,I1={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},C1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=I1[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ih{constructor(t){this.name=t,this._logLevel=R1,this._logHandler=C1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?w1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const D1=(r,t)=>t.some(n=>r instanceof n);let O_,N_;function O1(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N1(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PT=new WeakMap,Am=new WeakMap,xT=new WeakMap,om=new WeakMap,ep=new WeakMap;function M1(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Lr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&PT.set(n,r)}).catch(()=>{}),ep.set(t,r),t}function V1(r){if(Am.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Am.set(r,t)}let Sm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Am.get(r);if(t==="objectStoreNames")return r.objectStoreNames||xT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function P1(r){Sm=r(Sm)}function x1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(lm(this),t,...n);return xT.set(s,t.sort?t.sort():[t]),Lr(s)}:N1().includes(r)?function(...t){return r.apply(lm(this),t),Lr(PT.get(this))}:function(...t){return Lr(r.apply(lm(this),t))}}function k1(r){return typeof r=="function"?x1(r):(r instanceof IDBTransaction&&V1(r),D1(r,O1())?new Proxy(r,Sm):r)}function Lr(r){if(r instanceof IDBRequest)return M1(r);if(om.has(r))return om.get(r);const t=k1(r);return t!==r&&(om.set(r,t),ep.set(t,r)),t}const lm=r=>ep.get(r);function kT(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Lr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Lr(f.result),p.oldVersion,p.newVersion,Lr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const U1=["get","getKey","getAll","getAllKeys","count"],L1=["put","add","delete","clear"],um=new Map;function M_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(um.get(t))return um.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=L1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||U1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return um.set(t,u),u}P1(r=>({...r,get:(t,n,s)=>M_(t,n)||r.get(t,n,s),has:(t,n)=>!!M_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function z1(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const bm="@firebase/app",V_="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Ih("@firebase/app"),j1="@firebase/app-compat",q1="@firebase/analytics-compat",F1="@firebase/analytics",H1="@firebase/app-check-compat",G1="@firebase/app-check",Q1="@firebase/auth",K1="@firebase/auth-compat",Y1="@firebase/database",X1="@firebase/data-connect",J1="@firebase/database-compat",Z1="@firebase/functions",W1="@firebase/functions-compat",$1="@firebase/installations",tI="@firebase/installations-compat",eI="@firebase/messaging",nI="@firebase/messaging-compat",iI="@firebase/performance",rI="@firebase/performance-compat",sI="@firebase/remote-config",aI="@firebase/remote-config-compat",oI="@firebase/storage",lI="@firebase/storage-compat",uI="@firebase/firestore",cI="@firebase/vertexai",hI="@firebase/firestore-compat",fI="firebase",dI="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",mI={[bm]:"fire-core",[j1]:"fire-core-compat",[F1]:"fire-analytics",[q1]:"fire-analytics-compat",[G1]:"fire-app-check",[H1]:"fire-app-check-compat",[Q1]:"fire-auth",[K1]:"fire-auth-compat",[Y1]:"fire-rtdb",[X1]:"fire-data-connect",[J1]:"fire-rtdb-compat",[Z1]:"fire-fn",[W1]:"fire-fn-compat",[$1]:"fire-iid",[tI]:"fire-iid-compat",[eI]:"fire-fcm",[nI]:"fire-fcm-compat",[iI]:"fire-perf",[rI]:"fire-perf-compat",[sI]:"fire-rc",[aI]:"fire-rc-compat",[oI]:"fire-gcs",[lI]:"fire-gcs-compat",[uI]:"fire-fst",[hI]:"fire-fst-compat",[cI]:"fire-vertex","fire-js":"fire-js",[fI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,pI=new Map,Rm=new Map;function P_(r,t){try{r.container.addComponent(t)}catch(n){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function yi(r){const t=r.name;if(Rm.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Rm.set(t,r);for(const n of eh.values())P_(n,r);for(const n of pI.values())P_(n,r);return!0}function Js(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Xs("app","Firebase",gI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=dI;function UT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:wm,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(n||(n=CT()),!n)throw Br.create("no-options");const u=eh.get(o);if(u){if(qr(n,u.options)&&qr(s,u.config))return u;throw Br.create("duplicate-app",{appName:o})}const f=new b1(o);for(const p of Rm.values())f.addComponent(p);const m=new yI(n,s,f);return eh.set(o,m),m}function np(r=wm){const t=eh.get(r);if(!t&&r===wm&&CT())return UT();if(!t)throw Br.create("no-app",{appName:r});return t}function Pn(r,t,n){var s;let o=(s=mI[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(m.join(" "));return}yi(new Hn(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="firebase-heartbeat-database",_I=1,ql="firebase-heartbeat-store";let cm=null;function LT(){return cm||(cm=kT(vI,_I,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw Br.create("idb-open",{originalErrorMessage:r.message})})),cm}async function EI(r){try{const n=(await LT()).transaction(ql),s=await n.objectStore(ql).get(BT(r));return await n.done,s}catch(t){if(t instanceof Qn)$i.warn(t.message);else{const n=Br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$i.warn(n.message)}}}async function x_(r,t){try{const s=(await LT()).transaction(ql,"readwrite");await s.objectStore(ql).put(t,BT(r)),await s.done}catch(n){if(n instanceof Qn)$i.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(s.message)}}}function BT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=1024,AI=30;class SI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=k_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>AI){const f=RI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$i.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k_(),{heartbeatsToSend:s,unsentEntries:o}=bI(this._heartbeatsCache.heartbeats),u=th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return $i.warn(n),""}}}function k_(){return new Date().toISOString().substring(0,10)}function bI(r,t=TI){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),U_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),U_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class wI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MT()?VT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function U_(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function RI(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(r){yi(new Hn("platform-logger",t=>new B1(t),"PRIVATE")),yi(new Hn("heartbeat",t=>new SI(t),"PRIVATE")),Pn(bm,V_,r),Pn(bm,V_,"esm2017"),Pn("fire-js","")}II("");var CI="firebase",DI="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(CI,DI,"app");function ip(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OI=zT,jT=new Xs("auth","Firebase",zT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Ih("@firebase/auth");function NI(r,...t){nh.logLevel<=Vt.WARN&&nh.warn(`Auth (${co}): ${r}`,...t)}function Hc(r,...t){nh.logLevel<=Vt.ERROR&&nh.error(`Auth (${co}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(r,...t){throw sp(r,...t)}function Fn(r,...t){return sp(r,...t)}function rp(r,t,n){const s=Object.assign(Object.assign({},OI()),{[t]:n});return new Xs("auth","Firebase",s).create(t,{appName:r.name})}function Zi(r){return rp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MI(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&xn(r,"argument-error"),rp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return jT.create(r,...t)}function _t(r,t,...n){if(!r)throw sp(t,...n)}function Yi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Hc(t),new Error(t)}function tr(r,t){r||Yi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function VI(){return L_()==="http:"||L_()==="https:"}function L_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VI()||NT()||"connection"in navigator)?navigator.onLine:!0}function xI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,n){this.shortDelay=t,this.longDelay=n,tr(n>t,"Short delay should be less than long delay!"),this.isMobile=i1()||a1()}get(){return PI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r,t){tr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LI=new iu(3e4,6e4);function Xr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Jr(r,t,n,s,o={}){return FT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=nu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return s1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&eu(r.emulatorConfig.host)&&(g.credentials="include"),qT.fetch()(await HT(r,r.config.apiHost,n,m),g)})}async function FT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},kI),t);try{const o=new zI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw kc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw kc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw rp(r,E,g);xn(r,E)}}catch(o){if(o instanceof Qn)throw o;xn(r,"network-request-failed",{message:String(o)})}}async function ru(r,t,n,s,o={}){const u=await Jr(r,t,n,s,o);return"mfaPendingCredential"in u&&xn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function HT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?ap(r.config,o):`${r.config.apiScheme}://${o}`;return UI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function BI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Fn(this.auth,"network-request-failed")),LI.get())})}}function kc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Fn(r,t,s);return o.customData._tokenResponse=n,o}function B_(r){return r!==void 0&&r.enterprise!==void 0}class jI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return BI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qI(r,t){return Jr(r,"GET","/v2/recaptchaConfig",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r,t){return Jr(r,"POST","/v1/accounts:delete",t)}async function ih(r,t){return Jr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function HI(r,t=!1){const n=Je(r),s=await n.getIdToken(t),o=op(s);_t(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:xl(hm(o.auth_time)),issuedAtTime:xl(hm(o.iat)),expirationTime:xl(hm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function hm(r){return Number(r)*1e3}function op(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=RT(n);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function z_(r){const t=op(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Qn&&GI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function GI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Fl(r,ih(n,{idToken:s}));_t(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?GT(u.providerUserInfo):[],m=YI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Cm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function KI(r){const t=Je(r);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function YI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function GT(r){return r.map(t=>{var{providerId:n}=t,s=ip(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(r,t){const n=await FT(r,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await HT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",qT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JI(r,t){return Jr(r,"POST","/v2/accounts:revokeToken",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=z_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await XI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ja;return s&&(_t(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(_t(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(_t(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class qn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=ip(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Cm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return HI(this,t)}reload(){return KI(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new qn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await Fl(this,FI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,x=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,X=(g=n.createdAt)!==null&&g!==void 0?g:void 0,it=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:tt,emailVerified:ht,isAnonymous:ct,providerData:wt,stsTokenManager:M}=n;_t(tt&&M,t,"internal-error");const w=Ja.fromJSON(this.name,M);_t(typeof tt=="string",t,"internal-error"),Vr(b,t.name),Vr(S,t.name),_t(typeof ht=="boolean",t,"internal-error"),_t(typeof ct=="boolean",t,"internal-error"),Vr(V,t.name),Vr(x,t.name),Vr(Y,t.name),Vr(F,t.name),Vr(X,t.name),Vr(it,t.name);const R=new qn({uid:tt,auth:t,email:S,emailVerified:ht,displayName:b,isAnonymous:ct,photoURL:x,phoneNumber:V,tenantId:Y,stsTokenManager:w,createdAt:X,lastLoginAt:it});return wt&&Array.isArray(wt)&&(R.providerData=wt.map(O=>Object.assign({},O))),F&&(R._redirectEventId=F),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ja;o.updateFromServerResponse(n);const u=new qn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await rh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];_t(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?GT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ja;m.updateFromIdToken(s);const p=new qn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;function Xi(r){tr(r instanceof Function,"Expected a class definition");let t=j_.get(r);return t?(tr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,j_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}QT.type="NONE";const q_=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r,t,n){return`firebase:${r}:${t}:${n}`}class Za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ih(this.auth,{idToken:t}).catch(()=>{});return n?qn._fromGetAccountInfoResponse(this.auth,n,t):null}return qn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Za(Xi(q_),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Xi(q_);const f=Gc(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const S=await ih(t,{idToken:E}).catch(()=>{});if(!S)break;b=await qn._fromGetAccountInfoResponse(t,S,E)}else b=qn._fromJSON(t,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Za(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(JT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(KT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(WT(t))return"Blackberry";if($T(t))return"Webos";if(YT(t))return"Safari";if((t.includes("chrome/")||XT(t))&&!t.includes("edge/"))return"Chrome";if(ZT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function KT(r=Xe()){return/firefox\//i.test(r)}function YT(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function XT(r=Xe()){return/crios\//i.test(r)}function JT(r=Xe()){return/iemobile/i.test(r)}function ZT(r=Xe()){return/android/i.test(r)}function WT(r=Xe()){return/blackberry/i.test(r)}function $T(r=Xe()){return/webos/i.test(r)}function lp(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ZI(r=Xe()){var t;return lp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function WI(){return o1()&&document.documentMode===10}function t0(r=Xe()){return lp(r)||ZT(r)||$T(r)||WT(r)||/windows phone/i.test(r)||JT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(r,t=[]){let n;switch(r){case"Browser":n=F_(Xe());break;case"Worker":n=`${F_(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(r,t={}){return Jr(r,"GET","/v2/passwordPolicy",Xr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=6;class nC{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:eC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new $I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ih(this,{idToken:t}),s=await qn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(yn(this.app))return Promise.reject(Zi(this));const n=t?Je(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return yn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tC(this),n=new nC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xs("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await JI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Xi(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=e0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&NI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zr(r){return Je(r)}class H_{constructor(t){this.auth=t,this.observer=null,this.addObserver=m1(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rC(r){Ch=r}function n0(r){return Ch.loadJS(r)}function sC(){return Ch.recaptchaEnterpriseScript}function aC(){return Ch.gapiScript}function oC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class lC{constructor(){this.enterprise=new uC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class uC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const cC="recaptcha-enterprise",i0="NO_RECAPTCHA";class hC{constructor(t){this.type=cC,this.auth=Zr(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{qI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new jI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;B_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(i0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&B_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=sC();p.length!==0&&(p+=m),n0(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function G_(r,t,n,s=!1,o=!1){const u=new hC(r);let f;if(o)f=i0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Dm(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await G_(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await G_(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r,t){const n=Js(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(qr(u,t??{}))return o;xn(o,"already-initialized")}return n.initialize({options:t})}function dC(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Xi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function mC(r,t,n){const s=Zr(r);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=r0(t),{host:f,port:m}=pC(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(qr(g,s.config.emulator)&&qr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,eu(f)?(Rh("Auth",!0),OT(`${u}//${f}${p}`)):gC()}function r0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function pC(r){const t=r0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Q_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Q_(f)}}}function Q_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function gC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,n){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function yC(r,t){return Jr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r,t){return ru(r,"POST","/v1/accounts:signInWithPassword",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(r,t){return ru(r,"POST","/v1/accounts:signInWithEmailLink",Xr(r,t))}async function EC(r,t){return ru(r,"POST","/v1/accounts:signInWithEmailLink",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends up{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Hl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Hl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(t,n,"signInWithPassword",vC);case"emailLink":return _C(t,{email:this._email,oobCode:this._password});default:xn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(t,s,"signUpPassword",yC);case"emailLink":return EC(t,{idToken:n,email:this._email,oobCode:this._password});default:xn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(r,t){return ru(r,"POST","/v1/accounts:signInWithIdp",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="http://localhost";class js extends up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=ip(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Wa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Wa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wa(t,n)}buildRequest(){const t={requestUri:TC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SC(r){const t=Dl(Ol(r)).link,n=t?Dl(Ol(t)).deep_link_id:null,s=Dl(Ol(r)).deep_link_id;return(s?Dl(Ol(s)).link:null)||s||n||t||r}class cp{constructor(t){var n,s,o,u,f,m;const p=Dl(Ol(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=AC((o=p.mode)!==null&&o!==void 0?o:null);_t(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=SC(t);try{return new cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(t,n){return Hl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=cp.parseLink(n);return _t(s,"argument-error"),Hl._fromEmailAndCode(t,s.code,s.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends hp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends su{constructor(){super("facebook.com")}static credential(t){return js._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return js._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ki.credentialFromTaggedObject(t)}static credentialFromError(t){return Ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Ki.credential(n,s)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends su{constructor(){super("github.com")}static credential(t){return js._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends su{constructor(){super("twitter.com")}static credential(t,n){return js._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,t){return ru(r,"POST","/v1/accounts:signUp",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await qn._fromIdTokenResponse(t,s,o),f=K_(s);return new qs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=K_(s);return new qs({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function K_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Qn{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new sh(t,n,s,o)}}function s0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(r,u,t,s):u})}async function wC(r,t,n=!1){const s=await Fl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return qs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(r,t,n=!1){const{auth:s}=r;if(yn(s.app))return Promise.reject(Zi(s));const o="reauthenticate";try{const u=await Fl(r,s0(s,o,t,r),n);_t(u.idToken,s,"internal-error");const f=op(u.idToken);_t(f,s,"internal-error");const{sub:m}=f;return _t(r.uid===m,s,"user-mismatch"),qs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&xn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(r,t,n=!1){if(yn(r.app))return Promise.reject(Zi(r));const s="signIn",o=await s0(r,s,t),u=await qs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function IC(r,t){return a0(Zr(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(r){const t=Zr(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function CC(r,t,n){if(yn(r.app))return Promise.reject(Zi(r));const s=Zr(r),f=await Dm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&o0(r),p}),m=await qs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function DC(r,t,n){return yn(r.app)?Promise.reject(Zi(r)):IC(Je(r),ho.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&o0(r),s})}function OC(r,t,n,s){return Je(r).onIdTokenChanged(t,n,s)}function NC(r,t,n){return Je(r).beforeAuthStateChanged(t,n)}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1e3,VC=10;class u0 extends l0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);WI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,VC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}u0.type="LOCAL";const PC=u0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends l0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}c0.type="SESSION";const h0=c0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Dh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await xC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=fp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function UC(r){fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function LC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zC(){return f0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="firebaseLocalStorageDb",jC=1,oh="firebaseLocalStorage",m0="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(r,t){return r.transaction([oh],t?"readwrite":"readonly").objectStore(oh)}function qC(){const r=indexedDB.deleteDatabase(d0);return new au(r).toPromise()}function Om(){const r=indexedDB.open(d0,jC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(oh,{keyPath:m0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(oh)?t(s):(s.close(),await qC(),t(await Om()))})})}async function Y_(r,t,n){const s=Oh(r,!0).put({[m0]:t,value:n});return new au(s).toPromise()}async function FC(r,t){const n=Oh(r,!1).get(t),s=await new au(n).toPromise();return s===void 0?null:s.value}function X_(r,t){const n=Oh(r,!0).delete(t);return new au(n).toPromise()}const HC=800,GC=3;class p0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>GC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(zC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await LC(),!this.activeServiceWorker)return;this.sender=new kC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Om();return await Y_(t,ah,"1"),await X_(t,ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Y_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>FC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>X_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Oh(o,!1).getAll();return new au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p0.type="LOCAL";const QC=p0;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r,t){return t?Xi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends up{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function KC(r){return a0(r.auth,new dp(r),r.bypassAuthState)}function YC(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),RC(n,new dp(r),r.bypassAuthState)}async function XC(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),wC(n,new dp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KC;case"linkViaPopup":case"linkViaRedirect":return XC;case"reauthViaPopup":case"reauthViaRedirect":return YC;default:xn(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new iu(2e3,1e4);async function ZC(r,t,n){if(yn(r.app))return Promise.reject(Fn(r,"operation-not-supported-in-this-environment"));const s=Zr(r);MI(r,t,hp);const o=g0(s,n);return new Ls(s,"signInViaPopup",t,o).executeNotNull()}class Ls extends y0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,JC.get())};t()}}Ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="pendingRedirect",Qc=new Map;class $C extends y0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Qc.get(this.auth._key());if(!t){try{const s=await t2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Qc.set(this.auth._key(),t)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t2(r,t){const n=i2(t),s=n2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function e2(r,t){Qc.set(r._key(),t)}function n2(r){return Xi(r._redirectPersistence)}function i2(r){return Gc(WC,r.config.apiKey,r.name)}async function r2(r,t,n=!1){if(yn(r.app))return Promise.reject(Zi(r));const s=Zr(r),o=g0(s,t),f=await new $C(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=10*60*1e3;class a2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!o2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!v0(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=s2&&this.cachedEventUids.clear(),this.cachedEventUids.has(J_(t))}saveEventToCache(t){this.cachedEventUids.add(J_(t)),this.lastProcessedEventTime=Date.now()}}function J_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function v0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function o2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(r,t={}){return Jr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c2=/^https?/;async function h2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await l2(r);for(const n of t)try{if(f2(n))return}catch{}xn(r,"unauthorized-domain")}function f2(r){const t=Im(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!c2.test(n))return!1;if(u2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new iu(3e4,6e4);function Z_(){const r=fi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function m2(r){return new Promise((t,n)=>{var s,o,u;function f(){Z_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Z_(),n(Fn(r,"network-request-failed"))},timeout:d2.get()})}if(!((o=(s=fi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=fi().gapi)===null||u===void 0)&&u.load)f();else{const m=oC("iframefcb");return fi()[m]=()=>{gapi.load?f():n(Fn(r,"network-request-failed"))},n0(`${aC()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw Kc=null,t})}let Kc=null;function p2(r){return Kc=Kc||m2(r),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new iu(5e3,15e3),y2="__/auth/iframe",v2="emulator/auth/iframe",_2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T2(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?ap(t,v2):`https://${r.config.authDomain}/${y2}`,s={apiKey:t.apiKey,appName:r.name,v:co},o=E2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function A2(r){const t=await p2(r),n=fi().gapi;return _t(n,r,"internal-error"),t.open({where:document.body,url:T2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Fn(r,"network-request-failed"),m=fi().setTimeout(()=>{u(f)},g2.get());function p(){fi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b2=500,w2=600,R2="_blank",I2="http://localhost";class W_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C2(r,t,n,s=b2,o=w2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},S2),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Xe().toLowerCase();n&&(m=XT(g)?R2:n),KT(g)&&(t=t||I2,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[V,x])=>`${S}${V}=${x},`,"");if(ZI(g)&&m!=="_self")return D2(t||"",m),new W_(null);const b=window.open(t||"",m,E);_t(b,r,"popup-blocked");try{b.focus()}catch{}return new W_(b)}function D2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="__/auth/handler",N2="emulator/auth/handler",M2=encodeURIComponent("fac");async function $_(r,t,n,s,o,u){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:co,eventId:o};if(t instanceof hp){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",d1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof su){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${M2}=${encodeURIComponent(p)}`:"";return`${V2(r)}?${nu(m).slice(1)}${g}`}function V2({config:r}){return r.emulator?ap(r,N2):`https://${r.authDomain}/${O2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class P2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h0,this._completeRedirectFn=r2,this._overrideRedirectResult=e2}async _openPopup(t,n,s,o){var u;tr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await $_(t,n,s,Im(),o);return C2(t,f,fp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await $_(t,n,s,Im(),o);return UC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await A2(t),s=new a2(t);return n.register("authEvent",o=>(_t(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(fm,{type:fm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[fm];f!==void 0&&n(!!f),xn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return t0()||YT()||lp()}}const x2=P2;var tE="@firebase/auth",eE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L2(r){yi(new Hn("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_t(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e0(r)},g=new iC(s,o,u,p);return dC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),yi(new Hn("auth-internal",t=>{const n=Zr(t.getProvider("auth").getImmediate());return(s=>new k2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(tE,eE,U2(r)),Pn(tE,eE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=5*60,z2=DT("authIdTokenMaxAge")||B2;let nE=null;const j2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>z2)return;const o=n==null?void 0:n.token;nE!==o&&(nE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function q2(r=np()){const t=Js(r,"auth");if(t.isInitialized())return t.getImmediate();const n=fC(r,{popupRedirectResolver:x2,persistence:[QC,PC,h0]}),s=DT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=j2(u.toString());NC(n,f,()=>f(n.currentUser)),OC(n,m=>f(m))}}const o=IT("auth");return o?mC(n,`http://${o}`):Rh("Auth",!1),n}function F2(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}rC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Fn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",F2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L2("Browser");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zr,_0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function R(){}R.prototype=w.prototype,M.D=w.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,P,U){for(var C=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)C[Pe-2]=arguments[Pe];return w.prototype[P].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)O[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)O[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=M.g[0],R=M.g[1],P=M.g[2];var U=M.g[3],C=w+(U^R&(P^U))+O[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=U+(P^w&(R^P))+O[1]+3905402710&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(R^U&(w^R))+O[2]+606105819&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(w^P&(U^w))+O[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=w+(U^R&(P^U))+O[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(P^w&(R^P))+O[5]+1200080426&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(R^U&(w^R))+O[6]+2821735955&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(w^P&(U^w))+O[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=w+(U^R&(P^U))+O[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(P^w&(R^P))+O[9]+2336552879&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(R^U&(w^R))+O[10]+4294925233&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(w^P&(U^w))+O[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=w+(U^R&(P^U))+O[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(P^w&(R^P))+O[13]+4254626195&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(R^U&(w^R))+O[14]+2792965006&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(w^P&(U^w))+O[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=w+(P^U&(R^P))+O[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(w^R))+O[6]+3225465664&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^R&(U^w))+O[11]+643717713&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(P^U))+O[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=w+(P^U&(R^P))+O[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(w^R))+O[10]+38016083&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^R&(U^w))+O[15]+3634488961&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(P^U))+O[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=w+(P^U&(R^P))+O[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(w^R))+O[14]+3275163606&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^R&(U^w))+O[3]+4107603335&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(P^U))+O[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=w+(P^U&(R^P))+O[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(w^R))+O[2]+4243563512&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^R&(U^w))+O[7]+1735328473&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(P^U))+O[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=w+(R^P^U)+O[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^P)+O[8]+2272392833&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^R)+O[11]+1839030562&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^w)+O[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=w+(R^P^U)+O[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^P)+O[4]+1272893353&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^R)+O[7]+4139469664&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^w)+O[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=w+(R^P^U)+O[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^P)+O[0]+3936430074&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^R)+O[3]+3572445317&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^w)+O[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=w+(R^P^U)+O[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^P)+O[12]+3873151461&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^R)+O[15]+530742520&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^w)+O[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=w+(P^(R|~U))+O[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~P))+O[7]+1126891415&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~R))+O[14]+2878612391&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~w))+O[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=w+(P^(R|~U))+O[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~P))+O[3]+2399980690&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~R))+O[10]+4293915773&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~w))+O[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=w+(P^(R|~U))+O[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~P))+O[15]+4264355552&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~R))+O[6]+2734768916&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~w))+O[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=w+(P^(R|~U))+O[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~P))+O[11]+3174756917&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~R))+O[2]+718787259&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~w))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var R=w-this.blockSize,O=this.B,P=this.h,U=0;U<w;){if(P==0)for(;U<=R;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<w;)if(O[P++]=M.charCodeAt(U++),P==this.blockSize){o(this,O),P=0;break}}else for(;U<w;)if(O[P++]=M[U++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var R=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=R&255,R/=256;for(this.u(M),M=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)M[R++]=this.g[w]>>>O&255;return M};function u(M,w){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=w(M)}function f(M,w){this.h=w;for(var R=[],O=!0,P=M.length-1;0<=P;P--){var U=M[P]|0;O&&U==w||(R[P]=U,O=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?u(M,function(w){return new f([w|0],0>w?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return F(g(-M));for(var w=[],R=1,O=0;M>=R;O++)w[O]=M/R|0,R*=4294967296;return new f(w,0)}function E(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return F(E(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),O=b,P=0;P<M.length;P+=8){var U=Math.min(8,M.length-P),C=parseInt(M.substring(P,P+U),w);8>U?(U=g(Math.pow(w,U)),O=O.j(U).add(g(C))):(O=O.j(R),O=O.add(g(C)))}return O}var b=p(0),S=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-F(this).m();for(var M=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*w,w*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(Y(this))return"-"+F(this).toString(M);for(var w=g(Math.pow(M,6)),R=this,O="";;){var P=ht(R,w).g;R=X(R,P.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=P,x(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function Y(M){return M.h==-1}r.l=function(M){return M=X(this,M),Y(M)?-1:x(M)?0:1};function F(M){for(var w=M.g.length,R=[],O=0;O<w;O++)R[O]=~M.g[O];return new f(R,~M.h).add(S)}r.abs=function(){return Y(this)?F(this):this},r.add=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0,P=0;P<=w;P++){var U=O+(this.i(P)&65535)+(M.i(P)&65535),C=(U>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);O=C>>>16,U&=65535,C&=65535,R[P]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function X(M,w){return M.add(F(w))}r.j=function(M){if(x(this)||x(M))return b;if(Y(this))return Y(M)?F(this).j(F(M)):F(F(this).j(M));if(Y(M))return F(this.j(F(M)));if(0>this.l(V)&&0>M.l(V))return g(this.m()*M.m());for(var w=this.g.length+M.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<M.g.length;P++){var U=this.i(O)>>>16,C=this.i(O)&65535,Pe=M.i(P)>>>16,se=M.i(P)&65535;R[2*O+2*P]+=C*se,it(R,2*O+2*P),R[2*O+2*P+1]+=U*se,it(R,2*O+2*P+1),R[2*O+2*P+1]+=C*Pe,it(R,2*O+2*P+1),R[2*O+2*P+2]+=U*Pe,it(R,2*O+2*P+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new f(R,0)};function it(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function tt(M,w){this.g=M,this.h=w}function ht(M,w){if(x(w))throw Error("division by zero");if(x(M))return new tt(b,b);if(Y(M))return w=ht(F(M),w),new tt(F(w.g),F(w.h));if(Y(w))return w=ht(M,F(w)),new tt(F(w.g),w.h);if(30<M.g.length){if(Y(M)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=w;0>=O.l(M);)R=ct(R),O=ct(O);var P=wt(R,1),U=wt(O,1);for(O=wt(O,2),R=wt(R,2);!x(O);){var C=U.add(O);0>=C.l(M)&&(P=P.add(R),U=C),O=wt(O,1),R=wt(R,1)}return w=X(M,P.j(w)),new tt(P,w)}for(P=b;0<=M.l(w);){for(R=Math.max(1,Math.floor(M.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=g(R),C=U.j(w);Y(C)||0<C.l(M);)R-=O,U=g(R),C=U.j(w);x(U)&&(U=S),P=P.add(U),M=X(M,C)}return new tt(P,M)}r.A=function(M){return ht(this,M).h},r.and=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&M.i(O);return new f(R,this.h&M.h)},r.or=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|M.i(O);return new f(R,this.h|M.h)},r.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^M.i(O);return new f(R,this.h^M.h)};function ct(M){for(var w=M.g.length+1,R=[],O=0;O<w;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(R,M.h)}function wt(M,w){var R=w>>5;w%=32;for(var O=M.g.length-R,P=[],U=0;U<O;U++)P[U]=0<w?M.i(U+R)>>>w|M.i(U+R+1)<<32-w:M.i(U+R);return new f(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,zr=f}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E0,Nl,T0,Yc,Nm,A0,S0,b0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break t;v=v[L]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,L={next:function(){if(!A&&v<c.length){var H=v++;return{value:y(H,c[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),c.apply(y,L)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function V(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function x(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,L,H){for(var st=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)st[xt-2]=arguments[xt];return y.prototype[L].apply(A,st)}}function Y(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function F(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const L=c.length||0,H=A.length||0;c.length=L+H;for(let st=0;st<H;st++)c[L+st]=A[st]}else c.push(A)}}class X{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function it(c){return/^[\s\xa0]*$/.test(c)}function tt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ht(c){return ht[" "](c),c}ht[" "]=function(){};var ct=tt().indexOf("Gecko")!=-1&&!(tt().toLowerCase().indexOf("webkit")!=-1&&tt().indexOf("Edge")==-1)&&!(tt().indexOf("Trident")!=-1||tt().indexOf("MSIE")!=-1)&&tt().indexOf("Edge")==-1;function wt(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function w(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let H=0;H<R.length;H++)v=R[H],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=zt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Pe{constructor(){this.h=this.g=null}add(y,v){const A=se.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new X(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let at,dt=!1,zt=new Pe,D=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(et)}};var et=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){U(v)}var y=se;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}dt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Dt(c,y){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ct){t:{try{ht(y.nodeName);var L=!0;break t}catch{}L=!1}L||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:At[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dt.aa.h.call(this)}}x(Dt,rt);var At={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Kn(c,y,v,A,L){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=L,this.key=++Wt,this.da=this.fa=!1}function rr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ti(c){this.src=c,this.g={},this.h=0}Ti.prototype.add=function(c,y,v,A,L){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var st=es(c,y,A,L);return-1<st?(y=c[st],v||(y.fa=!1)):(y=new Kn(y,this.src,H,!!A,L),y.fa=v,c.push(y)),y};function ts(c,y){var v=y.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,y,void 0),H;(H=0<=L)&&Array.prototype.splice.call(A,L,1),H&&(rr(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function es(c,y,v,A){for(var L=0;L<c.length;++L){var H=c[L];if(!H.da&&H.listener==y&&H.capture==!!v&&H.ha==A)return L}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),yo={};function hu(c,y,v,A,L){if(Array.isArray(y)){for(var H=0;H<y.length;H++)hu(c,y[H],v,A,L);return null}return v=fu(v),c&&c[Ie]?c.K(y,v,g(A)?!!A.capture:!1,L):Tn(c,y,v,!1,A,L)}function Tn(c,y,v,A,L,H){if(!y)throw Error("Invalid event type");var st=g(L)?!!L.capture:!!L,xt=ta(c);if(xt||(c[ns]=xt=new Ti(c)),v=xt.add(y,v,A,st,H),v.proxy)return v;if(A=Zh(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)mt||(L=st),L===void 0&&(L=!1),c.addEventListener(y.toString(),A,L);else if(c.attachEvent)c.attachEvent(is(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zh(){function c(v){return y.call(c.src,c.listener,v)}const y=Wh;return c}function vo(c,y,v,A,L){if(Array.isArray(y))for(var H=0;H<y.length;H++)vo(c,y[H],v,A,L);else A=g(A)?!!A.capture:!!A,v=fu(v),c&&c[Ie]?(c=c.i,y=String(y).toString(),y in c.g&&(H=c.g[y],v=es(H,v,A,L),-1<v&&(rr(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete c.g[y],c.h--)))):c&&(c=ta(c))&&(y=c.g[y.toString()],c=-1,y&&(c=es(y,v,A,L)),(v=-1<c?y[c]:null)&&$s(v))}function $s(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ie])ts(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(is(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ta(y))?(ts(v,c),v.h==0&&(v.src=null,y[ns]=null)):rr(c)}}}function is(c){return c in yo?yo[c]:yo[c]="on"+c}function Wh(c,y){if(c.da)c=!0;else{y=new Dt(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&$s(c),c=v.call(A,y)}return c}function ta(c){return c=c[ns],c instanceof Ti?c:null}var _o="__closure_events_fn_"+(1e9*Math.random()>>>0);function fu(c){return typeof c=="function"?c:(c[_o]||(c[_o]=function(y){return c.handleEvent(y)}),c[_o])}function ae(){ot.call(this),this.i=new Ti(this),this.M=this,this.F=null}x(ae,ot),ae.prototype[Ie]=!0,ae.prototype.removeEventListener=function(c,y,v,A){vo(this,c,y,v,A)};function Ht(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new rt(y,c);else if(y instanceof rt)y.target=y.target||c;else{var L=y;y=new rt(A,c),O(y,L)}if(L=!0,v)for(var H=v.length-1;0<=H;H--){var st=y.g=v[H];L=ln(st,A,!0,y)&&L}if(st=y.g=c,L=ln(st,A,!0,y)&&L,L=ln(st,A,!1,y)&&L,v)for(H=0;H<v.length;H++)st=y.g=v[H],L=ln(st,A,!1,y)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)rr(v[A]);delete c.g[y],c.h--}}this.F=null},ae.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},ae.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function ln(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,H=0;H<y.length;++H){var st=y[H];if(st&&!st.da&&st.capture==v){var xt=st.listener,Ee=st.ha||st.src;st.fa&&ts(c.i,st),L=xt.call(Ee,A)!==!1&&L}}return L&&!A.defaultPrevented}function Fe(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function du(c){c.g=Fe(()=>{c.g=null,c.i&&(c.i=!1,du(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class $h extends ot{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){ot.call(this),this.h=c,this.g={}}x(rs,ot);var ss=[];function as(c){wt(c.g,function(y,v){this.g.hasOwnProperty(v)&&$s(y)},c),c.g={}}rs.prototype.N=function(){rs.aa.N.call(this),as(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=m.JSON.stringify,ea=m.JSON.parse,os=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Eo(){}Eo.prototype.h=null;function To(c){return c.h||(c.h=c.i())}function Ao(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){rt.call(this,"d")}x(Si,rt);function So(){rt.call(this,"c")}x(So,rt);var Yn={},bo=null;function sr(){return bo=bo||new ae}Yn.La="serverreachability";function na(c){rt.call(this,Yn.La,c)}x(na,rt);function ar(c){const y=sr();Ht(y,new na(y))}Yn.STAT_EVENT="statevent";function mu(c,y){rt.call(this,Yn.STAT_EVENT,c),this.stat=y}x(mu,rt);function te(c){const y=sr();Ht(y,new mu(y,c))}Yn.Ma="timingevent";function _e(c,y){rt.call(this,Yn.Ma,c),this.size=y}x(_e,rt);function me(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function wo(c,y,v,A,L,H){c.info(function(){if(c.g)if(H)for(var st="",xt=H.split("&"),Ee=0;Ee<xt.length;Ee++){var kt=xt[Ee].split("=");if(1<kt.length){var De=kt[0];kt=kt[1];var Te=De.split("_");st=2<=Te.length&&Te[1]=="type"?st+(De+"="+kt+"&"):st+(De+"=redacted&")}}else st=null;else st=H;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+y+`
`+v+`
`+st})}function tf(c,y,v,A,L,H,st){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+y+`
`+v+`
`+H+" "+st})}function or(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ls(c,v)+(A?" "+A:"")})}function pu(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function ls(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var st=1;st<L.length;st++)L[st]=""}}}}return kn(v)}catch{return y}}var lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Jn(){}x(Jn,Eo),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Xn=new Jn;function Ze(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Ro={},ia={};function Un(c,y,v){c.L=1,c.v=ds(un(y)),c.m=v,c.P=!0,wi(c,null)}function wi(c,y){c.F=Date.now(),us(c),c.A=un(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Mo(v.i,"t",A),c.C=0,v=c.j.J,c.h=new ce,c.g=Nu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new $h(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(ss[0]=L.toString()),L=ss);for(var H=0;H<L.length;H++){var st=hu(v,L[H],A||y.handleEvent,!1,y.h||y);if(!st)break;y.g[st.key]=st}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ar(),wo(c.i,c.u,c.A,c.l,c.R,c.m)}Ze.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},Ze.prototype.Y=function(c){try{if(c==this.g)t:{const Te=Rn(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||Te!=4||y==7||(y==8||0>=Vi?ar(3):ar(2)),ur(this);var v=this.g.Z();this.X=v;e:if(gu(this)){var A=Su(this.g);c="";var L=A.length,H=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),Zn(this);var st="";break e}this.h.i=new m.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(H&&y==L-1)});A.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=v==200,tf(this.i,this.u,this.A,this.l,this.R,Te,v),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Ee=this.g;if((xt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(xt)){var kt=xt;break e}}kt=null}if(v=kt)or(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,v);else{this.o=!1,this.s=3,te(12),xe(this),Zn(this);break t}}if(this.P){v=!0;let ke;for(;!this.J&&this.C<st.length;)if(ke=yu(this,st),ke==ia){Te==4&&(this.s=4,te(14),v=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==Ro){this.s=4,te(15),or(this.i,this.l,st,"[Invalid Chunk]"),v=!1;break}else or(this.i,this.l,ke,null),cs(this,ke);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||st.length!=0||this.h.h||(this.s=1,te(16),v=!1),this.o=this.o&&v,!v)or(this.i,this.l,st,"[Invalid Chunked Response]"),xe(this),Zn(this);else if(0<st.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Ts(De),De.M=!0,te(11))}}else or(this.i,this.l,st,null),cs(this,st);Te==4&&xe(this),this.o&&!this.J&&(Te==4?Cu(this.j,this):(this.o=!1,us(this)))}else af(this.g),v==400&&0<st.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),xe(this),Zn(this)}}}catch{}finally{}};function gu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ia:(v=Number(y.substring(v,A)),isNaN(v)?Ro:(A+=1,A+v>y.length?ia:(y=y.slice(A,A+v),c.C=A+v,y)))}Ze.prototype.cancel=function(){this.J=!0,xe(this)};function us(c){c.S=Date.now()+c.I,vu(c,c.I)}function vu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=me(S(c.ba,c),y)}function ur(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ze.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pu(this.i,this.A),this.L!=2&&(ar(),te(17)),xe(this),this.s=2,Zn(this)):vu(this,this.S-c)};function Zn(c){c.j.G==0||c.J||Cu(c.j,c)}function xe(c){ur(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,as(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function cs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Io(v.h,c))){if(!c.K&&Io(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)pa(v),da(v);else break t;Uo(v),te(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=me(S(v.Za,v),6e3));if(1>=sa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Mi(v,11)}else if((c.K||v.g==c)&&pa(v),!it(y))for(L=v.Da.g.parse(y),y=0;y<L.length;y++){let kt=L[y];if(v.T=kt[0],kt=kt[1],v.G==2)if(kt[0]=="c"){v.K=kt[1],v.ia=kt[2];const De=kt[3];De!=null&&(v.la=De,v.j.info("VER="+v.la));const Te=kt[4];Te!=null&&(v.Aa=Te,v.j.info("SVER="+v.Aa));const Vi=kt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(A=1.5*Vi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ke=c.g;if(ke){const ri=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var H=A.h;H.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(aa(H,H.h),H.h=null))}if(A.D){const Bo=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Bo&&(A.ya=Bo,Kt(A.I,A.D,Bo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var st=c;if(A.qa=Ou(A,A.J?A.ia:null,A.W),st.K){We(A.h,st);var xt=st,Ee=A.L;Ee&&(xt.I=Ee),xt.B&&(ur(xt),us(xt)),A.g=st}else Ru(A);0<v.i.length&&ma(v)}else kt[0]!="stop"&&kt[0]!="close"||Mi(v,7);else v.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Mi(v,7):xo(v):kt[0]!="noop"&&v.l&&v.l.ta(kt),v.v=0)}}ar(4)}catch{}}var _u=class{constructor(c,y){this.g=c,this.map=y}};function Ri(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ra(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sa(c){return c.h?1:c.g?c.g.size:0}function Io(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function aa(c,y){c.g?c.g.add(y):c.h=y}function We(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ri.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Y(c.i)}function ef(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function oa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Do(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=oa(c),A=ef(c),L=A.length,H=0;H<L;H++)y.call(void 0,A[H],v&&v[H],c)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),L=null;if(0<=A){var H=c[v].substring(0,A);L=c[v].substring(A+1)}else H=c[v];y(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pe){this.h=c.h,fs(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.s),this.l=c.l;var y=c.i,v=new Ci;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ii(this,v),this.m=c.m}else c&&(y=String(c).match(hs))?(this.h=!1,fs(this,y[1]||"",!0),this.o=Sn(y[2]||""),this.g=Sn(y[3]||"",!0),cr(this,y[4]),this.l=Sn(y[5]||"",!0),Ii(this,y[6]||"",!0),this.m=Sn(y[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}pe.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ms(y,Oo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ms(y,Oo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ms(v,v.charAt(0)=="/"?rf:No,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ms(v,la)),c.join("")};function un(c){return new pe(c)}function fs(c,y,v){c.j=v?Sn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ii(c,y,v){y instanceof Ci?(c.i=y,Tu(c.i,c.h)):(v||(y=ms(y,sf)),c.i=new Ci(y,c.h))}function Kt(c,y,v){c.i.set(y,v)}function ds(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ms(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Eu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Eu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,No=/[#\?:]/g,rf=/[#\?]/g,sf=/[#\?@]/g,la=/#/g;function Ci(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&nf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ci.prototype,r.add=function(c,y){bn(this),this.i=null,c=Wn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Di(c,y){bn(c),y=Wn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Oi(c,y){return bn(c),y=Wn(c,y),c.g.has(y)}r.forEach=function(c,y){bn(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(y,L,A,this)},this)},this)},r.na=function(){bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const L=c[A];for(let H=0;H<L.length;H++)v.push(y[A])}return v},r.V=function(c){bn(this);let y=[];if(typeof c=="string")Oi(this,c)&&(y=y.concat(this.g.get(Wn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return bn(this),this.i=null,c=Wn(this,c),Oi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Mo(c,y,v){Di(c,y),0<v.length&&(c.i=null,c.g.set(Wn(c,y),Y(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const H=encodeURIComponent(String(A)),st=this.V(A);for(A=0;A<st.length;A++){var L=H;st[A]!==""&&(L+="="+encodeURIComponent(String(st[A]))),c.push(L)}}return this.i=c.join("&")};function Wn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Tu(c,y){y&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(v,A){var L=A.toLowerCase();A!=L&&(Di(this,A),Mo(this,L,v))},c)),c.j=y}function ps(c,y){const v=new An;if(m.Image){const A=new Image;A.onload=V(wn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=V(wn,v,"TestLoadImage: error",!1,y,A),A.onabort=V(wn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=V(wn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Ln(c,y){const v=new An,A=new AbortController,L=setTimeout(()=>{A.abort(),wn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(L),H.ok?wn(v,"TestPingServer: ok",!0,y):wn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),wn(v,"TestPingServer: error",!1,y)})}function wn(c,y,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function gs(){this.g=new os}function $n(c,y,v){const A=v||"";try{Do(c,function(L,H){let st=L;g(L)&&(st=kn(L)),y.push(A+H+"="+encodeURIComponent(st))})}catch(L){throw y.push(A+"type="+encodeURIComponent("_badmap")),L}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(hr,Eo),hr.prototype.g=function(){return new Ni(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function Ni(c,y){ae.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ni,ae),r=Ni.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ei(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ti(this):ei(this),this.readyState==3&&Vo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ti(this))},r.Qa=function(c){this.g&&(this.response=c,ti(this))},r.ga=function(){this.g&&ti(this)};function ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ei(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Po(c){let y="";return wt(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ce(c,y,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Po(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Kt(c,y,v))}function qt(c){ae.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(qt,ae);var ua=/^https?$/i,ys=["POST","PUT"];r=qt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?To(this.o):To(Xn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(H){Au(this,H);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,st]of v)this.g.setRequestHeader(H,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){Au(this,H)}};function Au(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ca(c),ni(c)}function ca(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ni(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},r.bb=function(){ha(this)};function ha(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)Fe(c.Ea,0,c);else if(Ht(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var A;if(A=st===0){var L=String(c.D).match(hs)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),A=!ua.test(L?L.toLowerCase():"")}v=A}if(v)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var H=2<Rn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",ca(c)}}finally{ni(c)}}}}function ni(c,y){if(c.g){vs(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ht(c,"ready");try{v.onreadystatechange=A}catch{}}}function vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ea(y)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function af(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(it(c[A]))continue;var v=P(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=y[L]||[];y[L]=H,H.push(v)}M(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function fa(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,c),this.cb=_s("retryDelaySeedMs",1e4,c),this.Wa=_s("forwardChannelMaxRetries",2,c),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ri(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fa.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,A){te(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Ou(this,null,this.W),ma(this)};function xo(c){if(bu(c),c.G==3){var y=c.U++,v=un(c.I);if(Kt(v,"SID",c.K),Kt(v,"RID",y),Kt(v,"TYPE","terminate"),Es(c,v),y=new Ze(c,c.j,y),y.L=2,y.v=ds(un(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Nu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),us(y)}Du(c)}function da(c){c.g&&(Ts(c),c.g.cancel(),c.g=null)}function bu(c){da(c),c.u&&(m.clearTimeout(c.u),c.u=null),pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ma(c){if(!ra(c.h)&&!c.s){c.s=!0;var y=c.Ga;at||D(),dt||(at(),dt=!0),zt.add(y,c),c.B=0}}function of(c,y){return sa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=me(S(c.Ga,c,y),Lo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Ze(this,this.j,c);let H=this.o;if(this.S&&(H?(H=w(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=wu(this,L,y),v=un(this.I),Kt(v,"RID",c),Kt(v,"CVER",22),this.D&&Kt(v,"X-HTTP-Session-Id",this.D),Es(this,v),H&&(this.O?y="headers="+encodeURIComponent(String(Po(H)))+"&"+y:this.m&&Ce(v,this.m,H)),aa(this.h,L),this.Ua&&Kt(v,"TYPE","init"),this.P?(Kt(v,"$req",y),Kt(v,"SID","null"),L.T=!0,Un(L,v,null)):Un(L,v,y),this.G=2}}else this.G==3&&(c?ko(this,c):this.i.length==0||ra(this.h)||ko(this))};function ko(c,y){var v;y?v=y.l:v=c.U++;const A=un(c.I);Kt(A,"SID",c.K),Kt(A,"RID",v),Kt(A,"AID",c.T),Es(c,A),c.m&&c.o&&Ce(A,c.m,c.o),v=new Ze(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=wu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),aa(c.h,v),Un(v,A,y)}function Es(c,y){c.H&&wt(c.H,function(v,A){Kt(y,A,v)}),c.l&&Do({},function(v,A){Kt(y,A,v)})}function wu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;t:{var L=c.i;let H=-1;for(;;){const st=["count="+v];H==-1?0<v?(H=L[0].g,st.push("ofs="+H)):H=0:st.push("ofs="+H);let xt=!0;for(let Ee=0;Ee<v;Ee++){let kt=L[Ee].g;const De=L[Ee].map;if(kt-=H,0>kt)H=Math.max(0,L[Ee].g-100),xt=!1;else try{$n(De,st,"req"+kt+"_")}catch{A&&A(De)}}if(xt){A=st.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,A}function Ru(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;at||D(),dt||(at(),dt=!0),zt.add(y,c),c.v=0}}function Uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=me(S(c.Fa,c),Lo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=me(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),da(this),Iu(this))};function Ts(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new Ze(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=un(c.qa);Kt(y,"RID","rpc"),Kt(y,"SID",c.K),Kt(y,"AID",c.T),Kt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(y,"TO",c.ja),Kt(y,"TYPE","xmlhttp"),Es(c,y),c.m&&c.o&&Ce(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ds(un(y)),v.m=null,v.P=!0,wi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,da(this),Uo(this),te(19))};function pa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Cu(c,y){var v=null;if(c.g==y){pa(c),Ts(c),c.g=null;var A=2}else if(Io(c.h,y))v=y.D,We(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var L=c.B;A=sr(),Ht(A,new _e(A,v)),ma(c)}else Ru(c);else if(L=y.s,L==3||L==0&&0<y.X||!(A==1&&of(c,y)||A==2&&Uo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),L){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Lo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),A=c.Xa;const L=!A;A=new pe(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fs(A,"https"),ds(A),L?ps(A.toString(),v):Ln(A.toString(),v)}else te(2);c.G=0,c.l&&c.l.sa(y),Du(c),bu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Du(c){if(c.G=0,c.ka=[],c.l){const y=Co(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Ou(c,y,v){var A=v instanceof pe?un(v):new pe(v);if(A.g!="")y&&(A.g=y+"."+A.g),cr(A,A.s);else{var L=m.location;A=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var H=new pe(null);A&&fs(H,A),y&&(H.g=y),L&&cr(H,L),v&&(H.l=v),A=H}return v=c.D,y=c.ya,v&&y&&Kt(A,v,y),Kt(A,"VER",c.la),Es(c,A),A}function Nu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qt(new hr({eb:v})):new qt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}r=Mu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ga(){}ga.prototype.g=function(c,y){return new $e(c,y)};function $e(c,y){ae.call(this),this.g=new fa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!it(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!it(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ii(this)}x($e,ae),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){xo(this.g)},$e.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=kn(c),c=v);y.i.push(new _u(y.Ya++,c)),y.G==3&&ma(y)},$e.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,$e.aa.N.call(this)};function Vu(c){Si.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Vu,Si);function Pu(){So.call(this),this.status=1}x(Pu,So);function ii(c){this.g=c}x(ii,Mu),ii.prototype.ua=function(){Ht(this.g,"a")},ii.prototype.ta=function(c){Ht(this.g,new Vu(c))},ii.prototype.sa=function(c){Ht(this.g,new Pu)},ii.prototype.ra=function(){Ht(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,b0=function(){return new ga},S0=function(){return sr()},A0=Yn,Nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Yc=lr,bi.COMPLETE="complete",T0=bi,Ao.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Nl=Ao,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,E0=qt}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const rE="@firebase/firestore",sE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Ih("@firebase/firestore");function Ga(){return Fs.logLevel}function lt(r,...t){if(Fs.logLevel<=Vt.DEBUG){const n=t.map(mp);Fs.debug(`Firestore (${fo}): ${r}`,...n)}}function er(r,...t){if(Fs.logLevel<=Vt.ERROR){const n=t.map(mp);Fs.error(`Firestore (${fo}): ${r}`,...n)}}function to(r,...t){if(Fs.logLevel<=Vt.WARN){const n=t.map(mp);Fs.warn(`Firestore (${fo}): ${r}`,...n)}}function mp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,w0(r,s,n)}function w0(r,t,n){let s=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||w0(t,o,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Qn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class H2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class G2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q2{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new jr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new jr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new R0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class K2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Y2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new K2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new aE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new aE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=J2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ct(r,t){return r<t?-1:r>t?1:0}function Mm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const u=I0(),f=Z2(u.encode(oE(r,n)),u.encode(oE(t,n)));return f!==0?f:Ct(s,o)}}n+=s>65535?2:1}return Ct(r.length,t.length)}function oE(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Z2(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ct(r[n],t[n]);return Ct(r.length,t.length)}function eo(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-62135596800,uE=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*uE);return new we(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<lE)throw new pt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uE}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-lE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new we(0,0))}static max(){return new St(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class hi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return hi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof hi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=hi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ct(t.length,n.length)}static compareSegments(t,n){const s=hi.isNumericId(t),o=hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hi.extractNumericId(t).compare(hi.extractNumericId(n)):Mm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zr.fromString(t.substring(4,t.length-2))}}class ue extends hi{construct(t,n,s){return new ue(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends hi{construct(t,n,s){return new je(t,n,s)}static isValidIdentifier(t){return W2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new je([cE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new pt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new pt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ue.fromString(t))}static fromName(t){return new yt(ue.fromString(t).popFirst(5))}static empty(){return new yt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function $2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new we(n+1,0):new we(n,s));return new Fr(o,yt.empty(),t)}function tD(r){return new Fr(r.readTime,r.key,Gl)}class Fr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(St.min(),yt.empty(),Gl)}static max(){return new Fr(St.max(),yt.empty(),Gl)}}function eD(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==nD)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,s)=>{n(t)})}static reject(t){return new $((n,s)=>{s(t)})}static waitFor(t){return new $((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new $((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new $((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function rD(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Nh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-1;function Mh(r){return r==null}function lh(r){return r===0&&1/r==-1/0}function sD(r){return typeof r=="number"&&Number.isInteger(r)&&!lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="";function aD(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=hE(t)),t=oD(r.get(n),t);return hE(t)}function oD(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case D0:n+="";break;default:n+=u}}return n}function hE(r){return r+D0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Wr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function O0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){this.comparator=t,this.root=n||ze.EMPTY}insert(t,n){return new re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=u??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new ze(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(t){return new dE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class dE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new vn([])}unionWith(t){let n=new Re(je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new vn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new N0("Invalid base64 string: "+u):u}}(t);return new qe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const lD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=lD.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="server_timestamp",V0="__type__",P0="__previous_value__",x0="__local_write_time__";function gp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[V0])===null||n===void 0?void 0:n.stringValue)===M0}function Vh(r){const t=r.mapValue.fields[P0];return gp(t)?Vh(t):t}function Ql(r){const t=Hr(r.mapValue.fields[x0].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const uh="(default)";class Kl{constructor(t,n){this.projectId=t,this.database=n||uh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===uh}isEqual(t){return t instanceof Kl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__type__",cD="__max__",Bc={mapValue:{}},U0="__vector__",ch="value";function Qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:fD(r)?9007199254740991:hD(r)?10:11:Tt(28295,{value:r})}function vi(r,t){if(r===t)return!0;const n=Qr(r);if(n!==Qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ql(r).isEqual(Ql(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Hr(o.timestampValue),m=Hr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Gr(o.bytesValue).isEqual(Gr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return de(o.geoPointValue.latitude)===de(u.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return de(o.integerValue)===de(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=de(o.doubleValue),m=de(u.doubleValue);return f===m?lh(f)===lh(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],vi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(fE(f)!==fE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!vi(f[p],m[p])))return!1;return!0}(r,t);default:return Tt(52216,{left:r})}}function Yl(r,t){return(r.values||[]).find(n=>vi(n,t))!==void 0}function no(r,t){if(r===t)return 0;const n=Qr(r),s=Qr(t);if(n!==s)return Ct(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=de(u.integerValue||u.doubleValue),p=de(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return mE(r.timestampValue,t.timestampValue);case 4:return mE(Ql(r),Ql(t));case 5:return Mm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Gr(u),p=Gr(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ct(m[g],p[g]);if(E!==0)return E}return Ct(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Ct(de(u.latitude),de(f.latitude));return m!==0?m:Ct(de(u.longitude),de(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return pE(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,E;const b=u.fields||{},S=f.fields||{},V=(m=b[ch])===null||m===void 0?void 0:m.arrayValue,x=(p=S[ch])===null||p===void 0?void 0:p.arrayValue,Y=Ct(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:pE(V,x)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Bc.mapValue&&f===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(f===Bc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=Mm(p[b],E[b]);if(S!==0)return S;const V=no(m[p[b]],g[E[b]]);if(V!==0)return V}return Ct(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Tt(23264,{Pe:n})}}function mE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const n=Hr(r),s=Hr(t),o=Ct(n.seconds,s.seconds);return o!==0?o:Ct(n.nanos,s.nanos)}function pE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return Ct(n.length,s.length)}function io(r){return Vm(r)}function Vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Hr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Gr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return yt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Vm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"}(r.mapValue):Tt(61005,{value:r})}function Xc(r){switch(Qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vh(r);return t?16+Xc(t):16;case 5:return 2*r.stringValue.length;case 6:return Gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Xc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Wr(s.fields,(u,f)=>{o+=u.length+Xc(f)}),o}(r.mapValue);default:throw Tt(13486,{value:r})}}function Pm(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function gE(r){return!!r&&"nullValue"in r}function yE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function hD(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[k0])===null||n===void 0?void 0:n.stringValue)===U0}function kl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Wr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=kl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function fD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=kl(n)}setAll(t){let n=je.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=kl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Wr(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new an(kl(this.value))}}function L0(r){const t=[];return Wr(r.fields,(n,s)=>{const o=new je([n]);if(Jc(s)){const u=L0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ye(t,0,St.min(),St.min(),St.min(),an.empty(),0)}static newFoundDocument(t,n,s,o){return new Ye(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new Ye(t,2,n,St.min(),St.min(),an.empty(),0)}static newUnknownDocument(t,n){return new Ye(t,3,n,St.min(),St.min(),an.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n){this.position=t,this.inclusive=n}}function vE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _E(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!vi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,n="asc"){this.field=t,this.dir=n}}function dD(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{}class be extends B0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new pD(t,n,s):n==="array-contains"?new vD(t,s):n==="in"?new _D(t,s):n==="not-in"?new ED(t,s):n==="array-contains-any"?new TD(t,s):new be(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new gD(t,s):new yD(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends B0{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new _i(t,n)}matches(t){return z0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function z0(r){return r.op==="and"}function j0(r){return mD(r)&&z0(r)}function mD(r){for(const t of r.filters)if(t instanceof _i)return!1;return!0}function xm(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+io(r.value);if(j0(r))return r.filters.map(t=>xm(t)).join(",");{const t=r.filters.map(n=>xm(n)).join(",");return`${r.op}(${t})`}}function q0(r,t){return r instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&vi(s.value,o.value)}(r,t):r instanceof _i?function(s,o){return o instanceof _i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&q0(f,o.filters[m]),!0):!1}(r,t):void Tt(19439)}function F0(r){return r instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(r):r instanceof _i?function(n){return n.op.toString()+" {"+n.getFilters().map(F0).join(" ,")+"}"}(r):"Filter"}class pD extends be{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class gD extends be{constructor(t,n){super(t,"in",n),this.keys=H0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class yD extends be{constructor(t,n){super(t,"not-in",n),this.keys=H0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function H0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>yt.fromName(s.referenceValue))}class vD extends be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return yp(n)&&Yl(n.arrayValue,this.value)}}class _D extends be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class ED extends be{constructor(t,n){super(t,"not-in",n)}matches(t){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class TD extends be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Yl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function EE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new AD(r,t,n,s,o,u,f)}function vp(r){const t=bt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>xm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Mh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>io(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>io(s)).join(",")),t.Ie=n}return t.Ie}function _p(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!dD(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!q0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!_E(r.startAt,t.startAt)&&_E(r.endAt,t.endAt)}function km(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function SD(r,t,n,s,o,u,f,m){return new Ph(r,t,n,s,o,u,f,m)}function Ep(r){return new Ph(r)}function TE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bD(r){return r.collectionGroup!==null}function Ul(r){const t=bt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Re(je.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new fh(u,s))}),n.has(je.keyField().canonicalString())||t.Ee.push(new fh(je.keyField(),s))}return t.Ee}function di(r){const t=bt(r);return t.de||(t.de=wD(t,Ul(r))),t.de}function wD(r,t){if(r.limitType==="F")return EE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new fh(o.field,u)});const n=r.endAt?new hh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new hh(r.startAt.position,r.startAt.inclusive):null;return EE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Um(r,t,n){return new Ph(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function xh(r,t){return _p(di(r),di(t))&&r.limitType===t.limitType}function G0(r){return`${vp(di(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>F0(o)).join(", ")}]`),Mh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>io(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>io(o)).join(",")),`Target(${s})`}(di(r))}; limitType=${r.limitType})`}function kh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Ul(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=vE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Ul(s),o)||s.endAt&&!function(f,m,p){const g=vE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Ul(s),o))}(r,t)}function RD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Q0(r){return(t,n)=>{let s=!1;for(const o of Ul(r)){const u=ID(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ID(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?no(p,g):Tt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Wr(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return O0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new re(yt.comparator);function nr(){return CD}const K0=new re(yt.comparator);function Ml(...r){let t=K0;for(const n of r)t=t.insert(n.key,n);return t}function Y0(r){let t=K0;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Bs(){return Ll()}function X0(){return Ll()}function Ll(){return new Zs(r=>r.toString(),(r,t)=>r.isEqual(t))}const DD=new re(yt.comparator),OD=new Re(yt.comparator);function Pt(...r){let t=OD;for(const n of r)t=t.add(n);return t}const ND=new Re(Ct);function MD(){return ND}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(t)?"-0":t}}function J0(r){return{integerValue:""+r}}function VD(r,t){return sD(t)?J0(t):Tp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function PD(r,t,n){return r instanceof dh?function(o,u){const f={fields:{[V0]:{stringValue:M0},[x0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=Vh(u)),u&&(f.fields[P0]=u),{mapValue:f}}(n,t):r instanceof Xl?W0(r,t):r instanceof Jl?$0(r,t):function(o,u){const f=Z0(o,u),m=AE(f)+AE(o.Re);return Pm(f)&&Pm(o.Re)?J0(m):Tp(o.serializer,m)}(r,t)}function xD(r,t,n){return r instanceof Xl?W0(r,t):r instanceof Jl?$0(r,t):n}function Z0(r,t){return r instanceof mh?function(s){return Pm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class dh extends Uh{}class Xl extends Uh{constructor(t){super(),this.elements=t}}function W0(r,t){const n=tA(t);for(const s of r.elements)n.some(o=>vi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Jl extends Uh{constructor(t){super(),this.elements=t}}function $0(r,t){let n=tA(t);for(const s of r.elements)n=n.filter(o=>!vi(o,s));return{arrayValue:{values:n}}}class mh extends Uh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function AE(r){return de(r.integerValue||r.doubleValue)}function tA(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function kD(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Xl&&o instanceof Xl||s instanceof Jl&&o instanceof Jl?eo(s.elements,o.elements,vi):s instanceof mh&&o instanceof mh?vi(s.Re,o.Re):s instanceof dh&&o instanceof dh}(r.transform,t.transform)}class UD{constructor(t,n){this.version=t,this.transformResults=n}}class mi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new mi}static exists(t){return new mi(void 0,t)}static updateTime(t){return new mi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Lh{}function eA(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new iA(r.key,mi.none()):new ou(r.key,r.data,mi.none());{const n=r.data,s=an.empty();let o=new Re(je.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new $r(r.key,s,new vn(o.toArray()),mi.none())}}function LD(r,t,n){r instanceof ou?function(o,u,f){const m=o.value.clone(),p=bE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof $r?function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=bE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(nA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Bl(r,t,n,s){return r instanceof ou?function(u,f,m,p){if(!Zc(u.precondition,f))return m;const g=u.value.clone(),E=wE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof $r?function(u,f,m,p){if(!Zc(u.precondition,f))return m;const g=wE(u.fieldTransforms,p,f),E=f.data;return E.setAll(nA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,s):function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function BD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=Z0(s.transform,o||null);u!=null&&(n===null&&(n=an.empty()),n.set(s.field,u))}return n||null}function SE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&eo(s,o,(u,f)=>kD(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class ou extends Lh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $r extends Lh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function nA(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function bE(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,xD(f,m,n[o]))}return s}function wE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,PD(u,f,t))}return s}class iA extends Lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zD extends Lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&LD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Bl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Bl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=X0();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=eA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,(n,s)=>SE(n,s))&&eo(this.baseMutations,t.baseMutations,(n,s)=>SE(n,s))}}class Ap{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return DD}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ap(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function HD(r){switch(r){case nt.OK:return Tt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function rA(r){if(r===void 0)return er("GRPC error has no .code"),nt.UNKNOWN;switch(r){case ve.OK:return nt.OK;case ve.CANCELLED:return nt.CANCELLED;case ve.UNKNOWN:return nt.UNKNOWN;case ve.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case ve.INTERNAL:return nt.INTERNAL;case ve.UNAVAILABLE:return nt.UNAVAILABLE;case ve.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case ve.NOT_FOUND:return nt.NOT_FOUND;case ve.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case ve.ABORTED:return nt.ABORTED;case ve.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case ve.DATA_LOSS:return nt.DATA_LOSS;default:return Tt(39323,{code:r})}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new zr([4294967295,4294967295],0);function RE(r){const t=I0().encode(r),n=new _0;return n.update(t),new Uint8Array(n.digest())}function IE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new zr([n,s],0),new zr([o,u],0)]}class Sp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(s<0)throw new Vl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=zr.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(zr.fromNumber(s)));return o.compare(GD)===1&&(o=new zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=RE(t),[s,o]=IE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Sp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const n=RE(t),[s,o]=IE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,lu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Bh(St.min(),o,new re(Ct),nr(),Pt())}}class lu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new lu(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class sA{constructor(t,n){this.targetId=t,this.Ce=n}}class aA{constructor(t,n,s=qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class CE{constructor(){this.Fe=0,this.Me=DE(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Pt(),n=Pt(),s=Pt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}}),new lu(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=DE()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class QD{constructor(t){this.ze=t,this.je=new Map,this.He=nr(),this.Je=zc(),this.Ye=zc(),this.Ze=new re(Ct)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(km(u))if(s===0){const f=new yt(u.path);this.tt(n,f,Ye.newNoDocument(f,St.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(t),p=m?this.lt(m,t,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Gr(s).toUint8Array()}catch(p){if(p instanceof N0)return to("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Sp(f,o,u)}catch(p){return to(p instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&km(m.target)){const p=new yt(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Ye.newNoDocument(p,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Pt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Bh(t,n,this.Ze,this.He,s);return this.He=nr(),this.Je=zc(),this.Ye=zc(),this.Ze=new re(Ct),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new CE,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Re(Ct),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Re(Ct),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new CE),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function zc(){return new re(yt.comparator)}function DE(){return new re(yt.comparator)}const KD={asc:"ASCENDING",desc:"DESCENDING"},YD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XD={and:"AND",or:"OR"};class JD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Lm(r,t){return r.useProto3Json||Mh(t)?t:{value:t}}function ph(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function ZD(r,t){return ph(r,t.toTimestamp())}function pi(r){return Ft(!!r,49232),St.fromTimestamp(function(n){const s=Hr(n);return new we(s.seconds,s.nanos)}(r))}function bp(r,t){return Bm(r,t).canonicalString()}function Bm(r,t){const n=function(o){return new ue(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function lA(r){const t=ue.fromString(r);return Ft(dA(t),10190,{key:t.toString()}),t}function zm(r,t){return bp(r.databaseId,t.path)}function dm(r,t){const n=lA(t);if(n.get(1)!==r.databaseId.projectId)throw new pt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(cA(n))}function uA(r,t){return bp(r.databaseId,t)}function WD(r){const t=lA(r);return t.length===4?ue.emptyPath():cA(t)}function jm(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cA(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function OE(r,t,n){return{name:zm(r,t),fields:n.value.mapValue.fields}}function $D(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),qe.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),qe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const E=g.code===void 0?nt.UNKNOWN:rA(g.code);return new pt(E,g.message||"")}(f);n=new aA(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=dm(r,s.document.name),u=pi(s.document.updateTime),f=s.document.createTime?pi(s.document.createTime):St.min(),m=new an({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Wc(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=dm(r,s.document),u=s.readTime?pi(s.readTime):St.min(),f=Ye.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Wc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=dm(r,s.document),u=s.removedTargetIds||[];n=new Wc([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new FD(o,u),m=s.targetId;n=new sA(m,f)}}return n}function tO(r,t){let n;if(t instanceof ou)n={update:OE(r,t.key,t.value)};else if(t instanceof iA)n={delete:zm(r,t.key)};else if(t instanceof $r)n={update:OE(r,t.key,t.data),updateMask:uO(t.fieldMask)};else{if(!(t instanceof zD))return Tt(16599,{ft:t.type});n={verify:zm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof dh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Tt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ZD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)}(r,t.precondition)),n}function eO(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?pi(o.updateTime):pi(u);return f.isEqual(St.min())&&(f=pi(u)),new UD(f,o.transformResults||[])}(n,t))):[]}function nO(r,t){return{documents:[uA(r,t.path)]}}function iO(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=uA(r,o);const u=function(g){if(g.length!==0)return fA(_i.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:Ka(S.field),direction:aO(S.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Lm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:n,parent:o}}function rO(r){let t=WD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(b){const S=hA(b);return S instanceof _i&&j0(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(S=>function(x){return new fh(Ya(x.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,Mh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(b){const S=!!b.before,V=b.values||[];return new hh(V,S)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const S=!b.before,V=b.values||[];return new hh(V,S)}(n.endAt)),SD(t,o,f,u,m,"F",p,g)}function sO(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function hA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ya(n.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ya(n.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ya(n.unaryFilter.field);return be.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(r):r.fieldFilter!==void 0?function(n){return be.create(Ya(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return _i.create(n.compositeFilter.filters.map(s=>hA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(n.compositeFilter.op))}(r):Tt(30097,{filter:r})}function aO(r){return KD[r]}function oO(r){return YD[r]}function lO(r){return XD[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Ya(r){return je.fromServerFormat(r.fieldPath)}function fA(r){return r instanceof be?function(n){if(n.op==="=="){if(yE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(gE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(gE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:oO(n.op),value:n.value}}}(r):r instanceof _i?function(n){const s=n.getFilters().map(o=>fA(o));return s.length===1?s[0]:{compositeFilter:{op:lO(n.op),filters:s}}}(r):Tt(54877,{filter:r})}function uO(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function dA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,n,s,o,u=St.min(),f=St.min(),m=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t){this.wt=t}}function hO(r){const t=rO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Um(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.yn=new dO}addToCollectionParentIndex(t,n){return this.yn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(Fr.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class dO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Re(ue.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Re(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mA=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(mA,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new ro(0)}static ir(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="LruGarbageCollector",mO=1048576;function VE([r,t],[n,s]){const o=Ct(r,n);return o===0?Ct(t,s):o}class pO{constructor(t){this.cr=t,this.buffer=new Re(VE),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){lt(ME,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?lt(ME,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.Ir(3e5)})}}class yO{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Nh.le);const s=new pO(n);return this.Er.forEachTarget(t,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Er.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(NE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NE):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(t,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(g=Date.now(),Ga()<=Vt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function vO(r,t){return new yO(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.changes=new Zs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Bl(s.mutation,o,vn.empty(),we.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Pt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Pt()){const o=Bs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Ml();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Bs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Pt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=nr();const f=Ll(),m=function(){return Ll()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof $r)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Bl(E.mutation,g,E.mutation.getFieldMask(),we.now())):f.set(g.key,vn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var b;return m.set(g,new EO(E,(b=f.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Ll();let o=new re((f,m)=>f-m),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||vn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||Pt()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=X0();E.forEach(S=>{if(!u.has(S)){const V=eA(n.get(S),s.get(S));V!==null&&b.set(S,V),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,b))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):bD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):$.resolve(Bs());let m=Gl,p=u;return f.next(g=>$.forEach(g,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Pt())).next(E=>({batchId:m,changes:Y0(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(s=>{let o=Ml();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Ml();return this.indexManager.getCollectionParents(t,u).next(m=>$.forEach(m,p=>{const g=function(b,S){return new Ph(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((b,S)=>{f=f.insert(b,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Ye.newInvalidDocument(E)))});let m=Ml();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Bl(E.mutation,g,vn.empty(),we.now()),kh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return $.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:pi(o.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:hO(o.bundledQuery),readTime:pi(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.overlays=new re(yt.comparator),this.Or=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Bs();return $.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),$.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const o=Bs(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new re((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Bs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Bs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return $.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new qD(n,s));let u=this.Or.get(n);u===void 0&&(u=Pt(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.Nr=new Re(Ve.Br),this.Lr=new Re(Ve.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Qr(new Ve(t,n))}$r(t,n){t.forEach(s=>this.removeReference(s,n))}Ur(t){const n=new yt(new ue([])),s=new Ve(n,t),o=new Ve(n,t+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new yt(new ue([])),s=new Ve(n,t),o=new Ve(n,t+1);let u=Pt();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ve(t,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return yt.comparator(t.key,n.key)||Ct(t.Gr,n.Gr)}static kr(t,n){return Ct(t.Gr,n.Gr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Re(Ve.Br)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new Ve(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?pp:this.Jn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),o=new Ve(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(Ct);return n.forEach(o=>{const u=new Ve(o,0),f=new Ve(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),$.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Ve(new yt(u),0);let m=new Re(Ct);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},f),$.resolve(this.Jr(m))}Jr(t){const n=[];return t.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ft(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return $.forEach(n.mutations,o=>{const u=new Ve(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,n){const s=new Ve(n,0),o=this.zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t){this.Zr=t,this.docs=function(){return new re(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(t,n){let s=nr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ye.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=nr();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||eD(tD(E),s)<=0||(o.has(E.key)||kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}Xr(t,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new IO(this)}getSize(t){return $.resolve(this.size)}}class IO extends _O{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(t,o)):this.vr.removeEntry(s)}),$.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t){this.persistence=t,this.ei=new Zs(n=>vp(n),_p),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ti=0,this.ni=new wp,this.targetCount=0,this.ri=ro.rr()}forEachTarget(t,n){return this.ei.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),$.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new ro(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.ar(n),$.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),$.waitFor(u).next(()=>o)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.ei.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this.ni.qr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ni.Wr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,n){this.ii={},this.overlays={},this.si=new Nh(0),this.oi=!1,this.oi=!0,this._i=new bO,this.referenceDelegate=t(this),this.ai=new CO(this),this.indexManager=new fO,this.remoteDocumentCache=function(o){return new RO(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new cO(n),this.ci=new AO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new SO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ii[t.toKey()];return s||(s=new wO(n,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new DO(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,n){return $.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,n)))}}class DO extends iD{constructor(t){super(),this.currentSequenceNumber=t}}class Rp{constructor(t){this.persistence=t,this.Ti=new wp,this.Ii=null}static Ei(t){return new Rp(t)}get di(){if(this.Ii)return this.Ii;throw Tt(60996)}addReference(t,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,s=>{const o=yt.fromPath(s);return this.Ai(t,o).next(u=>{u||n.removeEntry(o,St.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return $.or([()=>$.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class gh{constructor(t,n){this.persistence=t,this.Ri=new Zs(s=>aD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=vO(this,n)}static Ei(t,n){return new gh(t,n)}li(){}hi(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}Vr(t){let n=0;return this.Ar(t,s=>{n++}).next(()=>n)}Ar(t,n){return $.forEach(this.Ri,(s,o)=>this.gr(t,s,o).next(u=>u?$.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,f=>this.gr(t,f,n).next(m=>{m||(s++,u.removeEntry(f,St.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.Ri.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.Ri.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),$.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Xc(t.data.value)),n}gr(t,n,s){return $.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.Ri.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ls=s,this.hs=o}static Ps(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ip(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return l1()?8:rD(Xe())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.Rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new OO;return this.fs(t,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(t,n,f,m.size)})}).next(()=>u.result)}gs(t,n,s,o){return s.documentReadCount<this.Es?(Ga()<=Vt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),$.resolve()):(Ga()<=Vt.DEBUG&&lt("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ga()<=Vt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,di(n))):$.resolve())}Rs(t,n){if(TE(n))return $.resolve(null);let s=di(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Um(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Pt(...u);return this.As.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.ps(n,m);return this.ys(n,g,f,p.readTime)?this.Rs(t,Um(n,null,"F")):this.ws(t,g,n,p)}))})))}Vs(t,n,s,o){return TE(n)||o.isEqual(St.min())?$.resolve(null):this.As.getDocuments(t,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?$.resolve(null):(Ga()<=Vt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.ws(t,f,n,$2(o,Gl)).next(m=>m))})}ps(t,n){let s=new Re(Q0(t));return n.forEach((o,u)=>{kh(t,u)&&(s=s.add(u))}),s}ys(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,n,s){return Ga()<=Vt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.As.getDocumentsMatchingQuery(t,n,Fr.min(),s)}ws(t,n,s,o){return this.As.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="LocalStore",MO=3e8;class VO{constructor(t,n,s,o){this.persistence=t,this.bs=n,this.serializer=o,this.Ss=new re(Ct),this.Ds=new Zs(u=>vp(u),_p),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TO(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function PO(r,t,n,s){return new VO(r,t,n,s)}async function gA(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:m}))})})}function xO(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const b=g.batch,S=b.keys();let V=$.resolve();return S.forEach(x=>{V=V.next(()=>E.getEntry(p,x)).next(Y=>{const F=g.docVersions.get(x);Ft(F!==null,48541),Y.version.compareTo(F)<0&&(b.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function yA(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function kO(r,t){const n=bt(r),s=t.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];t.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,b)));let V=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?V=V.withResumeToken(qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(b,V),function(Y,F,X){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=MO?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(S,V,E)&&m.push(n.ai.updateTargetData(u,V))});let p=nr(),g=Pt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(UO(u,f,t.documentUpdates).next(E=>{p=E.xs,g=E.Os})),!s.isEqual(St.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(b=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return $.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ss=o,u))}function UO(r,t,n){let s=Pt(),o=Pt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=nr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):lt(Cp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function LO(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function BO(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,t).next(u=>u?(o=u,$.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new Ur(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(t,s.targetId)),s})}async function qm(r,t,n){const s=bt(r),o=s.Ss.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!po(f))throw f;lt(Cp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(o.target)}function PE(r,t,n){const s=bt(r);let o=St.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const b=bt(p),S=b.Ds.get(E);return S!==void 0?$.resolve(b.Ss.get(S)):b.ai.getTargetData(g,E)}(s,f,di(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Pt())).next(m=>(zO(s,RD(t),m),{documents:m,Ns:u})))}function zO(r,t,n){let s=r.vs.get(t)||St.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.vs.set(t,s)}class xE{constructor(){this.activeTargetIds=MD()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jO{constructor(){this.So=new xE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,s){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new xE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="ConnectivityMonitor";class UE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){lt(kE,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){lt(kE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function Fm(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",FO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HO{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(t,n,s,o,u){const f=Fm(),m=this.$o(t,n.toUriEncodedString());lt(mm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,u);const{host:g}=new URL(m),E=eu(g);return this.Ko(t,m,p,s,E).then(b=>(lt(mm,`Received RPC '${t}' ${f}: `,b),b),b=>{throw to(mm,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",s),b})}Wo(t,n,s,o,u,f){return this.Qo(t,n,s,o,u)}Uo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}$o(t,n){const s=FO[t];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class QO extends HO{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,s,o,u){const f=Fm();return new Promise((m,p)=>{const g=new E0;g.setWithCredentials(!0),g.listenOnce(T0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Yc.NO_ERROR:const b=g.getResponseJson();lt(Qe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case Yc.TIMEOUT:lt(Qe,`RPC '${t}' ${f} timed out`),p(new pt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const S=g.getStatus();if(lt(Qe,`RPC '${t}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const x=V==null?void 0:V.error;if(x&&x.status&&x.message){const Y=function(X){const it=X.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(it)>=0?it:nt.UNKNOWN}(x.status);p(new pt(Y,x.message))}else p(new pt(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pt(nt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{s_:t,streamId:f,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{lt(Qe,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);lt(Qe,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}a_(t,n,s){const o=Fm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=b0(),m=S0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");lt(Qe,`Creating RPC '${t}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);let S=!1,V=!1;const x=new GO({Go:F=>{V?lt(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(S||(lt(Qe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),lt(Qe,`RPC '${t}' stream ${o} sending:`,F),b.send(F))},zo:()=>b.close()}),Y=(F,X,it)=>{F.listen(X,tt=>{try{it(tt)}catch(ht){setTimeout(()=>{throw ht},0)}})};return Y(b,Nl.EventType.OPEN,()=>{V||(lt(Qe,`RPC '${t}' stream ${o} transport opened.`),x.t_())}),Y(b,Nl.EventType.CLOSE,()=>{V||(V=!0,lt(Qe,`RPC '${t}' stream ${o} transport closed`),x.r_())}),Y(b,Nl.EventType.ERROR,F=>{V||(V=!0,to(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),x.r_(new pt(nt.UNAVAILABLE,"The operation could not be completed")))}),Y(b,Nl.EventType.MESSAGE,F=>{var X;if(!V){const it=F.data[0];Ft(!!it,16349);const tt=it,ht=(tt==null?void 0:tt.error)||((X=tt[0])===null||X===void 0?void 0:X.error);if(ht){lt(Qe,`RPC '${t}' stream ${o} received error:`,ht);const ct=ht.status;let wt=function(R){const O=ve[R];if(O!==void 0)return rA(O)}(ct),M=ht.message;wt===void 0&&(wt=nt.INTERNAL,M="Unknown error status: "+ct+" with message "+ht.message),V=!0,x.r_(new pt(wt,M)),b.close()}else lt(Qe,`RPC '${t}' stream ${o} received:`,it),x.i_(it)}}),Y(m,A0.STAT_EVENT,F=>{F.stat===Nm.PROXY?lt(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Nm.NOPROXY&&lt(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.n_()},0),x}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(r){return new JD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="PersistentStream";class _A{constructor(t,n,s,o,u,f,m,p){this.bi=t,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new vA(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{t(()=>{const o=new pt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(t,n){const s=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return lt(LE,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(lt(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KO extends _A{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=$D(this.serializer,t),s=function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?pi(f.readTime):St.min()}(t);return this.listener.Q_(n,s)}U_(t){const n={};n.database=jm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=km(p)?{documents:nO(u,p)}:{query:iO(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=oA(u,f.resumeToken);const g=Lm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=ph(u,f.snapshotVersion.toTimestamp());const g=Lm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=sO(this.serializer,t);s&&(n.labels=s),this.F_(n)}K_(t){const n={};n.database=jm(this.serializer),n.removeTarget=t,this.F_(n)}}class YO extends _A{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=eO(t.writeResults,t.commitTime),s=pi(t.commitTime);return this.listener.j_(s,n)}H_(){const t={};t.database=jm(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>tO(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{}class JO extends XO{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new pt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,Bm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(nt.UNKNOWN,u.toString())})}Wo(t,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(t,Bm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pt(nt.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class ZO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(er(n),this.ea=!1):lt("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class WO{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{Ws(this)&&(lt(Hs,"Restarting streams for network reachability change."),await async function(p){const g=bt(p);g.aa.add(4),await uu(g),g.la.set("Unknown"),g.aa.delete(4),await jh(g)}(this))})}),this.la=new ZO(s,o)}}async function jh(r){if(Ws(r))for(const t of r.ua)await t(!0)}async function uu(r){for(const t of r.ua)await t(!1)}function EA(r,t){const n=bt(r);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Mp(n)?Np(n):go(n).b_()&&Op(n,t))}function Dp(r,t){const n=bt(r),s=go(n);n._a.delete(t),s.b_()&&TA(n,t),n._a.size===0&&(s.b_()?s.v_():Ws(n)&&n.la.set("Unknown"))}function Op(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}go(r).U_(t)}function TA(r,t){r.ha.Ke(t),go(r).K_(t)}function Np(r){r.ha=new QD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),go(r).start(),r.la.ta()}function Mp(r){return Ws(r)&&!go(r).w_()&&r._a.size>0}function Ws(r){return bt(r).aa.size===0}function AA(r){r.ha=void 0}async function $O(r){r.la.set("Online")}async function tN(r){r._a.forEach((t,n)=>{Op(r,t)})}async function eN(r,t){AA(r),Mp(r)?(r.la.ia(t),Np(r)):r.la.set("Unknown")}async function nN(r,t,n){if(r.la.set("Online"),t instanceof aA&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(r,t)}catch(s){lt(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await yh(r,s)}else if(t instanceof Wc?r.ha.Xe(t):t instanceof sA?r.ha.ot(t):r.ha.nt(t),!n.isEqual(St.min()))try{const s=await yA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(qe.EMPTY_BYTE_STRING,E.snapshotVersion)),TA(u,p);const b=new Ur(E.target,p,g,E.sequenceNumber);Op(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){lt(Hs,"Failed to raise snapshot:",s),await yh(r,s)}}async function yh(r,t,n){if(!po(t))throw t;r.aa.add(1),await uu(r),r.la.set("Offline"),n||(n=()=>yA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(Hs,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await jh(r)})}function SA(r,t){return t().catch(n=>yh(r,n,t))}async function qh(r){const t=bt(r),n=Kr(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:pp;for(;iN(t);)try{const o=await LO(t.localStore,s);if(o===null){t.oa.length===0&&n.v_();break}s=o.batchId,rN(t,o)}catch(o){await yh(t,o)}bA(t)&&wA(t)}function iN(r){return Ws(r)&&r.oa.length<10}function rN(r,t){r.oa.push(t);const n=Kr(r);n.b_()&&n.W_&&n.G_(t.mutations)}function bA(r){return Ws(r)&&!Kr(r).w_()&&r.oa.length>0}function wA(r){Kr(r).start()}async function sN(r){Kr(r).H_()}async function aN(r){const t=Kr(r);for(const n of r.oa)t.G_(n.mutations)}async function oN(r,t,n){const s=r.oa.shift(),o=Ap.from(s,t,n);await SA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await qh(r)}async function lN(r,t){t&&Kr(r).W_&&await async function(s,o){if(function(f){return HD(f)&&f!==nt.ABORTED}(o.code)){const u=s.oa.shift();Kr(s).D_(),await SA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await qh(s)}}(r,t),bA(r)&&wA(r)}async function BE(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),lt(Hs,"RemoteStore received new credentials");const s=Ws(n);n.aa.add(3),await uu(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await jh(n)}async function uN(r,t){const n=bt(r);t?(n.aa.delete(2),await jh(n)):t||(n.aa.add(2),await uu(n),n.la.set("Unknown"))}function go(r){return r.Pa||(r.Pa=function(n,s,o){const u=bt(n);return u.Y_(),new KO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:$O.bind(null,r),Jo:tN.bind(null,r),Zo:eN.bind(null,r),Q_:nN.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),Mp(r)?Np(r):r.la.set("Unknown")):(await r.Pa.stop(),AA(r))})),r.Pa}function Kr(r){return r.Ta||(r.Ta=function(n,s,o){const u=bt(n);return u.Y_(),new YO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:sN.bind(null,r),Zo:lN.bind(null,r),z_:aN.bind(null,r),j_:oN.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await qh(r)):(await r.Ta.stop(),r.oa.length>0&&(lt(Hs,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Vp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(r,t){if(er("AsyncQueue",`${t}: ${r}`),po(r))return new pt(nt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{static emptySet(t){return new $a(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Ml(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof $a)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new $a;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.Ia=new re(yt.comparator)}track(t){const n=t.doc.key,s=this.Ia.get(n);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(n):t.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,s)=>{t.push(s)}),t}}class so{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new so(t,n,$a.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class hN{constructor(){this.queries=jE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=jE(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new pt(nt.ABORTED,"Firestore shutting down"))}}function jE(){return new Zs(r=>G0(r),xh)}async function fN(r,t){const n=bt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Va()&&t.ma()&&(s=2):(u=new cN,s=t.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Pp(f,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Ra.push(t),t.ga(n.onlineState),u.Aa&&t.pa(u.Aa)&&xp(n)}async function dN(r,t){const n=bt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function mN(r,t){const n=bt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&xp(n)}function pN(r,t,n){const s=bt(r),o=s.queries.get(t);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(t)}function xp(r){r.fa.forEach(t=>{t.next()})}var Hm,qE;(qE=Hm||(Hm={})).ya="default",qE.Cache="cache";class gN{constructor(t,n,s){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new so(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t){this.key=t}}class IA{constructor(t){this.key=t}}class yN{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Pt(),this.mutatedKeys=Pt(),this.Ua=Q0(t),this.Ka=new $a(this.Ua)}get Wa(){return this.qa}Ga(t,n){const s=n?n.za:new zE,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,b)=>{const S=o.get(E),V=kh(this.query,b)?b:null,x=!!S&&this.mutatedKeys.has(S.key),Y=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;S&&V?S.data.isEqual(V.data)?x!==Y&&(s.track({type:3,doc:V}),F=!0):this.ja(S,V)||(s.track({type:2,doc:V}),F=!0,(p&&this.Ua(V,p)>0||g&&this.Ua(V,g)<0)&&(m=!0)):!S&&V?(s.track({type:0,doc:V}),F=!0):S&&!V&&(s.track({type:1,doc:S}),F=!0,(p||g)&&(m=!0)),F&&(V?(f=f.add(V),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((E,b)=>function(V,x){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:F})}};return Y(V)-Y(x)}(E.type,b.type)||this.Ua(E.doc,b.doc)),this.Ha(s),o=o!=null&&o;const m=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new so(this.query,t.Ka,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new zE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Pt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return t.forEach(s=>{this.$a.has(s)||n.push(new IA(s))}),this.$a.forEach(s=>{t.has(s)||n.push(new RA(s))}),n}Xa(t){this.qa=t.Ns,this.$a=Pt();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return so.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const kp="SyncEngine";class vN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class _N{constructor(t){this.key=t,this.tu=!1}}class EN{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Zs(m=>G0(m),xh),this.iu=new Map,this.su=new Set,this.ou=new re(yt.comparator),this._u=new Map,this.au=new wp,this.uu={},this.cu=new Map,this.lu=ro.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function TN(r,t,n=!0){const s=VA(r);let o;const u=s.ru.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await CA(s,t,n,!0),o}async function AN(r,t){const n=VA(r);await CA(n,t,!0,!1)}async function CA(r,t,n,s){const o=await BO(r.localStore,di(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await SN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&EA(r.remoteStore,o),m}async function SN(r,t,n,s,o){r.Pu=(b,S,V)=>async function(Y,F,X,it){let tt=F.view.Ga(X);tt.ys&&(tt=await PE(Y.localStore,F.query,!1).then(({documents:M})=>F.view.Ga(M,tt)));const ht=it&&it.targetChanges.get(F.targetId),ct=it&&it.targetMismatches.get(F.targetId)!=null,wt=F.view.applyChanges(tt,Y.isPrimaryClient,ht,ct);return HE(Y,F.targetId,wt.Ya),wt.snapshot}(r,b,S,V);const u=await PE(r.localStore,t,!0),f=new yN(t,u.Ns),m=f.Ga(u.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);HE(r,n,g.Ya);const E=new vN(t,n,f);return r.ru.set(t,E),r.iu.has(n)?r.iu.get(n).push(t):r.iu.set(n,[t]),g.snapshot}async function bN(r,t,n){const s=bt(r),o=s.ru.get(t),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!xh(f,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await qm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Dp(s.remoteStore,o.targetId),Gm(s,o.targetId)}).catch(mo)):(Gm(s,o.targetId),await qm(s.localStore,o.targetId,!0))}async function wN(r,t){const n=bt(r),s=n.ru.get(t),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dp(n.remoteStore,s.targetId))}async function RN(r,t,n){const s=VN(r);try{const o=await function(f,m){const p=bt(f),g=we.now(),E=m.reduce((V,x)=>V.add(x.key),Pt());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let x=nr(),Y=Pt();return p.Cs.getEntries(V,E).next(F=>{x=F,x.forEach((X,it)=>{it.isValidDocument()||(Y=Y.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,x)).next(F=>{b=F;const X=[];for(const it of m){const tt=BD(it,b.get(it.key).overlayedDocument);tt!=null&&X.push(new $r(it.key,tt,L0(tt.value.mapValue),mi.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,X,m)}).next(F=>{S=F;const X=F.applyToLocalDocumentSet(b,Y);return p.documentOverlayCache.saveOverlays(V,F.batchId,X)})}).then(()=>({batchId:S.batchId,changes:Y0(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.uu[f.currentUser.toKey()];g||(g=new re(Ct)),g=g.insert(m,p),f.uu[f.currentUser.toKey()]=g}(s,o.batchId,n),await cu(s,o.changes),await qh(s.remoteStore)}catch(o){const u=Pp(o,"Failed to persist write");n.reject(u)}}async function DA(r,t){const n=bt(r);try{const s=await kO(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?Ft(f.tu,14607):o.removedDocuments.size>0&&(Ft(f.tu,42227),f.tu=!1))}),await cu(n,s,t)}catch(s){await mo(s)}}function FE(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=bt(f);p.onlineState=m;let g=!1;p.queries.forEach((E,b)=>{for(const S of b.Ra)S.ga(m)&&(g=!0)}),g&&xp(p)}(s.eventManager,t),o.length&&s.nu.Q_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function IN(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s._u.get(t),u=o&&o.key;if(u){let f=new re(yt.comparator);f=f.insert(u,Ye.newNoDocument(u,St.min()));const m=Pt().add(u),p=new Bh(St.min(),new Map,new re(Ct),f,m);await DA(s,p),s.ou=s.ou.remove(u),s._u.delete(t),Up(s)}else await qm(s.localStore,t,!1).then(()=>Gm(s,t,n)).catch(mo)}async function CN(r,t){const n=bt(r),s=t.batch.batchId;try{const o=await xO(n.localStore,t);NA(n,s,null),OA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cu(n,o)}catch(o){await mo(o)}}async function DN(r,t,n){const s=bt(r);try{const o=await function(f,m){const p=bt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Ft(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);NA(s,t,n),OA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await cu(s,o)}catch(o){await mo(o)}}function OA(r,t){(r.cu.get(t)||[]).forEach(n=>{n.resolve()}),r.cu.delete(t)}function NA(r,t,n){const s=bt(r);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.uu[s.currentUser.toKey()]=o}}function Gm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.iu.get(t))r.ru.delete(s),n&&r.nu.Tu(s,n);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(s=>{r.au.containsKey(s)||MA(r,s)})}function MA(r,t){r.su.delete(t.path.canonicalString());const n=r.ou.get(t);n!==null&&(Dp(r.remoteStore,n),r.ou=r.ou.remove(t),r._u.delete(n),Up(r))}function HE(r,t,n){for(const s of n)s instanceof RA?(r.au.addReference(s.key,t),ON(r,s)):s instanceof IA?(lt(kp,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,t),r.au.containsKey(s.key)||MA(r,s.key)):Tt(19791,{Iu:s})}function ON(r,t){const n=t.key,s=n.path.canonicalString();r.ou.get(n)||r.su.has(s)||(lt(kp,"New document in limbo: "+n),r.su.add(s),Up(r))}function Up(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const n=new yt(ue.fromString(t)),s=r.lu.next();r._u.set(s,new _N(n)),r.ou=r.ou.insert(n,s),EA(r.remoteStore,new Ur(di(Ep(n.path)),s,"TargetPurposeLimboResolution",Nh.le))}}async function cu(r,t,n){const s=bt(r),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{f.push(s.Pu(p,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Ip.Ps(p.targetId,g);u.push(b)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,g){const E=bt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>$.forEach(g,S=>$.forEach(S.ls,V=>E.persistence.referenceDelegate.addReference(b,S.targetId,V)).next(()=>$.forEach(S.hs,V=>E.persistence.referenceDelegate.removeReference(b,S.targetId,V)))))}catch(b){if(!po(b))throw b;lt(Cp,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const V=E.Ss.get(S),x=V.snapshotVersion,Y=V.withLastLimboFreeSnapshotVersion(x);E.Ss=E.Ss.insert(S,Y)}}}(s.localStore,u))}async function NN(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){lt(kp,"User change. New user:",t.toKey());const s=await gA(n.localStore,t);n.currentUser=t,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new pt(nt.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await cu(n,s.Ms)}}function MN(r,t){const n=bt(r),s=n._u.get(t);if(s&&s.tu)return Pt().add(s.key);{let o=Pt();const u=n.iu.get(t);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function VA(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=DA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IN.bind(null,t),t.nu.Q_=mN.bind(null,t.eventManager),t.nu.Tu=pN.bind(null,t.eventManager),t}function VN(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DN.bind(null,t),t}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=zh(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return PO(this.persistence,new NO,t.initialUser,this.serializer)}Ru(t){return new pA(Rp.Ei,this.serializer)}Au(t){return new jO}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class PN extends vh{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){Ft(this.persistence.referenceDelegate instanceof gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gO(s,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new pA(s=>gh.Ei(s,n),this.serializer)}}class Qm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>FE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NN.bind(null,this.syncEngine),await uN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new hN}()}createDatastore(t){const n=zh(t.databaseInfo.databaseId),s=function(u){return new QO(u)}(t.databaseInfo);return function(u,f,m,p){return new JO(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new WO(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>FE(this.syncEngine,n,0),function(){return UE.C()?new UE:new qO}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,E){const b=new EN(o,u,f,m,p,g);return E&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=bt(o);lt(Hs,"RemoteStore shutting down."),u.aa.add(5),await uu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class kN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=C0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{lt(Yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(lt(Yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Pp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function gm(r,t){r.asyncQueue.verifyOperationInProgress(),lt(Yr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await gA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function GE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await UN(r);lt(Yr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>BE(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>BE(t.remoteStore,o)),r._onlineComponents=t}async function UN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Yr,"Using user provided OfflineComponentProvider");try{await gm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await gm(r,new vh)}}else lt(Yr,"Using default OfflineComponentProvider"),await gm(r,new PN(void 0));return r._offlineComponents}async function PA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Yr,"Using user provided OnlineComponentProvider"),await GE(r,r._uninitializedComponentsProvider._online)):(lt(Yr,"Using default OnlineComponentProvider"),await GE(r,new Qm))),r._onlineComponents}function LN(r){return PA(r).then(t=>t.syncEngine)}async function BN(r){const t=await PA(r),n=t.eventManager;return n.onListen=TN.bind(null,t.syncEngine),n.onUnlisten=bN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=AN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=wN.bind(null,t.syncEngine),n}function zN(r,t,n={}){const s=new jr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new xN({next:S=>{E.yu(),f.enqueueAndForget(()=>dN(u,b));const V=S.docs.has(m);!V&&S.fromCache?g.reject(new pt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&p&&p.source==="server"?g.reject(new pt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new gN(Ep(m.path),E,{includeMetadataChanges:!0,Fa:!0});return fN(u,b)}(await BN(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(r,t,n){if(!n)throw new pt(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function qN(r,t,n,s){if(t===!0&&s===!0)throw new pt(nt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function KE(r){if(!yt.isDocumentKey(r))throw new pt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Lp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function Gs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new pt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lp(r);throw new pt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="firestore.googleapis.com",YE=!0;class XE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kA,this.ssl=YE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:YE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mO)throw new pt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bp{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new H2;switch(s.type){case"firstParty":return new Y2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Rh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=QE.get(n);s&&(lt("ComponentProvider","Removing Datastore"),QE.delete(n),s.terminate())}(this),Promise.resolve()}}function FN(r,t,n,s={}){var o;r=Gs(r,Bp);const u=eu(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;f.host!==kA&&f.host!==p&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!qr(g,m)&&(r._setSettings(g),u&&(OT(`https://${p}`),Rh("Firestore",!0)),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=Ke.MOCK_USER;else{E=t1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new pt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ke(S)}r._authCredentials=new G2(new R0(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new zp(this.firestore,t,this._query)}}class _n{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}}class Zl extends zp{constructor(t,n,s){super(t,n,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new yt(t))}withConverter(t){return new Zl(this.firestore,t,this._path)}}function Fh(r,t,...n){if(r=Je(r),arguments.length===1&&(t=C0.newId()),jN("doc","path",t),r instanceof Bp){const s=ue.fromString(t,...n);return KE(s),new _n(r,null,new yt(s))}{if(!(r instanceof _n||r instanceof Zl))throw new pt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ue.fromString(t,...n));return KE(s),new _n(r.firestore,r instanceof Zl?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="AsyncQueue";class ZE{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new vA(this,"async_queue_retry"),this.ju=()=>{const s=pm();s&&lt(JE,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const n=pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new jr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!po(t))throw t;lt(JE,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,er("INTERNAL UNHANDLED ERROR: ",WE(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(t,n,s){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const o=Vp.createAndSchedule(this,t,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Tt(47125,{ec:WE(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function WE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Hh extends Bp{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new ZE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ZE(t),this._firestoreClient=void 0,await t}}}function HN(r,t){const n=typeof r=="object"?r:np(),s=typeof r=="string"?r:uh,o=Js(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=WR("firestore");u&&FN(o,...u)}return o}function UA(r){if(r._terminated)throw new pt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GN(r),r._firestoreClient}function GN(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new uD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,xA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new kN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ao(qe.fromBase64String(t))}catch(n){throw new pt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ao(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^__.*__$/;class KN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new $r(t,this.data,this.fieldMask,n,this.fieldTransforms):new ou(t,this.data,n,this.fieldTransforms)}}class LA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new $r(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function BA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{oc:r})}}class Hp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Hp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:s,cc:!1});return o.lc(t),o}hc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return _h(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(BA(this.oc)&&QN.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class YN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||zh(t)}dc(t,n,s,o=!1){return new Hp({oc:t,methodName:n,Ec:s,path:je.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zA(r){const t=r._freezeSettings(),n=zh(r._databaseId);return new YN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function XN(r,t,n,s,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,t,n,o);Gp("Data must be an object, but it was:",f,s);const m=jA(s,f);let p,g;if(u.merge)p=new vn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=Km(t,b,n);if(!f.contains(S))throw new pt(nt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);FA(E,S)||E.push(S)}p=new vn(E),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new KN(new an(m),p,g)}class Qh extends jp{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qh}}function JN(r,t,n,s){const o=r.dc(1,t,n);Gp("Data must be an object, but it was:",o,s);const u=[],f=an.empty();Wr(s,(p,g)=>{const E=Qp(t,p,n);g=Je(g);const b=o.hc(E);if(g instanceof Qh)u.push(E);else{const S=Kh(g,b);S!=null&&(u.push(E),f.set(E,S))}});const m=new vn(u);return new LA(f,m,o.fieldTransforms)}function ZN(r,t,n,s,o,u){const f=r.dc(1,t,n),m=[Km(t,s,n)],p=[o];if(u.length%2!=0)throw new pt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Km(t,u[S])),p.push(u[S+1]);const g=[],E=an.empty();for(let S=m.length-1;S>=0;--S)if(!FA(g,m[S])){const V=m[S];let x=p[S];x=Je(x);const Y=f.hc(V);if(x instanceof Qh)g.push(V);else{const F=Kh(x,Y);F!=null&&(g.push(V),E.set(V,F))}}const b=new vn(g);return new LA(E,b,f.fieldTransforms)}function Kh(r,t){if(qA(r=Je(r)))return Gp("Unsupported field value:",t,r),jA(r,t);if(r instanceof jp)return function(s,o){if(!BA(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Kh(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=we.fromDate(s);return{timestampValue:ph(o.serializer,u)}}if(s instanceof we){const u=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ph(o.serializer,u)}}if(s instanceof qp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ao)return{bytesValue:oA(o.serializer,s._byteString)};if(s instanceof _n){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Fp)return function(f,m){return{mapValue:{fields:{[k0]:{stringValue:U0},[ch]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return Tp(m.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Lp(s)}`)}(r,t)}function jA(r,t){const n={};return O0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wr(r,(s,o)=>{const u=Kh(o,t.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function qA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof qp||r instanceof ao||r instanceof _n||r instanceof jp||r instanceof Fp)}function Gp(r,t,n){if(!qA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Lp(n);throw s==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+s)}}function Km(r,t,n){if((t=Je(t))instanceof Gh)return t._internalPath;if(typeof t=="string")return Qp(r,t);throw _h("Field path arguments must be of type string or ",r,!1,void 0,n)}const WN=new RegExp("[~\\*/\\[\\]]");function Qp(r,t,n){if(t.search(WN)>=0)throw _h(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Gh(...t.split("."))._internalPath}catch{throw _h(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function _h(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new pt(nt.INVALID_ARGUMENT,m+r+p)}function FA(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(GA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $N extends HA{data(){return super.data()}}function GA(r,t){return typeof t=="string"?Qp(r,t):t instanceof Gh?t._internalPath:t._delegate._internalPath}class tM{convertValue(t,n="none"){switch(Qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Wr(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[ch].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>de(f.doubleValue));return new Fp(u)}convertGeoPoint(t){return new qp(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Vh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(t));default:return null}}convertTimestamp(t){const n=Hr(t);return new we(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ue.fromString(t);Ft(dA(s),9688,{name:t});const o=new Kl(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class QA extends HA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new iM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(GA("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class iM extends QA{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(r){r=Gs(r,_n);const t=Gs(r.firestore,Hh);return zN(UA(t),r._key).then(n=>oM(t,r,n))}class rM extends tM{constructor(t){super(),this.firestore=t}convertBytes(t){return new ao(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function sM(r,t,n){r=Gs(r,_n);const s=Gs(r.firestore,Hh),o=eM(r.converter,t);return YA(s,[XN(zA(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,mi.none())])}function aM(r,t,n,...s){r=Gs(r,_n);const o=Gs(r.firestore,Hh),u=zA(o);let f;return f=typeof(t=Je(t))=="string"||t instanceof Gh?ZN(u,"updateDoc",r._key,t,n,s):JN(u,"updateDoc",r._key,t),YA(o,[f.toMutation(r._key,mi.exists(!0))])}function YA(r,t){return function(s,o){const u=new jr;return s.asyncQueue.enqueueAndForget(async()=>RN(await LN(s),o,u)),u.promise}(UA(r),t)}function oM(r,t,n){const s=n.docs.get(t._key),o=new rM(r);return new QA(r,o,t._key,s,new nM(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){fo=o})(co),yi(new Hn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Hh(new Q2(s.getProvider("auth-internal")),new X2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Pn(rE,sE,t),Pn(rE,sE,"esm2017")})();const XA="@firebase/installations",Kp="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=1e4,ZA=`w:${Kp}`,WA="FIS_v2",lM="https://firebaseinstallations.googleapis.com/v1",uM=60*60*1e3,cM="installations",hM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qs=new Xs(cM,hM,fM);function $A(r){return r instanceof Qn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS({projectId:r}){return`${lM}/projects/${r}/installations`}function eS(r){return{token:r.token,requestStatus:2,expiresIn:mM(r.expiresIn),creationTime:Date.now()}}async function nS(r,t){const s=(await t.json()).error;return Qs.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function iS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function dM(r,{refreshToken:t}){const n=iS(r);return n.append("Authorization",pM(t)),n}async function rS(r){const t=await r();return t.status>=500&&t.status<600?r():t}function mM(r){return Number(r.replace("s","000"))}function pM(r){return`${WA} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=tS(r),o=iS(r),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:WA,appId:r.appId,sdkVersion:ZA},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await rS(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:eS(g.authToken)}}else throw await nS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=/^[cdef][\w-]{21}$/,Ym="";function _M(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=EM(r);return vM.test(n)?n:Ym}catch{return Ym}}function EM(r){return yM(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new Map;function oS(r,t){const n=Yh(r);lS(n,t),TM(n,t)}function lS(r,t){const n=aS.get(r);if(n)for(const s of n)s(t)}function TM(r,t){const n=AM();n&&n.postMessage({key:r,fid:t}),SM()}let zs=null;function AM(){return!zs&&"BroadcastChannel"in self&&(zs=new BroadcastChannel("[Firebase] FID Change"),zs.onmessage=r=>{lS(r.data.key,r.data.fid)}),zs}function SM(){aS.size===0&&zs&&(zs.close(),zs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="firebase-installations-database",wM=1,Ks="firebase-installations-store";let ym=null;function Yp(){return ym||(ym=kT(bM,wM,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Ks)}}})),ym}async function Eh(r,t){const n=Yh(r),o=(await Yp()).transaction(Ks,"readwrite"),u=o.objectStore(Ks),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&oS(r,t.fid),t}async function uS(r){const t=Yh(r),s=(await Yp()).transaction(Ks,"readwrite");await s.objectStore(Ks).delete(t),await s.done}async function Xh(r,t){const n=Yh(r),o=(await Yp()).transaction(Ks,"readwrite"),u=o.objectStore(Ks),f=await u.get(n),m=t(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&oS(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(r){let t;const n=await Xh(r.appConfig,s=>{const o=RM(s),u=IM(r,o);return t=u.registrationPromise,u.installationEntry});return n.fid===Ym?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function RM(r){const t=r||{fid:_M(),registrationStatus:0};return cS(t)}function IM(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Qs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=CM(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:DM(r)}:{installationEntry:t}}async function CM(r,t){try{const n=await gM(r,t);return Eh(r.appConfig,n)}catch(n){throw $A(n)&&n.customData.serverCode===409?await uS(r.appConfig):await Eh(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function DM(r){let t=await $E(r.appConfig);for(;t.registrationStatus===1;)await sS(100),t=await $E(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Xp(r);return s||n}return t}function $E(r){return Xh(r,t=>{if(!t)throw Qs.create("installation-not-found");return cS(t)})}function cS(r){return OM(r)?{fid:r.fid,registrationStatus:0}:r}function OM(r){return r.registrationStatus===1&&r.registrationTime+JA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM({appConfig:r,heartbeatServiceProvider:t},n){const s=MM(r,n),o=dM(r,n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:ZA,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await rS(()=>fetch(s,m));if(p.ok){const g=await p.json();return eS(g)}else throw await nS("Generate Auth Token",p)}function MM(r,{fid:t}){return`${tS(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jp(r,t=!1){let n;const s=await Xh(r.appConfig,u=>{if(!hS(u))throw Qs.create("not-registered");const f=u.authToken;if(!t&&xM(f))return u;if(f.requestStatus===1)return n=VM(r,t),u;{if(!navigator.onLine)throw Qs.create("app-offline");const m=UM(u);return n=PM(r,m),m}});return n?await n:s.authToken}async function VM(r,t){let n=await tT(r.appConfig);for(;n.authToken.requestStatus===1;)await sS(100),n=await tT(r.appConfig);const s=n.authToken;return s.requestStatus===0?Jp(r,t):s}function tT(r){return Xh(r,t=>{if(!hS(t))throw Qs.create("not-registered");const n=t.authToken;return LM(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function PM(r,t){try{const n=await NM(r,t),s=Object.assign(Object.assign({},t),{authToken:n});return await Eh(r.appConfig,s),n}catch(n){if($A(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await uS(r.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Eh(r.appConfig,s)}throw n}}function hS(r){return r!==void 0&&r.registrationStatus===2}function xM(r){return r.requestStatus===2&&!kM(r)}function kM(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+uM}function UM(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function LM(r){return r.requestStatus===1&&r.requestTime+JA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(r){const t=r,{installationEntry:n,registrationPromise:s}=await Xp(t);return s?s.catch(console.error):Jp(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(r,t=!1){const n=r;return await jM(n),(await Jp(n,t)).token}async function jM(r){const{registrationPromise:t}=await Xp(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(r){if(!r||!r.options)throw vm("App Configuration");if(!r.name)throw vm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw vm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function vm(r){return Qs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="installations",FM="installations-internal",HM=r=>{const t=r.getProvider("app").getImmediate(),n=qM(t),s=Js(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},GM=r=>{const t=r.getProvider("app").getImmediate(),n=Js(t,fS).getImmediate();return{getId:()=>BM(n),getToken:o=>zM(n,o)}};function QM(){yi(new Hn(fS,HM,"PUBLIC")),yi(new Hn(FM,GM,"PRIVATE"))}QM();Pn(XA,Kp);Pn(XA,Kp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="analytics",KM="firebase_id",YM="origin",XM=60*1e3,JM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new Ih("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new Xs("analytics","Analytics",ZM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(r){if(!r.startsWith(Zp)){const t=En.create("invalid-gtag-resource",{gtagURL:r});return on.warn(t.message),""}return r}function dS(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function $M(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function tV(r,t){const n=$M("firebase-js-sdk-policy",{createScriptURL:WM}),s=document.createElement("script"),o=`${Zp}?l=${r}&id=${t}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function eV(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function nV(r,t,n,s,o,u){const f=s[o];try{if(f)await t[f];else{const p=(await dS(n)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(m){on.error(m)}r("config",o,u)}async function iV(r,t,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await dS(n);for(const p of f){const g=m.find(b=>b.measurementId===p),E=g&&t[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",s,o||{})}catch(u){on.error(u)}}function rV(r,t,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await iV(r,t,n,m,p)}else if(u==="config"){const[m,p]=f;await nV(r,t,n,s,m,p)}else if(u==="consent"){const[m,p]=f;r("consent",m,p)}else if(u==="get"){const[m,p,g]=f;r("get",m,p,g)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){on.error(m)}}return o}function sV(r,t,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=rV(u,r,t,n),{gtagCore:u,wrappedGtag:window[o]}}function aV(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Zp)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=30,lV=1e3;class uV{constructor(t={},n=lV){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const mS=new uV;function cV(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function hV(r){var t;const{appId:n,apiKey:s}=r,o={method:"GET",headers:cV(s)},u=JM.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((t=p.error)===null||t===void 0)&&t.message&&(m=p.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function fV(r,t=mS,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw En.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw En.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new pV;return setTimeout(async()=>{m.abort()},XM),pS({appId:s,apiKey:o,measurementId:u},f,m,t)}async function pS(r,{throttleEndTimeMillis:t,backoffCount:n},s,o=mS){var u;const{appId:f,measurementId:m}=r;try{await dV(s,t)}catch(p){if(m)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await hV(r);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!mV(g)){if(o.deleteThrottleMetadata(f),m)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?D_(n,o.intervalMillis,oV):D_(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,b),on.debug(`Calling attemptFetch again in ${E} millis`),pS(r,b,s,o)}}function dV(r,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(En.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function mV(r){if(!(r instanceof Qn)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class pV{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function gV(r,t,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await t,f=Object.assign(Object.assign({},s),{send_to:u});r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(){if(MT())try{await VT()}catch(r){return on.warn(En.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return on.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vV(r,t,n,s,o,u,f){var m;const p=fV(r);p.then(V=>{n[V.measurementId]=V.appId,r.options.measurementId&&V.measurementId!==r.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>on.error(V)),t.push(p);const g=yV().then(V=>{if(V)return s.getId()}),[E,b]=await Promise.all([p,g]);aV(u)||tV(u,E.measurementId),o("js",new Date);const S=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return S[YM]="firebase",S.update=!0,b!=null&&(S[KM]=b),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(t){this.app=t}_delete(){return delete zl[this.app.options.appId],Promise.resolve()}}let zl={},eT=[];const nT={};let _m="dataLayer",EV="gtag",iT,gS,rT=!1;function TV(){const r=[];if(NT()&&r.push("This is a browser extension environment."),u1()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=En.create("invalid-analytics-context",{errorInfo:t});on.warn(n.message)}}function AV(r,t,n){TV();const s=r.options.appId;if(!s)throw En.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(zl[s]!=null)throw En.create("already-exists",{id:s});if(!rT){eV(_m);const{wrappedGtag:u,gtagCore:f}=sV(zl,eT,nT,_m,EV);gS=u,iT=f,rT=!0}return zl[s]=vV(r,eT,nT,t,iT,_m,n),new _V(r)}function SV(r=np()){r=Je(r);const t=Js(r,Th);return t.isInitialized()?t.getImmediate():bV(r)}function bV(r,t={}){const n=Js(r,Th);if(n.isInitialized()){const o=n.getImmediate();if(qr(t,n.getOptions()))return o;throw En.create("already-initialized")}return n.initialize({options:t})}function wV(r,t,n,s){r=Je(r),gV(gS,zl[r.app.options.appId],t,n,s).catch(o=>on.error(o))}const sT="@firebase/analytics",aT="0.10.15";function RV(){yi(new Hn(Th,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return AV(s,o,n)},"PUBLIC")),yi(new Hn("analytics-internal",r,"PRIVATE")),Pn(sT,aT),Pn(sT,aT,"esm2017");function r(t){try{const n=t.getProvider(Th).getImmediate();return{logEvent:(s,o,u)=>wV(n,s,o,u)}}catch(n){throw En.create("interop-component-reg-failed",{reason:n})}}}RV();const IV={apiKey:"AIzaSyDVjB88sVpEG80p9NjbUFv4QBVEjctLjaA",authDomain:"coco-fit.firebaseapp.com",projectId:"coco-fit",storageBucket:"coco-fit.firebasestorage.app",messagingSenderId:"707471860218",appId:"1:707471860218:web:b745899d61b2efd3d64443",measurementId:"G-FGQ63328NW"},Wp=UT(IV),oo=q2(Wp),Jh=HN(Wp);SV(Wp);const CV=new Ki,DV=()=>{const r=Ys(),[t,n]=G.useState(""),[s,o]=G.useState(""),u=async()=>{try{await DC(oo,t,s),alert("로그인 성공!"),r("/recommend-sports")}catch(m){alert(`로그인 실패: ${m.message}`)}},f=async()=>{try{await ZC(oo,CV),alert("구글 로그인 성공!"),r("/recommend-sports")}catch(m){alert(`구글 로그인 실패: ${m.message}`)}};return Z.jsxs("div",{className:"login-container",children:[Z.jsx("img",{src:bh,alt:"COCOFIT Logo",className:"login-logo"}),Z.jsxs("div",{className:"input-group",children:[Z.jsx("label",{children:"이메일"}),Z.jsx("input",{type:"email",placeholder:"email@domain.com",value:t,onChange:m=>n(m.target.value)})]}),Z.jsxs("div",{className:"input-group",children:[Z.jsx("label",{children:"비밀번호"}),Z.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:m=>o(m.target.value)})]}),Z.jsx("button",{className:"login-button",onClick:u,children:"로그인"}),Z.jsxs("div",{className:"divider",children:[Z.jsx("hr",{}),Z.jsx("span",{children:"or"}),Z.jsx("hr",{})]}),Z.jsxs("button",{className:"google-button",onClick:f,children:[Z.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google"}),Z.jsx("span",{children:"Continue with Google"})]}),Z.jsxs("p",{className:"signup-text",children:["Coco가 처음이신가요?"," ",Z.jsx("span",{className:"signup-link",onClick:()=>r("/signup/step1"),children:"간단 회원가입 하기!"})]})]})},OV=()=>{const r=Ys(),[t,n]=G.useState(""),[s,o]=G.useState(""),[u,f]=G.useState(""),m=p=>{if(p.preventDefault(),s!==u){alert("비밀번호가 일치하지 않습니다.");return}r("/signup/step2",{state:{email:t,password:s}})};return Z.jsxs("div",{className:"signup-container",children:[Z.jsx("img",{src:bh,alt:"COCOFIT Logo",className:"logo"}),Z.jsxs("form",{onSubmit:m,children:[Z.jsx("label",{children:"이메일"}),Z.jsx("input",{type:"email",value:t,placeholder:"email",onChange:p=>n(p.target.value),required:!0}),Z.jsx("label",{children:"비밀번호"}),Z.jsx("input",{type:"password",value:s,placeholder:"password",onChange:p=>o(p.target.value),required:!0}),Z.jsx("label",{children:"비밀번호 확인"}),Z.jsx("input",{type:"password",value:u,placeholder:"password",onChange:p=>f(p.target.value),required:!0}),Z.jsx("button",{type:"submit",children:"다음으로"})]})]})},NV=({onSubmit:r})=>{const[t,n]=G.useState(""),[s,o]=G.useState(""),[u,f]=G.useState(""),m=ir(),p=Ys(),{email:g,password:E}=m.state,b=async S=>{S.preventDefault();try{const x=(await CC(oo,g,E)).user.uid;await sM(Fh(Jh,"users",x),{email:g,nickname:t,height:s,weight:u,createdAt:new Date}),alert("회원가입 성공! MBTI 선택으로 이동합니다."),p("/select-mbti")}catch(V){console.error("회원가입 실패",V),alert("회원가입 실패: "+V.message)}};return Z.jsxs("div",{className:"signup-container",children:[Z.jsx("img",{src:bh,alt:"COCOFIT Logo",className:"logo"}),Z.jsxs("form",{onSubmit:b,children:[Z.jsx("label",{children:"닉네임"}),Z.jsx("input",{type:"text",placeholder:"완두콩 3세",value:t,onChange:S=>n(S.target.value),required:!0}),Z.jsx("label",{children:"키"}),Z.jsx("input",{type:"number",placeholder:"cm",value:s,onChange:S=>o(S.target.value),required:!0}),Z.jsx("label",{children:"몸무게"}),Z.jsx("input",{type:"number",placeholder:"kg",value:u,onChange:S=>f(S.target.value),required:!0}),Z.jsx("button",{type:"submit",children:"다음으로"})]})]})},yS="/assets/ENFP-DdYNABjL.jpg",vS="/assets/ENTP-BQnIn3Ye.jpg",_S="/assets/ESTP-23DxSv4o.jpg",ES="/assets/ENTJ-BGnc_hbC.png",TS="/assets/ESFJ-BmMO4RfD.jpg",AS="/assets/ESTJ-C-8JatAJ.jpg",SS="/assets/ESFP-Dn9w0ZfY.png",bS="/assets/ENFJ-D5kMKK6k.jpg",wS="/assets/INFP-D0soNE1w.png",RS="/assets/INTP-4Kb0aVDw.jpg",IS="/assets/ISTP-CCJ8wvGi.jpg",CS="/assets/INTJ-CI0bdPrA.jpg",DS="/assets/ISFJ-ChX19tfj.jpg",OS="/assets/ISTJ-BQx7ZfdD.jpg",NS="/assets/ISFP-DK69mF66.jpg",MS="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAPEA8PDw8QDw8PDw8PDQ8NDQ8NDQ8NFREWFhURFRUYHSggGBolGxUVITEhJSkrLi4uFx8zODMsNygtLisBCgoKDg0OFw8QGC0dHR0rLSsrLSstLS0tLS0tKy0tLS0tLS0tKy0tKy0tLS0tLS0tKy0rKy0tLS0tLTcrLS0tLf/AABEIAOEA4QMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAAAAQIDBAUGB//EADsQAAIBAQQHBwMCBAYDAAAAAAABAhEDBBIhBRMxMkFRgQYUYXGRobEiUsFy0TNCYrJDU4Ki8PEjJJL/xAAZAQEBAQEBAQAAAAAAAAAAAAAAAQIDBAX/xAAkEQEAAgIBAwQDAQAAAAAAAAAAARECAxIEITETMkFhIlFxQv/aAAwDAQACEQMRAD8A+4ELfdfT5DXR5+zI2k1JNJ1b2AZS+68ehDUy5e6J2X0VxZV2cQNBkvG8+nwX66PP2ZVaQcnVZoCk3oyamXL3QXvSVjYqs5pclRuT8kWItJmI7y0W26zDaWiiqyaiucmkjhaQ7TznWNjHBH7pZyfTYjg29vObrOTk/wCp1OuOmZ89nmz6rGPb3evl2hu9lX6nN8rNV99hht+2P2WPWcvwjzLRFxO8acIebLqdk+OzrXjtReJOqVnHyi38szvtFefvS8rOH7HPcCOrR0jXh+nCdu2f9OtHtLe/8xPzs4fsWx7V3mlHq5ecKP2ZxaCoPTw/Setsj/UvQ2Pat/z2Sf6JU+Tq6P7S3dv6nKzb++OXqjxFBqBidGEumPVbY+bfU7C8QtFWE4zXOMlJexTed7ofN7C1lZusJSg+cW0ztXTtHaqitUrRbK7s6fk45dPMeHr19ZjPuinqTdDYvJHIuF+s7f8AhyWLjFtKS6HUVrFZN5rLYzhMTHl64yiYuErTY/JmI1StE00nm1RbdpTqZcvdEVK67X5fk0meyWF1lktnPMs10efswKrzt6fllJfaxxOsc1SnLMhqZcvdAQAnqZcvdABWWWG8uvwT7t4+warB9Va04Up4AaCi9cOod58PcP4nhTrtAzmqyklCraSVW28kkZ71gsouc5qMV4bXyR5HSmlZ2/0p4bJPKPPxkbwwnJy27Ywj7dbSvaVKsLDPg7RrL/SvyectLXG3KTbb2turK0goerHCMfD5+ezLPyeQmkKgmbc7OgNIgyLLSTKVCLgSQFZRwBhJ4RqItaVqJJRJ0GS1iIQcRYSbEwFFtNNNprY06NdTuaO0819Nt9S+9by8+Zw6iM5Yxl5aw2ThN4voN2tFLDKLTTao1mjefO9GaUnd5JxzjVYoPY/2Z7W46VhbRxQ6qucXyZ5dmqcf4+jp347O3y03rYvMzGjFjy2Uz5i7t4+xyd07ts6lpRiwZbePIO8+HuBoAo7z4e4AXFdvuvp8lGvlz9kShNydHse0Ckl3iNlCc5ukYpeb25I0SsoJNvJJVbbdEjxemL/rptRys47i5/1M3hhyly27OEfavSukp3idXlBbkK5JfuYqEsI0euO3aHz5mZm5VkkA0isoMg2XOJFwFpMSqChbgCiLbPFVQkkSaQgVR0CgnIWIEyBVFUTLSWliIuRGoqlpnkbYmRlNCxlpnkdDTcL3Oxmpwf6k92S5MyO0IuTLON9pSM+M3D6Roe+Rto44PhRrjF8mdE+Z6I0nO7WinF1i8rSPOP7nvrC+Y4xnGScZKqdEeDbq4T9Pr9N1EbY+4WXnb0/LKjRZxU1WWb2csiepjy92cnpZQNeojy92IDIWWG8uvwa6GXSVurOynN8Fl4uuSEJM13cbtRpH/Ag9tHatcuETzaRbaNyblLNt1b8QR68Y4xT5+cznlcoqLDATcityNMzQogqiLYmWmbNyIOQVBsrEyQyDZFstM2niIuRByI4ixDE5JuRFyIOQmzVMTknUTZCoULScg5ER4SWErPlWBbgFhFnFWMswhhFrxV4Tvdl9I4Jamb+mb+iv8s+XU4uEcYOtVlxT5MxnEZRUumrKdeUZQ+n3bZ1LTjaLv2vsoye/FYbT9S49TVU+dMVNPuY5RlFw6AGCoEaa9bHmeb7T35SlGzi8o5y/U9nt8nWtJqKcnsim35I8VeLxjlKT2ybZ2043NvN1OzjFfs8QqlLtBOZ6eLweouciLkVYyLmXizOa1yFUpcyOMvFidi5zRF2hViEy0zOabtCLmRChqmJykYgCg0gncDSDCSUQsCg6DwsaiRqIJIdCVB4SW3EIKI1EmojaJa0rwjwkqBQWUWAkoAhpMltRDp6At8Frh4Wn0/6uB6vVS5fB4SDaaayaaa8z6BcrfWWcJ/dFN+fH3PNujvb6HS5dpxV6qXIDYBwepwu0r1d3lnnNqC67fZHij1fbKbeqgn90n8L8nmdV4ns09sXy+rvLZ/FNBMv1SHq1/wAZ15PN6cszYjVq1yHhXJF5M+nLHQKGzLkgouQ5LGv7ZMI8DNYycljXDJqw1b5GoEOR6cM+AaszQgJyX04UqzGoFo6i2uEK8BLVkqiqS1qBhCgZjoFoJBQKDoRSoFB0GFoYQyARFOp6fszfP/FKDzwSy8nn81PLnV7OzpaSj90fdMxsi8XXTlWcPV958AM4HlfQeZ7TWzlbJfbCK9W2cmp0tPZ28/KH9qOfQ9mHth8rb75RqInQMJtzpACeEeEWcVVB0LMI0iWvFWkNInQQtapGg6EqBQWlI0AlQKC1pEZJIeEWRCFBpE8JJEtqMUMIYSdREWkaCoTAFIUHhGGYBhCg6DwhaRN+g/49mnsba9mY8Jr0VlbWX64mcp7N4R3h7HUR8fUC0DyvoPGdoo/+xPyh/ajmYTr9pqa+tcnCP5RycR68PbD5uyPzkYR0I4gqVi0hNioKhQ2yNSSQ8IEQoWKI1AlrxVpDwlqiFCWvBWoDwFlAFrxQwjwkqBQlrxRoGElQeEWtI0DCSwhQWvEsIYR0AFFhGkAgHQTQCAZo0f8AxbP9a+TMbNERcraC8W/REnw1j5h6bE+b9QHqpcmB5ntcDtJZ52cvOP5ONhPV6dubdi3twNS6bH8nmKHo15fi8O7D87VqI8JYBu3PihhHhJAS1pGg6AAKMBDCgAAB1CoqDoRTqMQwsAKgAUCGFQEFAAIKAkAwUQUGAtaKh1uzVlW1cvtg/Vs5R3+ztIQnJrOTSXkv+zGU9m9cfk7wFHeFyYzi9SVtZqcZReySafVHhrWzcZSi9sW0+h7LvEvD0PP6csqT1lMp7afcjeEuW3G4ty6BQkB1t56RoKhOgCzihQKEwFnFHCPCMBZxKgUGAsogGAsogoMBa0VAGAsohpAAAAAAAAAFQqAECzPU3SywQjHks/PicbQl01lqq7sPql58Eeo1EfH1Oec/Dvqj5ZgNXd4+PqBh1ZCq9XbWxcOO2P6ksjp4VyXoiFsqRdMvLLiCYt4mUWm09qdGvER1NM3Wj1i2Pf8APmcyh1ibeecalECVAoW0pEdBgLXiVAoSoAs4o0AYAogoMBaUQqEhCyiAYhaUAAKCyiGOgUC0QDoOgs4kFBnU0HcdZPHJfRB8f5pcESZajF1dB3bV2ee9J1l6ZI6JmvDo8ssuGRVjfN+pydoim8DDifN+rGFatYua9SFrJNNJ1fJbTKWWG8uvwBCdi2mnFtPJqh5y/wB0lZSo06Pdb4o9iY9J2EbSKjLxo+KfMsTSTFvI1AnerCVnLDLo+DXMqqbc0gIhUCVQqKoVAdQqKoqgpKoVI1CospICIVBSQEajqCjAjUKiykgI1CoKSqBGpZd7GVpJQgqt/HNi1pZdLu7WSisq7W9iXM9bdoQs4qEWqJc1n4mawuMbGzUVnJv6pcW6fAzEzbcRS63WJ1WapwzK9XLk/Q0XbZ1LSKx6t8n6AbQAy93fNe442bj9T2LltNBXb7r6fIEe8Lk/YUvr2ZU5+JnL7rx6AUXnR6tI4ZU8HnVPwPNX+5TsZUlmuElsZ7QxXyzUm1JJp0qn5FiUmLePqKp0r9omUays/qj9v8y/c5b8TTFJ1CpCoVKJ1FUjUKgSqFSIqgSqFSNQqBICNQqBKoVI1CoEgqRqdbRuhZ2lJTrCH+6S8FwIMd0us7V0gq0zk+EVzZ6fR9hZ2EaRTcnvSaVW/wBjTZ3eFnBxhFJJPzfizOZmW4holLHksqZ5ke7vmvcLrtfl+TSRVEZYMnnxyH3hcn7Fd529PyyoDV3hcn7AZgAt7w/D3HG0cnhdKPltKCyw3l1+ALu7rx9URn9GzjzLyi9cOoEe8Pw9ycbNT+p7Xy2GY13fdXX5AXd14+qOdfrnC23opS+6OUuvM6xgYHnbzoi0ju/Wv6d70OfKLTo001tTVGe1sd5F14utnab8Iy81n6muTNPB1Cp6S+6AstsHKFeG8vc5tpoO0W7KMvWLLcMzEuaI3PQ942qzbX9LiyqWjLdf4Np0i2UZqhUv7hbf5U//AJaLLPRVvJ0Vm+rSCd2SoVOxZdnLZ70oR6uT9jWuz0IJOU5T8EsKJcNVLzqOjctDWtrnTBHnPJ9EdywutnDdgl47X6nQu271ZOS8WG56EsrPPOUvulT2XA1O3ayyyyNJhntfmzLS1Wzlk6UeWRZ3dePqjPZby80bQKJxwZrjlmR7w/D3J3rYvMzAaIxx5vyyJd3Xj6oLts6loFXd14+wy0AMBOw3l1+AADYUXrh1AAM5ru+6uvyIALTAwACdjvI2AAFF64eZnAANV33erLQADBLa/NkrLeXmAAbSi9bF5jADMartu9WAAWmGe1+bGABZ7V5o2gAFN62Lz/BmAANN22dS4AAAAAP/2Q==",MV="/assets/circle-9uTdwwdC.jpg",VV=["ENFJ","ENFP","ENTJ","ENTP","ESFJ","ESFP","ESTJ","ESTP","INFJ","INFP","INTJ","INTP","ISFJ","ISFP","ISTJ","ISTP"],PV={ENFP:yS,ENTP:vS,ENTJ:ES,ENFJ:bS,ESTP:_S,ESTJ:AS,ESFP:SS,ESFJ:TS,INFP:wS,INTP:RS,INTJ:CS,INFJ:MS,ISTP:IS,ISTJ:OS,ISFP:NS,ISFJ:DS},xV=()=>{const r=Ys(),t=async n=>{const s=oo.currentUser;if(!s){alert("로그인이 필요합니다.");return}try{const o=Fh(Jh,"users",s.uid);await aM(o,{mbti:n}),alert(`${n}로 저장되었습니다!`),r(`/mbti/${n}`)}catch(o){console.error("MBTI 저장 실패:",o),alert("MBTI 저장 실패: "+o.message)}};return Z.jsxs("div",{className:"signup-container",children:[Z.jsxs("h2",{children:["당신의 ",Z.jsx("span",{className:"mbti",children:"mbti"}),"를",Z.jsx("br",{}),"선택해주세요."]}),Z.jsx("div",{className:"mbti-grid",children:VV.map(n=>Z.jsxs("div",{className:"mbti-option",onClick:()=>t(n),children:[Z.jsx("img",{src:PV[n]||MV,alt:n,className:"mbti-icon"}),Z.jsx("div",{children:n})]},n))})]})},kV={ENFP:{title:"자유로운 낭만주의자",image:yS},ENFJ:{title:"계획에 강한 전략가",image:bS},ENTJ:{title:"효율적인 전략가",image:ES},ENTP:{title:"아이디어 넘치는 도전가",image:vS},ESFJ:{title:"모두를 챙기는 따뜻한 조율자",image:TS},ESFP:{title:"순간을 즐기는 무대의 주인공",image:SS},ESTJ:{title:"체계적인 현실주의자",image:AS},ESTP:{title:"즉흥적이고 에너지 넘치는 행동가",image:_S},INFJ:{title:"깊은 통찰을 가진 이상주의자",image:MS},INFP:{title:"꿈을 좆는 감성적 이상가",image:wS},INTJ:{title:"전략적인 마스터마인드",image:CS},INTP:{title:"호기심 가득한 논리 탐구자",image:RS},ISFJ:{title:"조용히 헌신하는 수호자",image:DS},ISFP:{title:"감각적이고 자유로운 예술가",image:NS},ISTJ:{title:"책임감있는 관리자",image:OS},ISTP:{title:"냉철하고 유연한 문제 해결사",image:IS}},UV=()=>{const{type:r}=Kw(),t=Ys(),n=kV[r];if(!n)return Z.jsx("p",{children:"존재하지 않는 MBTI 유형입니다."});const s=()=>{t("/recommend-sports")};return Z.jsxs("div",{className:"signup-container",style:{textAlign:"center"},onClick:s,children:[Z.jsx("h2",{children:"당신은"}),Z.jsx("h3",{style:{color:"green"},children:n.title}),Z.jsx("img",{src:n.image,alt:r,className:"mbti-icon"}),Z.jsx("p",{style:{marginTop:"10px",fontWeight:"bold"},children:r}),Z.jsx("p",{style:{marginTop:"20px",color:"gray"},children:"화면을 터치해서 다음으로 이동"})]})},LV="/assets/yoga-DOgoCbqp.png",BV="/assets/pilates-BCBbXk-j.png",zV="/assets/swimming-CMNwqnwy.png",jV="/assets/ballet-DmpYzzg_.png",VS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAAA9CAYAAADhwEQLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANRSURBVHhe7ZrhdasgFMdv3wSMwAZlgzJCNzAjdIO4QbNB7AR2A93AZALdgGzwf1+annpRi+EGc97jdw4f4FwJ/EQEyRMAUGaRP7wg45MlBZAlBZAlBZAlBZAlBZAlBZAlBZAlBfB07xX3+Xymtm3pcrnQMAyktSalFFlr6fn5mYfPcj6f6XQ60TAMo3qMMfTy8sLDZcEdcM6hLEsopUBEs0lrjcPhgL7veRXAj3q01t61vJ6yLGfriUVcUtu2v3aKJ601qqq6Sz0SiEoqy9Jr+JpUlqVoPVKISYrt2DVZa72yW5KkKBFJx+PRa+Q1WWtR1/X3fOGcQ13X2O12XuxSmqqnaZrFeg6HA2vpbURL6vt+cu7QWqNpGh4+Yu5aqXqUUnDO8fDVREuaesy01sFvmrkOStUj8dhFS5pqWGjHrkx1cI2gK33fe22RGE1Rktq29Rq12+14WBA/Rd0i6MrUyI5dFkRtSz4/P3kRFUXBi4LQWlPf999Ja81DgphafZ9OJ160Dm5tDfx1rZTiIZvAV/rGGB6yiqiRxLn17ktjjBnlL5fLKL+WKEnDMIzySqlR/l8hShIfOVzaoxB788QlxQ5tCdq2HeU3lcSffSKij48PXpSUqqp4EVlredE6+Ey+hqnFm9aahyWFL0qJCF3X8bBVREnCxDKAiPD29sbDkjC1kJS4adGSmqbxGkZCe6Y1VFXltYEEVtuQkISZ0STVwBDmBFlreehNiEhyzk3OBSlEdV3n/SZF7v84IpIws5O/pt++B91K13XeFoS+tkexk/VPxCQhYaOR+LdEJSFR45dGbV3XPDwacUlYeOMppaLniSVBx+ORh4twF0lYOByImVC3EIR7SoKwqCVB+/2eh4tyV0kA8P7+7nVqragtBSGFJADY7/de50JFOedgjPGuTSUIqSRhQZQxZvY04xEEIaUk3CDq9fXVi00tCKklYUEU32fNHV8XRTGKS0FySQBQFIXXefpxZvdIgrCVJCyImpuDYo+FYthMEhY+sfA0N2elYlNJS2+vRxGErSXhF1Eh66gUbC4JMx/tHkUQHkUSvrYe1znKWvswggDg7v/j/heIOpz8X8iSAsiSAsiSAsiSAsiSAsiSAsiSAsiSAsiSAvgLUlpBVj4lnpkAAAAASUVORK5CYII=",qV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABYCAYAAAADWlKCAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPESURBVHhe7Zshd+JMGIXvrgpy4hpckZWJTCV1QYIrEmwlvwBbCTKSytSVOpDgikxk6hIJrmt2OZ0EWNimyc33vc85FfMOhwN5mJmbTubHx8fHBwQafmYLQrWIEDJECBkihAwRQoYIIUOEkCFCyBAhZIgQMkQIGSKEDBFChgghQ4SQIULIECFk1F5IFEWYz+dI0zTbVUt+1HkLNwgCLJdLAECj0YDneXAcJ/uyWlFLIWmawvd9xHGc7UK73Ua73c6Wa0PthERRhNlsdnKKsiwL/X4fSqlsFz21ErJYLPD8/JwtwzAM7HY7raaUQr/fh2VZWp2dWgjZ7XaYzWbYbDZa3TAM9Ho93Nzc4OXlBa+vr1o/ajiF0QtJ0xSTySQ3RSmlMBgMYJrmvrZarRAEQW60OI4Dz/PQaDS0OiPUQo5dYNu20el0Dl7gJEkwnU4PChwOh/TrCq2Qz5H2M57n4fb2NlvW2G63CIIA6/Vaq9chGtMJORZplVK4v79Hs9nU6qeo47pCJeRYpL2+vka329XWi3OJ4xi+7+fekzUa0wg5Fmld10Wn08mWLyJJEvi+j/f3d63OGI0rF3JOpC2KOkxhlQq5JNIWxbHkxhKNKxNy7MKcirRFwRyNKxHylUhbFKzRuFQhRUbaomBbV0oVMh6Pc9PEVyJtURyLxrZto9frabXvprQdwzAMc1/YdV0Mh8NKZeD3PclgMMDV1ZVWj6JIa5dBaUKyFHF/USSmaeLh4SEnpWwqE/KdKeorVP25KhMiHEaEkFFaygrDENPpdN++JFZGUYQwDLPls3Ec5+ybvclksl/MlVIYjUbZl3wr9ELSNMV4PM6WL+KSC1u1EPop6ysj4w9pmuYiNyv0Qv5v0E9Zq9UKT09P+7bneWftXyyXS+1f+qPR6Kx1RKasC2k2m2i1Wn/9q/p+4l+pnZD/OiKEDBFChgghQ4SQIULIECFkiBAyRAgZIoQMEUKGCCFDhJAhQsgQIWSUJiT7dOJ2u9XaLHze6q1iT6U0IYZhwDCMfXu9XtPtcy8WC+0znbPDWDSlbeHiwDEEpRRardbJLx7HsbYVa9t2brQd4u3tTTvC5rruyV/8oUeNut1u6ccSShWSJAkeHx9zh3QYqeLJd5Q5ZeH3OlL1CaVzsCyrsgfBSx0hf0iSBPP5HJvNhmq0GIYB13Vxd3eX7SqNSoR8Jo5jisRlmibFyK1ciKBT6hoi/B0RQoYIIUOEkCFCyBAhZIgQMkQIGSKEDBFChgghQ4SQIULIECFkiBAyRAgZIoQMEULGLxBXAVLfzcYiAAAAAElFTkSuQmCC",FV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABdCAYAAACinJi8AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAfQSURBVHhe7Zytl+I8G4d/z2viguqoojqqoxhFFagZtShwuHXzB40bV8cqHA5UUaCoooqqrdqoidrXNJwmTaEwDG325Dpnz24/lo9cvZO7d1L++/v3719YjOB/6g5Le7GyDMLKMggryyCsLIOwsgzCyjIIK8sgrCyDsLIMwsoyCCvLIKwsg7CyDMLKMggryyCsLIOwsgziv39lWp8xhizL8OfPH3DOpWOUUnQ6HTiOA0KIdMwkjJXFGMN+v0eSJMiyrCSoCsdx4DgOnp6e4LquerjVGCcrTVNEUYQ0TdVDF0Mpheu6CIIAlFL1cOswRlaaplgsFmCMqYdugu/7rZfWelmMMSwWi5ORRAiB7/vHManT6YAQAs45Pj8/wTlHlmXIsgxpmlZ2mZRSBEEA3/fVQ62g1bKSJMFisahsXAEhBNPptHZUHA4HxHGMOI7VQ0AeZcPhsHXJSGtlRVGE9Xqt7obruuj3+1iv11K0OY6D6XRaPPUsjDFEUaSVRinFZDKpfQHcg1bK0okihKDf7+P5+RkAwDlHGIbSGBYEAfr9fuF/1aOqq22bsNbJ0olyHAej0ajUaIfDAb9+/ZL2TadTOI4j7auL7r3bJKxVFQxdY/m+Xzkedbtd9Ho9ad9isZC2L0GXXDDGMJvNzo6b96A1srIsK4kKggCvr6/SPhU13da9Tl2qxi/RTTZNK2QxxjCfz6V9nufVGn8IIXh5eZH2RVGELMukfefQRXWRJEmw3W7V3XelFbK2262UKFBKz0ZUEV13uFwupe0qOOdYrVYlUY7jlC6WKIoa7Q4bl8UYw2azkfZNJpOL73HU7jBN07ORkGUZwjAsvb/jOJhMJgiCQKofcs4RRZF07j1pXJb65dVGr0tVd6iLBM451ut1KfVHntAUL5bX11fpwlF7gXvSqCzGmDSgU0pL3dkldLvdUiSo0RXHMcIwLF0kKCQ0RTm6z6RLQu5Bo7LUBuv3+xd3fypqY4tkY7PZ4OPjQ1sMppRiPB6XxijB8/Oz9JqbzUYbsd9No7LUikG325W2r0EXCWEYYrValSQBQK/Xw3Q6PfneolAsEIXhe9OYrCzLpMbzPO+qsaoI5xxJkmilqLiui/F4XLtg63metL3b7aTte9BYuWmz2WC1Wh23X15e8PT0JJ1zCnF1//79+zj1UVdSv98/GUlVvL+/H7s/Qgje3t7UU76VxmTN53MkSXLc/vnzJyilxwbnnIMxdpyPYowdBYl/X8pgMDgWgq9hsVhIyYX4zPeiMVlhGH5rv08IgeM40rjoeR5Go5F03iWovcGPHz/w+PgonfOdNDpm3RJCCFzXxWAwwHg8xtvbG0ajkTQeJUlyVUQKOp2OtF2n270ljUQW5xzv7+/q7loQQkApheM4oJSCUoput1vZHak1P92cl2j0qtcQMMbw8fFx3O73+wiCQDrnO2lElvqlab7KqLit/i3WVdTJ3IpwzvHx8SElBpTS4zioQ5wjulJKKR4eHkAplT637/sX1TC/SitkfdcVmqYpdrvdl7u/Ku4tq7Exq8gtG5Lndb/393fMZjPEcXzT1y9yaZR/lUZkqV/yVo0pSkpVBdwilFJ4ngff96U/nufBdd2z4xc03+O7aaQbhHKDec3KpCJZlmG5XJbKVwJdGq9LNHRk+fr5NE2RpqmUxV56I/9VGoksKJlX1UBfh81mgzAMtaJESUmk8UXqloscx8Hj4yOGw2Gp5KSm8t9NY7KKK5BOZWZVcM4xn8+lm1SBkDSZTI5lJXEfJmCMaQWfQj3/2lVU19KYLPUJjv1+L22fgjGGMAylchUKUx1FSUXUlUtq459DXVR67zGrMVlqmUZt+CpYvjRMjUSxZE0nSfD4+Cg1cN2uEJoJR/ViuweNyVK7JTGAn6JK1GAwKE066hCJhoAxVnqtKlSx6sV2DxqThQvniHSiCCEYj8cXVdLV96zT/arjm1pxuReNynp6epKiIY5j7ZVeJapqbDqFmmrX6X51yw+aoFFZhJDSFLxu5et8PteKuiYb03W/p26gkyQpLepRhd+LRmVBsxglVdb7rVar0nTKtaIEahemvr6Ac15aLNpUVKENskj+KE+RKIrA8sWf6gLMwWDwJVHQyKoat5bLpRTRTUYV2iALeXSp6/1ms1lpSXMQBBclE1V0u10pmnXjlu4hhclkIm3fm1bIQr7eTy1BFceSug8q1EVN4YvvpU5Y4gsrhW9Ja2RRSkvT8MVjw+FQ3f0lqlJ43UMKvV7vphfKtbRGFvKrXSeFc372hvlS1JQ/jmPMZrPSGCkeBm8DjU2RnCKOY20K79/4tyqK0zQ67j0TfI5WykKeTqv3V4JbSBNV+6qI7fV6rYkoQWtlIR/4dU/RC1zXPf4GUx1xPF8kut/vK6f7CSEYDoelCn0baLUswW63w3q91kaZgObL0tSpC875UVLVza/Add1SVtomjJCFPMp09z63wP3C+vd7YowsAWMMh8MB2+32bKScguSP8Xie13pJAuNkFWH5bw6m+RMkp+SJuSzHceB5Hh4eHrT3dG3GaFk6RDXi8/MTyBe1kCtW8raRf07Wv0yrKhiW01hZBmFlGYSVZRBWlkFYWQZhZRmElWUQVpZBWFkGYWUZhJVlEFaWQVhZBmFlGYSVZRBWlkFYWQZhZRmElWUQVpZBWFkG8X8IJ1iQUDFJ0QAAAABJRU5ErkJggg==",HV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAhCAYAAABEM4KbAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHBSURBVFhH7ZahksIwEIb/O5EYUHVViSEqKFxVX6Cvh8T0BZAYUEVFNYaoVuGqamhNzkDnLtfhmsLA3Q2fy+5m5ptJNps3a63FL+fdDfxGXpL34v9LFkWBqqq6tdYaTdMAAOq6hjHmU/V4bpLUWiPPc+AslWUZyrIEABhjsNvtnB3juEnyUfx/ScYYwjAEABBCIITo1pxzRFHk7BjH21+YON6SdV27IS8IIaCUuuGreEkWRYHNZuOGvQnDEHEcYzqduqlevCQvz0ocx27qR/b7PYIgAOcceZ6jbVskSYIgCNzS71gPDoeDXS6XbngQaZra7XZrrbX2dDrZNE3ter12y3q5qbvHQinFfD7H8XjsJtQ1niIJoDvmtm3d1DeeJmmMAaV0UPM8RVJrDWMMpJRuqpeHSpZlidVqhSzLIITAYrFwS3p5qCQhBLPZDEmSeD1joyTHTJ22bcEYQxRF3XwfipckYww43ykfLp9hzrmbGoTXxAEApRSUUhBCQAjhpr/QNA2qqoJSClLK0b8ib0mcRY0xg46dUgop5eAm6WOU5IWqqq5ODEopJpOJ96/H5SbJR+HVOM/iJXkvXpL34k9IfgATqUe5o3s6EgAAAABJRU5ErkJggg==",GV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEcAAAA6CAYAAADiDEQAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAUOSURBVHhe7Zqhe7M6FMbf74piFlUUqpiimBlqmKHqqlqz/mNzVVWrqsJ1plU4zJihKmqYZSY1u4bkpinQPWsY330efmpPGqC8zTnvOcn+fH19faGnkn/0gZ7/6MVpoBengV6cBnpxGujFaeBPl1bOOUdRFGCMgRACx3H0KZ3SmThFUSCOYzDG5BghBNPpFISQk7ld0UlYMcaw2WxOhFHHOecn413RiThJkkgBJpMJFosFgiAASoHSNNWu6IbWxFHzic77+zsAwHVduK4LQgiCIMBwOATKkFPhnCPPc+R5Xnm/tjCeczjneHl5QZ7ncsxxHERRJHPJcrkE5xy+7yMMQzkvjmMcDgfYto3ZbAYASNP0ZKUBwO3tLe7u7mBZlhxrA+PirFaryl+XEALP80ApBaUUABBFETzPk3PSNMVutwMA2LaNwWAg5+p4nocoivRhoxgVJ8sybLdbAIDv+3AcB0VRIEkSfSqGwyHm8/nJGOccm83mLKwIIYiiCJZlIUkSuSqn02mr9m9UHBEWhBAsFgs5nuc50jQFpVSuIN/3K8OCc463tzeZX/S5nHMsl0sAQBiG8H1fu4M5WhFHzRmmYYxhtVoBvyCOUbeybRso3agtO47jWP49Go1OPjONUXF835eOpDuMCbIsk/lIfVZbGBXHsizpICJ3mCTLMqBM0GoJ0BZGxUH5xb8DpRSbzQbL5RJPT09YLpfYbreVZYBgMBgA5Y/wGxhLyJRSMMaQZZmsTeqsNkmSSnsXBEEg2wkVtQ7yPA+EEAyHQ7iuq081wtXi1DWRdUWaWgtZloXxeAzbtkEplWGDGmE551iv12fPaqubv0qcKmEsy4Lv+7V1jKigq16IMYb1eg3OORzHwXQ6PblWzEmSBIfD4SThE0Iwm80qn/lTrhJnt9tJyw6CQC71OkSeQUXrIFBDbrFYNN4P2nzTdc9VCVnYquM4CILg4ouoK6yuRlHH9fCpQn2u6PZNcZU4wj2Ox6P+0UXqrqkbr4MxJq8R38cUV4mjVsTb7RaU0rOmUUXs10CpWXTUcXW+CudcJvA4jmXuMe1aV+Wcn7jHZrORVq/mCM45kiSROazO7YqiqNxK1feGTHCVOFDcQ18Jde6hOhJKd7u5ucHn56ccqxNXvxaKO1bVRddytTgCxhgYY6CUXnSPqhJAoO8aqqjONJlMYNt25TxTGBNHRdQydaEhyPMclFIcj0cMBgO4rntW+Klst1tkWQai7Re1xVUJuQp1E1wk7Dpc10UYhoiiCGEYNgoD5X6sbFPaxqg4jDHs93ugzAV1tcxPGY/HMoz2+/1ZUjaNUXFE8wkADw8PxvNB21siOsbFQek2es3By3OspjpIwBvOqRzHkaJ/fHycfGYaowlZ3VJQ+yL97KnOqlFTx6hbGOwX95CNiqM2loQQjEYjFEVRefZkWRZms9mJQFV1jICU/4WhduPfaUyvwWhYiQYU5YuK4xiULzeZTHB/fw+UoaM7jvriURRhPp/LFkI4lPp5m8LA9MoRZFkmN8MHg8HZ2dPz8zOKooDruphMJvK6ujpG3I9zDtu24XneRds3QSviXEKcb1mWhcfHRymaKB7rNrp+G6Nh9V2Ek/GycU2S5KSdqNoE64JOVg6UENKpOkPvis7EQWnxr6+vKIoC5MIZehd0Ks7fTic55/9CL04DvTgN9OI00IvTQC9OA704DfTiNNCL00AvTgO9OA304jTQi9PAv/ocTNL/tFHLAAAAAElFTkSuQmCC";function $p(){const{pathname:r}=ir();return Z.jsxs("div",{className:"tabbar",children:[Z.jsx(Xa,{to:"/",children:Z.jsx("img",{src:qV,alt:"홈",className:"tab-icon"})}),Z.jsx(Xa,{to:"/recommend-sports",children:Z.jsx("img",{src:FV,alt:"운동",className:"tab-icon"})}),Z.jsx(Xa,{to:"/recommend-foods",children:Z.jsx("img",{src:HV,alt:"식단",className:"tab-icon"})}),Z.jsx(Xa,{to:"/settings",children:Z.jsx("img",{src:GV,alt:"설정",className:"tab-icon"})})]})}const QV={INFP:[{title:"요가",description:"호흡과 명상을 기반으로 하는 운동인 요가는 근육의 유연성과 가동범위를 늘려줄 뿐만 아니라 신경의 안정과 스트레스 감소에도 효과적이에요.",image:LV},{title:"필라테스",description:"정적인 근력 운동인 필라테스는 코어의 안정성과 유연성을 동시에 요구하며 몸의 깊은 곳의 근육을 기를 수 있는 운동입니다.",image:BV},{title:"수영",description:"물속에서의 고요함과 릴렉스를 느껴보세요! 수영은 부상의 위험이 적으며 여러 부위의 근육을 동시에 자극하는 전신 유산소 운동이에요.",image:zV},{title:"발레",description:"우아해 보이는 예술 중 하나인 발레는 자세 교정, 유연성, 집중력 모두 갖춘 운동. 고도의 몸의 표현과 지세변화뿐만 아니라 감성까지 자극합니다.",image:jV}]};function KV(){const[r,t]=G.useState(""),[n,s]=G.useState([]),[o,u]=G.useState(!0);return G.useEffect(()=>{(async()=>{const m=oo.currentUser;if(!m){u(!1);return}try{const p=Fh(Jh,"users",m.uid),g=await KA(p);if(g.exists()){const b=g.data().mbti;t(b),s(QV[b]||[])}}catch(p){console.error("MBTI 로드 실패",p)}u(!1)})()},[]),o?Z.jsx("p",{children:"로딩 중…"}):Z.jsxs("div",{className:"recommend-container",children:[Z.jsx("h1",{children:r?Z.jsxs(Z.Fragment,{children:[Z.jsx("span",{className:"highlight",children:r})," 타입에게 추천하는 운동!"]}):"추천 운동을 불러올 수 없습니다."}),Z.jsx("p",{className:"subtext",children:r?`${r} 분들은 주로 이런 운동을 좋아하십니다 :)`:"로그인 상태를 확인해 주세요."}),Z.jsx("div",{className:"sports-list",children:n.map(f=>Z.jsxs("div",{className:"sport-card",children:[Z.jsx("img",{src:f.image,alt:f.title,className:"sport-img"}),Z.jsxs("div",{className:"sport-info",children:[Z.jsx("h3",{children:f.title}),Z.jsx("p",{children:f.description})]}),Z.jsx("img",{src:VS,alt:"heart",className:"heart-icon"})]},f.title))}),Z.jsx($p,{})]})}const YV="/assets/chicken-DV9mkaA9.png",XV="/assets/packerel-CaXOj6Rg.png",JV="/assets/gullsoup-BmPK-x8U.png",ZV="/assets/brown_rice-BMlMw2bB.png",WV={INFP:[{title:"닭백숙",description:"고단백 식품으로 유명한 닭백숙은 면역력 향상과 피로 회복에 효과적이에요. 포만감이 높고 지방은 적어 다이어트 식단으로도 적합합니다.",image:YV},{title:"고등어구이",description:"오메가-3 지방산이 풍부한 고등어는 심혈관 건강에 도움을 주고, 뇌 기능 향상에도 효과적입니다. 담백한 맛이 특징이에요.",image:XV},{title:"굴국밥",description:"철분과 아연이 풍부한 굴은 면역력 강화와 혈액순환에 좋아요. 따뜻한 국밥으로 속을 편안하게 채워줍니다.",image:JV},{title:"현미밥",description:"식이섬유가 풍부하고 포만감이 오래가는 현미는 혈당 조절에 도움을 주고, 장 건강에도 좋아요.",image:ZV}]};function $V(){const[r,t]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(!0);G.useEffect(()=>{(async()=>{const p=oo.currentUser;if(p){const g=await KA(Fh(Jh,"users",p.uid));if(g.exists()){const E=g.data();t(E.nickname),s(E.mbti)}}u(!1)})()},[]);const f=WV[n]||[];return o?Z.jsx("p",{children:"사용자 정보를 불러오는 중..."}):Z.jsxs("div",{className:"recommend-container",children:[Z.jsxs("h1",{children:[Z.jsx("span",{className:"highlight",children:r}),"님을 위한 식단 추천"]}),Z.jsx("p",{className:"subtext",children:"균형 잡힌 식단으로 건강도, 기분도 챙겨보세요 :)"}),Z.jsx("div",{className:"sports-list",children:f.map(m=>Z.jsxs("div",{className:"sport-card",children:[Z.jsx("img",{src:m.image,alt:m.title,className:"sport-img"}),Z.jsxs("div",{className:"sport-info",children:[Z.jsx("h3",{children:m.title}),Z.jsx("p",{children:m.description})]}),Z.jsx("img",{src:VS,alt:"heart",className:"heart-icon"})]},m.title))}),Z.jsx($p,{})]})}function tP(){return Z.jsxs("div",{children:[Z.jsx(oR,{}),Z.jsx($p,{})]})}function eP(){const[r,t]=G.useState({}),n=u=>{t(f=>({...f,...u}))},s=u=>{t(f=>({...f,...u}))},o=u=>{const f={...r,mbti:u};console.log("최종 회원가입 정보:",f)};return Z.jsxs(uR,{children:[Z.jsx(ci,{path:"/",element:Z.jsx(FR,{})}),Z.jsx(ci,{path:"/login",element:Z.jsx(DV,{})}),Z.jsx(ci,{path:"/signup/step1",element:Z.jsx(OV,{onNext:n})}),Z.jsx(ci,{path:"/signup/step2",element:Z.jsx(NV,{onSubmit:s})}),Z.jsx(ci,{path:"/select-mbti",element:Z.jsx(xV,{onSelect:o})}),Z.jsx(ci,{path:"/mbti/:type",element:Z.jsx(UV,{})}),Z.jsxs(ci,{element:Z.jsx(tP,{}),children:[Z.jsx(ci,{path:"/recommend-sports",element:Z.jsx(KV,{})}),Z.jsx(ci,{path:"/recommend-foods",element:Z.jsx($V,{})})]})]})}pw.createRoot(document.getElementById("root")).render(Z.jsx(ow.StrictMode,{children:Z.jsx(VR,{children:Z.jsx(eP,{})})}));
